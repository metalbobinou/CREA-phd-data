département
éducation
technologie
•
formulaire
en
html
•
javascript
css
•
php
•
mysql
•
démarcher
de
conception
développer
application
avec
php
mysql
étienne
vandeput
5.87
juin
2005
centre
pour
formation
à
l'informatique
dans
secondaire

publier
sur
web
-
perfectionnement
remarque
pour
améliorer
note
être
bienvenues.
pouvoir
envoyer
à
:
etienne.vandeput@fundp.ac.be
étienne
vandeput
–
©
cefis
2005
2

publier
sur
web
-
perfectionnement
table
matière
1.
formulaire
en
html
..........................................................................
6
1.1
introduction
................................................................................................................................................6
1.2
formulaire
(element
«form»)..............................................................................................................6
1.2.1
attribut
importants.....................................................................................................................................................7
1.2.2
contenu
formulaire
................................................................................................................................................8
1.3
l'element
«textarea».................................................................................................................................8
1.3.1
1.4
attribut
importants..................................................................................................................................8
l'element
«select»
......................................................................................................................................9
1.4.1
attribut
importants..................................................................................................................................9
1.4.2
attribut
importants
de
l'élément
«option».............................................................................................10
1.5
l'element
«input»
......................................................................................................................................11
1.5.1
champ
texte
<input
type="text">
.........................................................................................................................11
1.5.2
champ
texte
spécial
mot
de
passe
<input
type="password">...............................................................................11
1.5.3
champ
texte
spécial
référence
de
fichier
<input
type="file">
..............................................................................12
1.5.4
bouton
simple
<input
type="button">..................................................................................................................12
1.5.5
bouton
radio
<input
type="radio">
......................................................................................................................12
1.5.6
bouton
d'envoi
<input
type="submit">
................................................................................................................13
1.5.7
bouton
d'envoi
imager
<input
type="image">.......................................................................................................14
1.5.8
bouton
de
réinitialisation
<input
type="reset">
...................................................................................................14
1.5.9
case
à
cocher
<input
type="checkbox">
..............................................................................................................15
1.5.10
champ
cacher
<input
type="hidden">
..............................................................................................................16
1.6
attribut
vs
methodes
.............................................................................................................................16
1.7
gestion
evenements
......................................................................................................................17
1.7.1
élément
«
form
»
transmission
données..........................................................................................................17
1.7.2
élément
«
textarea
»..................................................................................................................................................19
1.7.3
élément
«
select
»
.....................................................................................................................................................20
1.7.4
élément
«
input
»
......................................................................................................................................................20
1.8
autres
evenements,
autres
elements
...................................................................................................20
1.9
exercice
.....................................................................................................................................................20
1.9.1
rendre
champ
texte
inaccessible..........................................................................................................................21
1.9.2
donner
focus
à
élément
précis
.........................................................................................................................21
1.9.3
permettre
l’exécution
d’une
action
en
fonction
choix
d’un
bouton
radio
............................................................21
1.10
style
css
............................................................................................................................................22
1.10.1
feuille
de
style
....................................................................................................................................................22
1.10.2
règle.....................................................................................................................................................................23
1.10.3
sélecteur
...............................................................................................................................................................23
1.10.4
exemple
..............................................................................................................................................................24
étienne
vandeput
–
©
cefis
2005
3

publier
sur
web
-
perfectionnement
1.10.5
cascade
............................................................................................................................................................24
1.10.6
exercice
................................................................................................................................................................25
1.10.7
localisation
feuille
de
style
........................................................................................................................26
1.11
formulaire
javascript
...............................................................................................................27
1.11.1
script
généraux
...................................................................................................................................................27
1.11.2
script
lier
formulaire
..................................................................................................................................30
1.12
exercice
.......................................................................................................................................................35
2.
langage
php
...............................................................................................
36
2.1
en
consister
php
?
..............................................................................................................................36
2.2
qu’offre
php?
............................................................................................................................................37
2.3
base
langage
................................................................................................................................38
2.3.1
élément
de
syntaxe
..................................................................................................................................................38
2.3.2
variables
...................................................................................................................................................................39
2.3.3
constante
...........................................................................................................................................................44
2.3.4
types.........................................................................................................................................................................44
2.3.5
opérateur
.................................................................................................................................................................47
2.3.6
fonction
...................................................................................................................................................................48
2.3.7
expression
...............................................................................................................................................................49
2.3.8
instruction
de
contrôle
.............................................................................................................................................49
2.4
exercice
.......................................................................................................................................................51
2.5
tableau
en
php
.................................................................................................................................54
2.5.1
créer
tableau
........................................................................................................................................................54
2.5.2
fonction
lier
tableaux......................................................................................................................................54
2.6
session
.................................................................................................................................................55
2.6.1
création
d’un
nouvel
utilisateur
................................................................................................................................55
2.6.2
authentification
d’un
utilisateur
...............................................................................................................................55
2.6.3
identificateur
de
session
............................................................................................................................................55
2.7
inclusion
de
fichier
........................................................................................................................56
2.8
exercice
.......................................................................................................................................................58
3.
mysql
....................................................................................................................
59
3.1
l'association
entre
mysql
php........................................................................................................59
3.2
conception
d'une
base
de
donnees
....................................................................................................60
3.3
3.2.1
schéma
era............................................................................................................................................................60
3.2.2
entités,
associations,
attributs,
rôle
cardinalités...................................................................................................60
3.2.3
transformation
en
tables...........................................................................................................................................61
3.2.4
association
ternaires................................................................................................................................................62
3.2.5
clé
étrangères
..........................................................................................................................................................62
table
contenus..................................................................................................................63
étienne
vandeput
–
©
cefis
2005
4

publier
sur
web
-
perfectionnement
3.3.1
structure
d'une
table..................................................................................................................................................63
3.3.2
type
d'informations.................................................................................................................................................63
3.4
primitif
de
gestion
d'une
base
de
donnees
.................................................................................65
3.4.1
accès
à
bd
à
table
..................................................................................................................................65
3.4.2
création
gestion
contenu
d'une
bd
..................................................................................................................66
3.4.3
gestion
d'une
bd
avec
phpmyadmin
.....................................................................................................................74
3.4.4
sélection
d'informations
dans
un
bd
......................................................................................................................75
3.4.5
sélection
multi-tables
..............................................................................................................................................79
3.5
gerer
un
bd
avec
php
............................................................................................................................85
3.5.1
principe
de
communication
..................................................................................................................................85
3.5.2
fonction
php.....................................................................................................................................................85
3.6
bilan.............................................................................................................................................................90
3.7
exercice
.......................................................................................................................................................90
4.
application.......................................................................................................
91
4.1
introduction
..............................................................................................................................................91
4.2
enonce
a
raffiner
................................................................................................................................91
4.3
un
bon
schema
conceptuel
......................................................................................................................92
4.3.1
premier
ébauche
......................................................................................................................................................92
4.3.2
amélioration
schéma
..........................................................................................................................................93
4.4
schema
logique
.....................................................................................................................................94
4.5
construction
d'une
interface
...........................................................................................................95
4.5.1
utilité
........................................................................................................................................................................95
4.5.2
utilisabilité................................................................................................................................................................96
4.5.3
création
de
modèle
..................................................................................................................................................96
4.5.4
connexion...........................................................................................................................................................105
4.5.5
scripts................................................................................................................................................................109
4.6
4.7
base
de
donnees
..................................................................................................................................126
4.6.1
table
eleve
..........................................................................................................................................................126
4.6.2
table
maitre.........................................................................................................................................................127
4.6.3
table
lieu.............................................................................................................................................................127
4.6.4
table
stage...........................................................................................................................................................128
structure
site
....................................................................................................................................128
étienne
vandeput
–
©
cefis
2005
5

publier
sur
web
-
perfectionnement
1.
formulaire
en
html
1.1
introduction
depuis
premier
développements,
html
inclure
éléments1
permettre
communication
entre
client
web
serveur
capable
de
recevoir
information
de
client,
de
stocker
et/ou
d'effectuer
traitement
en
dépendant.
réalisation
de
site
web
interactifs
création
de
page
web
dynamiques
demander
communication
être
possible.
dès
lors,
connaissance
de
élément
être
déterminante
constituent,
en
sorte,
l'interface
de
communication
entre
l'internaute
application
être
développer
sur
serveurs.
dans
chapitre,
intéresser
à
de
éléments,
à
attribut
possibles,
information
aller
être
véhiculer
vers
serveur
qu'à
forme.
application
côté
serveur
être
développer
dans
langage
qualifier
de
langage
de
script.
php
être
langage
de
script
avoir
choisi2
pour
illustrer
mécanisme
de
construction
dynamique
page
web.
langage
être
capable
de
communiquer
d'exploiter
donnée
gérer
par
de
nombreux
sgbd3.
intéresser
à
application
exploiter
base
de
donnée
gérer
par
sgbd
mysql
combinaison
de
deux
outil
(langage
de
script
sgbd)
sembler
fréquente
parmi
nombreuses
combinaison
possibles.
c'est
apparaître
adapter
application
exploiter
internet
technologies.
base
de
donnée
gérer
via
site
web
être
particulières
comprendre
d'enregistrements
par
rapport
à
autres
type
d'application.
mysql
être
adapter
à
type
de
base
de
donnée
en
sens
qu'il
offrir
juste
service
qu'il
faut,
avec
l'efficacité
souhaitée.
observation
importante
:
fait
de
confier
l'exécution
de
script
à
serveur
n'exclut
possibilité,
pour
client,
d'exécuter
script
localement.
c'est
cas,
par
exemple,
lorsqu'on
souhaiter
faire
valider
donnée
avant
de
envoyer.
traitement
être
répartir
entre
client
serveur
même
l'objet
de
ouvrage
être
de
s'intéresser
script
côté
serveur.
1.2
formulaire
(élément
«form»)
formulaire
être
élément
rendre
possible
fourniture
d'un
nombre
de
donnée
l'exécution
d'une
action
par
un
serveur.
simple
exemple,
pour
avoir
accès
à
service
sur
web
(commande
en
ligne,
cours
en
ligne,
homebanking,…)
devoir
fournir
identificateur
(login)
mot
de
passe
(password).
fourniture
de
information
faire
travers
d'un
formulaire
(zones
à
compléter).
en
fonction
donnée
reçues,
l'application
construire
page
web
dépendre
donnée
reçues.
dans
cas,
s’agit
d’une
pager
personnaliser
(voir
ci-après).
1
p,
h1,
a,
form
être
élément
sens
de
html.
2
en
concerner
langage
de
script,
développeur
avoir
choix.
être
langage
utilisables
pouvoir
être
distribuer
connaître
grand
succès.
parmi
eux,
php,
python
dans
moindre
mesure
perl
sembler
placer
dans
hit
parader
développeurs.
3
système
de
gestion
de
base
de
donnée
étienne
vandeput
–
©
cefis
2005
6

publier
sur
web
-
perfectionnement
en
html,
formulaire
correspondre
à
l'élément
form.
élément
contenir
élément
interactifs
aller
décrire
par
suite
(champs
de
texte,
boutons,
case
à
cocher,…).
élément
interactifs
permettre
d'encoder
de
sélectionner
donnée
à
transmettre
serveur.
verrons,
pouvoir
contenir
élément
cacher
être
donnée
à
transmettre
serveur.
document
html
pouvoir
contenir
formulaires4
ceux-ci
pouvoir
être
imbriqués.
1.2.1
attribut
importants
1.2.1.1
action
attribut
être
obligatoire.
valeur
être
url5
(adresse
absolue
relative)
préciser
script
devoir
recevoir
donnée
être
exécuter
sur
serveur.
en
général,
script
avoir
pour
but
de
créer
page
html
être
renvoyer
client
web.
1.2.1.2
method
n'y
avoir
deux
valeur
possibles:
get
post.
méthode
get
concaténer
donnée
à
fin
de
l'url
script
méthode
post
envoyer
donnée
dans
corps
de
requête.
méthode
post
être
préférable
pour
série
de
raison
notamment,
confidentialité.
1.2.1.3
name
attribut
permettre
de
nommer
formulaire.
n'est
d'aucune
utilité
pour
serveur
pouvoir
servir
à
script
local.
4
faut-il
trouver
illustration
intéressante
de
possibilité…
5
de
serveur
être
sensibles
à
casse
nom
de
fichier
de
dossiers.
convient
d'être
prudent
dans
l'écriture
de
l'url.
voir
qu'une
url
vide
avoir
sens
dans
circonstances.
étienne
vandeput
–
©
cefis
2005
7

publier
sur
web
-
perfectionnement
dans
l'illustration
précède,
voir
code
engendrer
par
macromedia
dreamweaver
mx
de
l'insertion
d'un
formulaire
dans
document
html.
nom
par
défaut
être
donner
l'action
par
défaut
être
vide.
méthode
choisir
être
post.
1.2.2
contenu
formulaire
attribut
n'ont
sens
formulaire
n'a
de
contenu.
l'élément
form
être
élément
aller
en
contenir
d'autres
porteur
d'informations
d'instructions.
trouver
trois
type
d'éléments
dans
formulaire:
•
textarea:
pour
définir
zone
de
texte
•
select:
pour
sélectionner
information
dans
liste
•
input:
pour
autres
type
d'entrées
être
élément
aller
décrire
maintenant.
1.3
l'élément
«textarea»
employer
élément
lorsqu'il
avoir
ligne
de
texte
à
entrer.
ainsi,
lorsqu'on
souhaiter
réaliser
application
de
webmail,
être
zone
de
rédaction
message
devoir
s'étendre
sur
lignes.
valeur
par
défaut
être
4
ligne
de
40
caractères.
attribut
suivre
permettre
de
modifier
valeurs.
élément
nécessiter
balise
initiale
balise
finale.
texte
par
défaut
pouvoir
trouver
entre
deux
balises.
être
à
noter
texte
n'est
limiter
dans
taille,
pouvoir
révéler
gênant
dans
perspective
de
stockage
dans
base
de
données,
par
exemple.
contrôle
pouvoir
être
effectué,
par
script
local,
être
par
script
php
niveau
serveur.
1.3.1
attribut
importants
1.3.1.1
name
zone
de
texte
devoir
porter
nom
vouloir
l'exploiter
en
php.
nom
correspondre
nom
d'une
variable
en
php.
c'est
moment
de
souvenir
langage
être
sensible
à
casse.
objet
interactifs
porter
même
nom,
php
prendre
en
compte
dernier.
nom
devoir
commencer
par
lettre
caractère
_
suivre
de
lettres,
chiffre
caractère
_.
1.3.1.2
rows
attribut
préciser
hauteur
de
zone
de
texte,
n'en
limiter
taille.
étienne
vandeput
–
©
cefis
2005
8

publier
sur
web
-
perfectionnement
1.3.1.3
col
attribut
spécifier
nombre
de
colonne
visibles
correspondre
nombre
de
caractères.
exemple
de
code
de
interprétation
dans
navigateur.
<form
name="form1"
method="post"
action="">
<p><font
size="2"
face="verdana,
arial,
helvetica,
sans-serif"><strong>objectifs
cours</strong></font></p>
<textarea
name="textarea"
cols="60"
rows="10"></textarea>
</form>
1.4
l'élément
«select»
élément
définir
menu
dérouler
dans
l'utilisateur
aller
pouvoir
sélectionner
informations.
information
être
définir
grâce
à
élément
option
être
inclure
entre
deux
balise
de
l'élément
select.
noter
élément
décrire
jusqu'ici
pouvoir
être
voir
bloc
contenir
d'autres
blocs.
l'élément
form
contenir
élément
textarea,
select,…
l'élément
(bloc)
select
contenir
élément
option.
formulaire
pouvoir
contenir
élément
select.
php
créer
variable
tableau
(en
cas
de
sélection
multiple)
pour
élément
select.
variable
tableau
porter
même
nom
l'élément.
option
select
textarea
form
1.4.1
attribut
importants
1.4.1.1
name
pour
raison
précèdent,
attribut
être
indispensable.
attention,
en
cas
de
sélection
multiple
possible,
nom
devoir
terminer
par
crochet
([]).
1.4.1.2
multiple
attribut
autoriser
sélection
multiples
dans
liste.
étienne
vandeput
–
©
cefis
2005
9

publier
sur
web
-
perfectionnement
1.4.1.3
size
attribut
spécifier
nombre
d'items
visibles
de
liste.
en
absence,
seul
être
visible.
1.4.2
attribut
importants
de
l'élément
«option»
élément
n'est
objet
de
formulaire
composante
de
l'élément
select.
nécessiter
balise
initiale
balise
finale.
1.4.2.1
value
l'attribut
préciser
valeur
être
envoyer
script
être
afficher
dans
liste.
être
en
effet
simple,
parfois,
d'envoyer
valeur
techniques
simples
à
manipuler
en
afficher
choix
compréhensibles.
1.4.2.2
selected
option
avoir
attribut
correspondre
à
valeur
présélectionnées.
n'est
nécessaire
qu'il
ait.
dans
cas
d'une
sélection
simple,
s'il
avoir
plusieurs,
seule
dernière
être
prendre
en
compte.
liste
être
déroulante,
c'est
premier
option
ou,
cas
échéant,
l'option
présélectionner
apparaît.
deux
exemple
inclure
type
d'éléments
concernés.
<p><font
size="2"
face="verdana,
arial,
helvetica,
sans-serif"><strong>type
de
cours</strong></font></p>
<select
name="typecours"
size="4">
<option
value="0"
selected>inconnu</option>
<option
value="1">pr&eacute;senciel</option>
<option
value="2">&agrave;
distance</option>
<option
value="3">semi-pr&eacute;senciel</option>
</select>
<p><font
size="2"
face="verdana,
arial,
helvetica,
sans-serif"><strong>type
de
cours</strong></font></p>
<select
name="typecours">
<option
value="0"
selected>inconnu</option>
<option
value="1">pr&eacute;senciel</option>
<option
value="2">&agrave;
distance</option>
<option
value="3">semi-pr&eacute;senciel</option>
</select>
étienne
vandeput
–
©
cefis
2005
10

publier
sur
web
-
perfectionnement
1.5
l'élément
«input»
élément
correspondre
à
panoplie
d'objets
de
formulaire.
c'est
l'attribut
type
de
élément
input
distingue.
aller
examiner
différents
objets,
un
après
autres.
formulaire
pouvoir
évidement
contenir
élément
input.
l'élément
input
n'a
qu'une
seule
balise.
1.5.1
champ
texte
<input
type="text">
attribut
définir
champ
texte
d'une
seule
ligne.
php
créer
variable
porter
nom
champ
valeur
être
l'information
dernier
contient.
attribut
courants
sont:
1.5.1.1
name
voir
1.5.1.2
value
valeur
par
défaut
champ
texte
1.5.1.3
size
taille
(approximative)
d'affichage
champ
texte
1.5.1.4
maxlength
nombre
de
caractère
admettre
1.5.1.5
accesskey
créer
raccourci-clavier
pour
accéder
champ
petit
exemple.
<p><font
size="2"
face="verdana,
arial,
helvetica,
sans-serif">
<strong><u>d</u>&eacute;nomination</strong></font></p>
<p>
<input
name="denomination"
type="text"
size="50"
maxlength="80"
accesskey="d">
</p>
raccourci-clavier
alt-d
premettra
d'accéder
champ
texte.
l'attribut
accesskey
exister
pour
élément
textarea
select.
1.5.2
champ
texte
spécial
mot
de
passe
<input
type="password">
l'attribut
définir
champ
texte
particulier
l'information
introduire
dans
champ
n'est
lisible
à
l'écran.
falloir
savoir
mot
de
passe
être
transmettre
en
serveur.
être
possible
de
demander
à
php
encryptage
par
suite.
pour
champ
texte
ordinaire,
php
créer
variable
porter
nom
champ.
attribut
courants
être
mêmes
champ
texte
normal.
étienne
vandeput
–
©
cefis
2005
11

publier
sur
web
-
perfectionnement
1.5.3
champ
texte
spécial
référence
de
fichier
<input
type="file">
dans
champ
texte
particulier,
l'information
être
référence
absolue
locale
d'un
fichier
l'on
vouloir
transférer
serveur.
l'usage
de
fonctionnalité
nécessiter
méthode
d'envoi
formulaire
post
l'attribut
enctype,
n’avons
parlé,
présent
avec
valeur
multipart/form-data.
champ
être
accompagner
d'un
bouton
«parcourir»
ouvre
fenêtre
de
l'explorateur.
<p><font
size="2"
face="verdana,
arial,
helvetica,
sans-serif">
<strong>t&eacute;l&eacute;verser</strong></font></p>
<p>
<input
type="file"
name="telechargement">
</p>
attribut
courants
être
mêmes,
n'est
l'attribut
valoir
n'est
utilisé.
1.5.4
bouton
simple
<input
type="button">
l'attribut
définir
bouton
simple.
l'intérêt
de
type
de
bouton
résider
dans
l'exécution
de
script
locaux.
donner
n'est
envoyer
serveur
lorsqu'un
bouton
être
activé.
mentionner
attributs:
1.5.4.1
name
nom
bouton
1.5.4.2
value
étiquette
1.5.4.3
disabled
état
(désactivé)
1.5.4.4
accesskey
créer
raccourci-clavier
pour
accéder
bouton
<input
name="validation"
type="button"
id="validation"
value="validation
donn&eacute;es"
disabled>
1.5.5
bouton
radio
<input
type="radio">
bouton
radio
être
utiliser
en
groupe.
seul
d'entre
pouvoir
être
actif
à
fois.
groupe
de
bouton
porter
nom
être
de
variable
php
contenir
valeur
bouton
sélectionné.
citer
attributs:
1.5.5.1
name
nom
groupe
de
bouton
étienne
vandeput
–
©
cefis
2005
12

publier
sur
web
-
perfectionnement
1.5.5.2
value
valeur
bouton
(information
transmise)
1.5.5.3
checked
sélection
bouton
1.5.5.4
accesskey
raccourci-clavier
exemple:
<p><font
size="2"
face="verdana,
arial,
helvetica,
sans-serif"><strong>type
d'enseignement</strong></font></p>
<p>
<input
type="radio"
name="type"
value="1">
<font
size="2"
face="verdana,
arial,
helvetica,
sans-serif">général</font>
<br>
<input
type="radio"
name="type"
value="2">
<font
size="2"
face="verdana,
arial,
helvetica,
sans-serif">technique</font>
<br>
<input
type="radio"
name="type"
value="3">
<font
size="2"
face="verdana,
arial,
helvetica,
sans-serif">professionnel</font>
</label>
</p>
1.5.6
bouton
d'envoi
<input
type="submit">
grâce
à
attribut,
bouton
être
déclencheur
de
l'envoi
donnée
script
décrire
dans
l'attribut
action
de
l'élément
form.
formulaire
pouvoir
contenir
bouton
d'envoi.
dans
cas,
c'est
script
de
choisir
traitement
à
effectuer
en
fonction
de
valeur
bouton.
d'habitude,
php
créer
variable
porter
nom
de
bouton.
attribut
importants
sont:
1.5.6.1
name
nom
bouton
nécessaire
pour
création
de
variable
1.5.6.2
value
valeur
bouton
nécessaire
pour
éventuel
choix
de
script
1.5.6.3
accesskey
caractère
pour
raccourci-clavier
d'accès
rapide
bouton
<input
name="envoi"
type="submit"
id="envoi"
value="envoyer">
étienne
vandeput
–
©
cefis
2005
13

publier
sur
web
-
perfectionnement
1.5.7
bouton
d'envoi
imager
<input
type="image">
bouton
d'envoi
image
jouer
même
rôle
bouton
d'envoi
classique.
différence
résider
dans
fait
source
de
l'image
devoir
être
fournie.
de
plus,
coordonnées
précises
de
l'endroit
l'on
avoir
cliquer
être
envoyées.
nom
deux
variables
être
constituer
nom
bouton
suivre
symbole
_x
_y.
attribut
à
retenir
sont:
1.5.7.1
name
nom
bouton
image
1.5.7.2
src
localisation
de
l'image
1.5.7.3
alt
texte
alternatif
(si
l'image
pouvoir
être
affichée)
1.5.7.4
accesskey
caractère
pour
raccourci-clavier
éventuel
d'accès
bouton
<input
name="cathedrale"
type="image"
id="cathedrale"
src="/images/cathedrale.jpg"
alt="saint-aubain"
width="100"
height="80"
border="0">
1.5.8
bouton
de
réinitialisation
<input
type="reset">
bouton
de
réinitialisation
permettre
à
objet
formulaire
de
reprendre
valeur
initiale.
n'y
avoir
information
envoyer
serveur
celui-ci
être
activé.
attribut
essentiels
sont:
1.5.8.1
name
nom
bouton
1.5.8.2
value
étiquette
1.5.8.3
accesskey
caractère
pour
raccourci-clavier
<input
name="initialisation"
type="reset"
id="initialisation"
value="r&eacute;tablir">
étienne
vandeput
–
©
cefis
2005
14

publier
sur
web
-
perfectionnement
1.5.9
case
à
cocher
<input
type="checkbox">
l'attribut
faire
de
objet
case
à
cocher.
être
possible
nécessaire
de
grouper
case
à
cocher.
php
créer
variable
pour
case
à
cocher
tableau
pour
groupe
de
case
à
cocher.
case
case
dans
cas
d'un
groupe
devoir
être
cocher
pour
variable
tableau
être
créé.
programmation
devoir
veiller
à
s'assurer
qu'une
variable
tableau
existe.
attribut
importants
sont:
1.5.9.1
name
nom
de
case
être
de
variable;
dans
cas
d'un
groupement,
falloir
donner
même
nom
à
case
faire
suivre
nom
de
crochet
([]).
1.5.9.2
value
valeur
transmettre
script
correspondre
à
l'affichage
1.5.9.3
checked
pour
signaler
case
cocher
1.5.9.4
accesskey
caractère
pour
raccourci-clavier
<p><font
size="2"
face="verdana,
arial,
helvetica,
sans-serif"><strong>cours
choisis</strong></font></p>
<p>
<strong><font
size="2"
face="verdana,
arial,
helvetica,
sans-serif">
<input
type="checkbox"
name="cours"
value="1">
</font></strong><font
size="2"
face="verdana,
arial,
helvetica,
sans-serif">
math
</font></p>
<p>
<font
size="2"
face="verdana,
arial,
helvetica,
sans-serif">
<input
type="checkbox"
name="cours"
value="2">
fran&ccedil;ais</font></p>
<p>
<font
size="2"
face="verdana,
arial,
helvetica,
sans-serif">
<input
type="checkbox"
name="cours"
value="3">
physique</font></p>
<p>
<font
size="2"
face="verdana,
arial,
helvetica,
sans-serif">
<input
type="checkbox"
name="cours"
value="4">
histoire</font></p>
étienne
vandeput
–
©
cefis
2005
15

publier
sur
web
-
perfectionnement
1.5.10
champ
cacher
<input
type="hidden">
l'attribut
conférer
champ
statut
«caché».
l'intérêt
résider
dans
possibilité
de
transmettre
serveur
valeur
être
disponibles
niveau
navigateur.
c’est
de
pallier
caractère
«
sans
état
»
de
http.
variable
porter
nom
champ
être
créée.
attribut
sont:
1.5.10.1
name
nom
champ
cacher
1.5.10.2
value
valeur
à
transmettre
<input
name="login"
type="hidden"
id="login"
value="eva">
1.6
attribut
vs
méthode
sans
entrer
dans
grand
détail,
rappeler
javascript
être
langage
de
script
interpréter
par
client
(le
navigateur
web)
langage
être
langage
«
orienter
objet
»6.
s’appuie
sur
document
object
model
(dom)
développer
par
consortium
w37.
parmi
«
objet
»,
trouver
sûr
formulaire
objet
qu’ils
pouvoir
contenir.
javascript
définir
méthode
qu’il
être
possible
d’invoquer
sur
objets.
intéresser
à
méthode
être
donner
programmation
en
javascript
n’est
sujet
principal
de
ouvrage.
en
revanche,
avoir
besoin
propriété
événement
détectables
niveau
objet
traduire
en
attribut
élément
correspondants.
à
titre
d’exemple,
pour
formulaire
attribut
méthode
disponibles.
attribut
possibles
de
l’élément
formulaire
(du
point
de
vue
html)
•
propriété
:
name
:
nom
formulaire
action
:
l’adresse
script
de
serveur
à
exécuter
method
:
méthode
d'appel
script
(get
post)
•
événement
:
onsubmit
:
pour
détecter
soumission
formulaire
onreset
:
pour
détecter
réinitialisation
exister
d’autres
être
spécifiques
(id,
class,…
pour
propriété
;
onclick,
ondblclick,…
pour
événements).
méthode
possibles
de
l’objet
formulaire8
(du
point
de
vue
javascript)
:
submit
:
pour
déclencher
l'action
formulaire
reset
:
pour
réinitialiser
donnée
formulaire
avec
valeur
par
défaut
6
signification
de
qualificatif,
en
particulier
en
javascript,
mériter
large
débat
mener
pas.
7
http://w3.org
8
pouvoir
trouver
dans
script
instruction
genre
if
(valide)
form.submit()
;
valide
désigner
variable
booléenne
form
un
formulaire.
étienne
vandeput
–
©
cefis
2005
16

publier
sur
web
-
perfectionnement
après
avoir
illustrer
propriété
élément
correspondre
objet
de
formulaire,
consacrer
section
suivante
à
examiner
événement
pouvoir
être
associer
sous
forme
d’attributs.
1.7
gestion
événement
attribut
correspondre
à
événement
pouvoir
révéler
utiles
dans
contexte
d'utilisation
de
script
locaux.
en
description
en
fonction
élément
concernés.
1.7.1
élément
«
form
»
transmission
donnée
1.7.1.1
onsubmit
attribut
indiquer
script
à
exécuter
avant
l'envoi
données
(par
exemple,
nombre
de
vérifications).
script
devoir
renvoyer
valeur
booléenne
déterminer
l'envoi
données.
être
déclencher
l'utilisateur
clique
sur
bouton
d'envoi
(voir
loin).
valeur
devoir
être
constituer
mot
return
suivre
nom
script
à
exécuter.
exemple:
onsubmit
=
"return
verification()"
<form
action="test.php"
method="post"
name="formulaire"
onsubmit="return
verification()">
script
devoir
figurer
dans
document,
dans
partie
entête,
être
dans
partie
corps,
en
contenir
de
l’élément
script.
élément
posséder
attribut
language
préciser
dans
langage
script
être
rédiger
(autrement
dit,
devoir
être
interprété)
attribut
type
précise
encodage
être
utilisé.
<script
language="javascript"
type="text/javascript">
function
verification(){
if(document.forms["formulaire"].elements["denomination"].value==""){
alert("vous
n'avez
fournir
de
dénomination
pour
cours");
return
false;
}
if(document.forms["formulaire"].elements["objectifs"].value==""){
alert("vous
n'avez
fournir
d'objectifs
pour
cours");
return
false;
}
else{
return
true;
}
}
</script>
donner
de
détail
à
propos
de
javascript,
apporter
à
script
commentaires.
composer
d’un
double
test
de
vérification
de
remplissage
pour
rubrique
dénomination
objectifs.
fonction
n’a
d’argument
renvoyer
valeur
booléenne
(return=…).
alert()
être
fonction
prédéfinie
afficher
boîte
de
dialogue
d’avertissement.
prendre
argument
chaîne
de
caractère.
noter
javascript
être
langage
typé.
typage
valeur
variables
être
implicite.
observer
syntaxe
d’écriture
pour
structure
alternative.
étienne
vandeput
–
©
cefis
2005
17

publier
sur
web
-
perfectionnement
point
délicat
concerner
l’accès
information
de
page.
javascript
utiliser
modèle
objet
document
(dom)
pour
accéder
à
informations.
l’objet
principal
être
document.
contenir
tableau
indexer
forms
de
(éventuels)
formulaires.
formulaire
contenir
tableau
indexer
de
élément
:
elements.
pour
accéder
à
valeur
d’un
de
éléments,
utiliser
propriété
value.
noter
symbole
de
comparaison
(==
=).
être
possible
d’accéder
à
l’item
d’un
tableau
en
fournir
numéro
d’ordre
en
commencer
par
0
(exemple
:
formulaire
être
seul
formulaire,
forms[0]).
code
fichier
test.php.
dernier
contenir
l’action
à
effectuer
valeur
renvoyer
par
script
être
true
à
savoir,
l’affichage
d’un
message
de
réussite
donnée
transmises.
pour
faire,
commande
élémentaires
en
php
être
nécessaires.
feuille
de
style,
cefis.css,
être
attacher
à
page
test.php.
<html>
<head>
<title>fourniture
de
donnée
à
serveur</title>
<meta
http-equiv="content-type"
content="text/html;
charset=iso-8859-1">
<link
href="../cefis.css"
rel="stylesheet"
type="text/css">
</head>
<body>
<h4>ex&eacute;cution
code
javascript</h4>
<p
class="important1">test
concluant!
!</p>
<p>les
donn&eacute;es
suivantes
avoir
&eacute;t&eacute;
envoy&eacute;es:</p>
<p
class="important2">d&eacute;nomination
cours</p>
<p><?php
echo
$_post["denomination"];
?></p>
<p
class="important2">objectifs
cours</p>
étienne
vandeput
–
©
cefis
2005
18

publier
sur
web
-
perfectionnement
<p><?php
echo
$_post["objectifs"];
?></p>
</body>
</html>
exemple
permettre
de
découvrir
petit
php.
navigateur
rencontrer
suite
symbole
<?php,
savoir
qu’il
devoir
interpréter
suite
php
cela,
qu’il
n’a
rencontrer
deux
symbole
?>.
en
doutez9,
commande
echo
être
commande
d’affichage.
autre
chose
importante
à
observer,
c’est
(à
partir
de
version
4)
php
créer
variable
prédéfinie10
sous
forme
d’un
tableau
s’appelant
$_post11
contenir
valeur
transmettre
serveur
par
méthode
post.
accéder
à
composante
tableau
par
numéro
d’ordre
nom
(attribut
name)
de
l’élément
contenir
l’information
concernée.
1.7.1.2
onreset
attribut
indiquer
script
à
exécuter
avant
réinitialisation
formulaire.
pour
valeur
de
attribut,
syntaxe
être
identique
à
de
l'attribut
onsubmit.
1.7.2
élément
«
textarea
»
événement
(ou
attribut
de
script)
de
l’élément
textarea.
1.7.2.1
onfocus
script
associé
être
exécuter
zone
de
texte
recevoir
focus12.
9
rappelez-vous
création
de
fichier
batch
en
dos.
10
créer
plein
d’autres.
11
en
php,
variables
avoir
nom
commencer
par
symbole
$.
12
objet
recevoir
focus
l’utilisateur
cliquer
dessus,
bien
qu’il
accéder
par
touche
de
tabulation
raccourci-clavier.
étienne
vandeput
–
©
cefis
2005
19

publier
sur
web
-
perfectionnement
1.7.2.2
onblur
s’agit
de
perte
focus
par
l’élément.
1.7.2.3
onselect
événement
produire
partie
texte
de
zone
avoir
être
sélectionné.
1.7.2.4
onchange
celui-ci
produire
en
cas
de
perte
de
focus
pour
valeur
de
zone
de
texte
avoir
être
modifiée.
1.7.3
élément
«
select
»
parmi
événement
associables
à
l’élément
select
trouver
onfocus,
onblur
onchange.
1.7.4
élément
«
input
»
1.7.4.1
champs
texte,
texte
spécial
mot
de
passe
texte
spécial
référence
de
fichier
événement
intéressants
à
associer
être
onfocus,
onblur,
onselect
onchange.
1.7.4.2
bouton
simple,
d’envoi,de
réinitialisation,
radio,
case
à
cocher
événement
à
associer
être
onfocus,
onblur
onchange.
1.7.4.3
bouton
d’envoi
imager
événement
à
associer
être
onfocus
onblur.
1.8
autres
événements,
autres
élément
utiliser
éditeur
spécialisé,
constater
qu’il
proposer
d’autres
événement
objet
de
formulaire
supplémentaires.
parmi
événements,
citons,
par
exemple
:
onclick,
ondblclick,
onmousedown,
onmouseup,
onmouseover,
onmouseout,
onmousemove,
onkeypress,
onkeydown,
onkeyup…
élément
button,
fieldset,
label
optgroup
exister
également.
offrir
de
nouvelles
possibilité
être
interpréter
par
navigateurs.
par
exemple,
l’élément
button
permettre
de
combiner
texte
image.
l’élément
fieldset
permettre
de
regrouper
champ
sous
même
titre,
grâce
à
élément
legend
par
l’élément
fieldset
devoir
commencer.
l’élément
label
permettre
d’attribuer
étiquette
à
objet,
n’a
de
véritable
intérêt
pour
personne
malvoyantes
utiliser
navigateur
coupler
avec
système
sonore.
l’élément
optgroup
servir
à
regrouper
élément
opter
à
l’intérieur
d’un
élément
select
permettre
création
de
menu
en
cascade.
1.9
exercice
écrire
script
javascript
:
•
rendre
champ
texte
inaccessible
•
donner
focus
à
élément
précis
•
permettre
l’exécution
d’une
action
en
fonction
choix
d’un
bouton
radio
étienne
vandeput
–
©
cefis
2005
20

publier
sur
web
-
perfectionnement
1.9.1
rendre
champ
texte
inaccessible
suffire
de
faire
perdre
focus
à
l’objet
moment
reçoit.
<input
type="text"
name="couleur"
onfocus="this.blur()">
dans
plupart
langage
objets,
référence
à
l’objet
courant
être
this.
autre
solution
consister
à
donner
à
l’objet
l’attribut
readonly.
<input
type="text"
name="couleur"
readonly>
effet
graphiques
être
différents
dans
mesure
où,
dans
premier
cas,
d’insertion
apparaître
avant
de
disparaître.
1.9.2
donner
focus
à
élément
précis
action
être
réaliser
chargement
de
page.
c’est
l’attribut
onload
de
l’élément
body
être
utilisé.
<body
onload="document.form1.nom.focus()">
<form
name="form1"
method="post"
action="">
<p>nom
<input
type="text"
name="nom">
</p>
</form>
</body>
1.9.3
permettre
l’exécution
d’une
action
en
fonction
choix
d’un
bouton
radio
problème
être
délicat.
s’agit
d’identifier
bouton
radio
être
sélectionner
de
compléter
l’action
en
conséquence.
premier
fonction
avoir
pour
but
de
renvoyer
l’index
correspondre
à
bouton
dans
tableau
bouton
radio
concerner
(index
commencer
à
0).
second
fonction
fixe
l’action
être
valeur
bouton
provoquer
soumission
formulaire.
<script
language="javascript"
type="text/javascript">
function
valeurchoix(groupebouton){
for
(var
i=0;i<groupebouton.length;i++){
if
(groupebouton[i].checked)
{return
i}
}
}
function
choisiraction(formulaire,script){
var
i=valeurchoix(script)
formulaire.action=script[i].value
formulaire.submit()
}
</script>
<form
name="form1"
method="post"
action="">
<p>nom
étienne
vandeput
–
©
cefis
2005
21

publier
sur
web
-
perfectionnement
<input
type="text"
name="nom">
</p>
<p><strong>choix
script</strong></p>
<p>
<label>
<input
name="choix"
type="radio"
value="action1.php"
checked>
action
n&deg;1</label>
<br>
<label>
<input
type="radio"
name="choix"
value="action2.php">
action
n&deg;2</label>
<br>
<label>
<input
type="radio"
name="choix"
value="action3.php">
action
n&deg;3</label>
</p>
<p>
<input
type="button"
name="run"
value="ex&eacute;cuter"
onclick=
"choisiraction(this.form,this.form.choix)">
<br>
</p>
</form>
à
ressembler
l’interface.
choix
d’un
bouton
avant
clic
sur
bouton
simple
permettre
de
sélectionner
script
l’exécution
être
demander
serveur.
1.10
style
css
section,
hors
contexte,
trouver
utilité
dans
mesure
présenter
langage
(un
de
plus)
interpréter
par
navigateurs.
css
signifier
cascading
styler
sheets
(feuilles
de
style
en
cascade).
c’est
langage
l’objectif
être
de
paramétrer
mise
en
page
mise
en
forme
élément
d’un
document
html.
convient
d’en
comprendre
principes,
notamment,
fonctionnement
de
cascade.
être
utile
de
familiariser
avec
syntaxe
langage.
l’utilisation
de
css
permettre
de
réfléchir
à
stratégie
efficaces
de
conception
en
prendre
en
compte,
dès
départ,
possible
mettre
à
jour.
1.10.1
feuille
de
style
concept
de
feuille
de
style
être
concept
abstrait
trouver
concrétisation
sous
de
multiples
formes.
pouvoir
définir
feuille
de
style
ensemble
de
règles
utiliser
par
navigateur
pour
mise
en
page
en
forme
différents
élément
(au
sens
de
html).
règles
être
définies:
•
par
défaut
étienne
vandeput
–
©
cefis
2005
22

publier
sur
web
-
perfectionnement
•
par
l'internaute
•
par
l'auteur
voir
priorité
navigateur
accorder
à
différents
niveaux.
1.10.2
règle
règle
composer
d’un
sélecteur
(d'éléments)
suivre
d’une
déclaration
(des
paramètre
à
appliquer).
syntaxe
être
suivante
:
<sélecteur>
{<déclaration>}
examiner
d’abord
syntaxe
d’une
déclaration.
composer
d’un
ensemble
constituer
d’un
mot-clé
d’une
valeur.
<mot-clé>
:
<valeur>
;
[<mot-clé>
:
<valeur>
;]*
exister
52
mots-clés
dans
version
css1
être
censés
respecter
navigateurs.
mot-clé
être
séparer
de
valeur
par
double
point
l’ensemble
terminer
par
point-virgule.
valeur
être
acceptables.
1.10.2.1
exemple
color
:
red
;
color
:
#ff0000
;
font-family
:
arial
;
color
:
red;
font-size
:
18px
;
1.10.3
sélecteur
sélecteur
être
paramètre
autoriser
navigateur
à
sélectionner
règles
de
mise
en
forme
applicables
élément
html.
distinguer
sélecteur
simples
sélecteurs
contextuels.
1.10.3.1
sélecteur
simple
sélecteur
simple
permettre
de
sélectionner
élément
de
trois
manières.
:
•
qu’ils
porter
même
nom
;
•
qu’ils
avoir
mêmes
valeur
pour
attribut
précis
(class
id)
;
•
qu’ils
porter
même
nom
avoir
mêmes
valeur
pour
attribut
précis
(class
id)
1.10.3.2
exemple
•
même
nom
:
p
élément
p
document
html
<p>,
<p
«
chapeau
»>,…
•
=
«
rouge
»>,
<p
id
=
même
valeur
pour
l’attribut
class
:
.important
(attention
point
initial)
élément
(quel
nom)
avoir
attribut
valoir
"important"
tel
:
<???
class="important"
…>,
…
•
même
valeur
pour
l’attribut
id
:
#titre
(attention
dièse
initial)
élément
(quel
nom)
avoir
attribut
id
valoir
"titre"
tel
:
<???
id="titre"
…>,…
•
même
nom
même
valeur
pour
l’attribut
class
l’attribut
id
:
p.important
td#titre
étienne
vandeput
–
©
cefis
2005
23

publier
sur
web
-
perfectionnement
élément
p
(td)
avoir
attribut
class
(id)
valoir
"important"
("titre")
<p
class="important"
…>,
<td
id="titre"
…>,…
1.10.3.3
sélecteur
contextuel
sélecteur
contextuels
permettre
de
sélectionner
élément
être
dans
contexte.
syntaxe
être
simple
puisqu’un
sélecteur
contextuel
composer
de
sélecteur
simples
séparer
par
espaces.
être
bon,
pour
comprendre
l’intérêt,
de
prendre
en
compte
principe
d'emboîtement
élément
html.
élément
html
être
emboîtés.
signifier
qu’ils
pouvoir
contenir
d’autres
élément
(p,
h1,
strong,
ul,…).
sélecteur
contextuel
faire
référence
à
élément
contenir
dans
autres.
possibilité
d’utiliser
sélecteur
contextuels
donner
grande
souplesse
à
mise
en
forme.
ainsi,
par
exemple,
paragraphe
peuvent-ils
être
formater
s’ils
être
dans
tableau,
dans
calque
hors
de
contexte.
1.10.3.4
exemple
h4
strong
désigner
élément
strong
être
contenir
dans
élément
h4.
<h4>titre
en
<strong>gras</strong></h4>
autres
exemple
:
h4
strong
em
td
.important
attention,
p.important
(sélecteur
simple)
être
différent
de
p
.important
(sélecteur
contextuel).
1.10.4
exemple
exemple
de
règles.
noter
règles
être
texte
qu’elles
pouvoir
être
éditer
avec
simple
éditeur
de
texte.
rester
à
savoir
à
endroit
pouvoir
définir.
p
{color:red;}
contenu
paragraphe
en
rouge
h1
{font-size:20px;font-family:verdana;}
titre
de
niveau
1
en
taille
20
pixel
police
verdana
p.important
{font-weight:bold;}
paragraphe
qualifier
"important"
en
gras
div
p,h1,.important
{color:red;}
paragraphe
dans
calques,
titre
de
niveau
1
élément
qualifier
"important"
en
rouge
td
p.mineur
{color=#333333;font-size:15px;}
paragraphe
qualifier
"mineur"
dans
cellule
de
tableau
en
gris
taille
15
pixel
falloir
signaler
plupart
éditeur
html
donner
concepteur
possibilité
de
créer
règles
de
manière
dynamique
sans
avoir
à
écrire
code.
1.10.5
cascade
rappeler
feuille
de
style
composer
règles
définir
niveau
navigateur
(feuille
de
style
par
défaut)
de
pouvoir
résulter
choix
de
l’internaute
(préférences
niveau
navigateur)
et,
évidemment,
de
concepteur
de
page.
étienne
vandeput
–
©
cefis
2005
24

publier
sur
web
-
perfectionnement
d’autre
part,
règle
être
partielle.
définir
paramètre
élément
considérés.
pour
établir
l’ensemble
paramètres,
navigateur
devoir
tenir
compte
d’une
hiérarchie.
enfin,
règles
pouvoir
être
définir
à
endroits,
convient
de
déterminer,
en
cas
de
règles
concerner
mêmes
éléments,
être
devoir
l’emporter.
voir
dans
cas,
c’est
proximité
de
définition
par
rapport
à
l’élément
compte.
1.10.5.1
algorithme
pour
comprendre
l’algorithme,
falloir
rappeler
élément
html
être
emboîter
(l’élément
contenir
autres
étant
html).
•
rechercher
déclaration
concerner
l'élément
propriété
concerner
s'il
n'y
avoir
pas,
prendre
en
considération
déclaration
hériter
(emboîtement)
s'il
n'y
avoir
pas,
prendre
en
considération
valeur
par
défaut
•
trier
déclaration
par
poids
explicites
(certaines
règles
pouvoir
être
déclarer
prioritaires
par
concepteur
l’internaute)
•
trier
par
origine
(auteur,
internaute,
agent)
•
trier
par
spécificité
sélecteur
dernier
point
mériter
explication.
s’agit
de
calculer
poids
règles
qu’il
n’est
possible
de
trier,
de
manière
suit.
s’agit
de
concaténer
trois
nombre
suivants
:
•
nombre
d'attributs
id
dans
sélecteur
(ex:
1)
•
nombre
d'attributs
class
dans
sélecteur
(ex:
1)
•
nombre
d’éléments
(ex:
3)
dans
exemple,
poids
être
113.
c’est
règle
avoir
poids
élever
l’emporte.
1.10.6
exercice
1.10.6.1
énoncé
déclaration
suivre
être
valables
pour
même
élément
li,
être
sélecteur
déclaration
être
retenue?
ol
ul
li.rouge
{…}
ul
li
{…}
li
{…}
ol
ul
li
{…}
#titre
{…}
li.rouge
{…}
imaginer
partie
de
syntaxe
de
élément
emboîtement
situation
être
plausible.
1.10.6.2
correction
ol
ul
li.rouge
{…}
013
étienne
vandeput
–
©
cefis
2005
25

publier
sur
web
-
perfectionnement
ul
li
{…}
002
li
{…}
001
ol
ul
li
{…}
003
#titre
{…}
100
li.rouge
{…}
011
c’est
définition
de
#titre
être
prendre
en
compte.
c’est
logique
dire
qu’il
s’agit
d’un
élément
particulier
puisqu’il
être
appeler
titre.
structure
rendre
définition
plausibles.
<ol>
…
<ul>
…
<li
=
«
rouge
»
id
=
«
titre
»>…</li>
…
</ul>
…
</ol>
1.10.7
localisation
feuille
de
style
règles
d’une
feuille
de
style
pouvoir
retrouver
à
endroit
:
•
dans
fichier
externe
•
dans
l’entête
document
html
•
dans
balise
d’ouverture
d’un
élément
•
dans
paramètre
navigateur
1.10.7.1
fichier
externe
être
possible,
c’est
meilleure
solutions,
de
rassembler
règles
dans
fichier
texte
être
téléchargé.
liaison
entre
document
html
fichier
«
feuille
de
style
»
faire
par
l’intermédiaire
de
l’élément
link.
<link
rel="stylesheet"
href="essai.css"
type="text/css">
l’attribut
rel
décrire
type
de
relation
entre
fichiers.
l’attribut
href
préciser
localisation
fichier.
l’attribut
typer
décrire
type
de
fichier
navigateur.
1.10.7.2
entêter
document
html
règles
pouvoir
être
incluses
à
l'intérieur
de
l'élément
styler
de
l’entête.
syntaxe
règles
être
même.
<style
type="text/css">
<!
!-.rouge
{font-family:
arial,
helvetica,
sans-serif;
font-size:
12px;
color:
#ff0000}
-->
</style>
étienne
vandeput
–
©
cefis
2005
26

publier
sur
web
-
perfectionnement
balise
de
commentaire
être
ignorer
par
navigateur
s’ils
être
capables
d’interpréter
langage
css.
1.10.7.3
élément
seule
possibilité
à
niveau
être
d’utiliser
attribut.
s’agit
de
l’attribut
style
valeur
être
règle
à
prendre
en
compte.
syntaxe
être
différente
(pas
de
sélecteur
d’accolades).
<h1
style="color
:
#00ff00">
rappeler
priorité
être
accorder
paramètre
être
proches
de
l’élément.
dernière
technique
être
façon
de
revoir,
en
dernière
minute,
style
d’un
élément.
n’est
dire
c’est
manière
efficace
de
procéder.
1.11
formulaire
javascript
l’intérêt
d’un
langage
de
script
côté
client
être
évident
:
•
permettre
certaine
interactivité
;
•
autoriser
contrôle
interaction
être
lourd
à
demander
à
serveur.
dans
section,
présenter
commenter
scripts.
plupart
être
lier
à
gestion
formulaires.
but
être
de
montrer
fonctionner
modèle
objet
modèle
événement
en
javascript
de
faire
percevoir
qu’à
être
permettre
en
matière
d’interaction.
de
script
être
classique
l’on
retrouver
sous
d’autres
forme
sur
site
web.
1.11.1
script
généraux
avoir
proposer
script
à
titre
d’exercices.
en
d’autres.
illustrer
communication
possible
entre
langage
en
particulier,
entre
javascript
php.
1.11.1.1
faire
afficher
date
l’heure
exemple
illustrer
possibilité
de
créer
objet
de
type
date
d’en
extraire
informations.
objet
être
créer
en
utiliser
mot-clé
new.
diverses
méthode
pouvoir
être
invoquer
sur
objet
de
type
date
:
getdate(),
getmonth(),…
noter
getdate()
renvoyer
nombre
entre
1
31
getday()
renvoyer
nombre
entre
0
6
correspondant
jour
de
semaine.
<script
language="javascript">
<!
!-maintenant
=
new
date()
document.write("<br>aujourd'hui,
sommes
",
maintenant.getdate(),
"/",
maintenant.getmonth()
+
1,
"/"
,
maintenant.getyear())
document.write("<br>il
être
",maintenant.gethours(),":",maintenant.getminutes(),'.');
-->
</script>
1.11.1.2
faire
afficher
date
serveur
exemple
illustrer
passage
d’un
langage
à
l’autre.
utiliser
méthode
write()
de
l’objet
document.
mini
script
php
fournir
date
serveur
sous
forme
d’une
chaîne
de
caractères.
<script
language="javascript">
étienne
vandeput
–
©
cefis
2005
27

publier
sur
web
-
perfectionnement
<!
!-document.write('nous
sommes
'
+
'<?php
echo
date("d/m/y");
?>'+'.');
-->
</script>
dernier
être
concaténer
à
bout
de
phrase
par
javascript
(opérateur
+
pour
concaténation).
noter
date()
être
fonction
php13.
fichier
contenir
script
devoir
avoir
l’extension
php.
1.11.1.3
faire
afficher
date
de
dernière
modification
document
s’intéresse
à
propriété
lastmodified
de
l’objet
document.
résultat
(une
chaîne
de
caractères)
être
découper
en
morceau
pour
reconstituer
date
sous
format
européen.
<script
language="javascript">
<!
!-date=document.lastmodified
jour=date.charat(3)+date.charat(4)
mois=date.charat(0)+date.charat(1)
annee=date.charat(6)+date.charat(7)+date.charat(8)+date.charat(9)
document.write("<br>ce
document
avoir
être
modifier
pour
dernière
fois
"/"
+
mois
+
"/"
+
annee)
"
+
jour
+
-->
</script>
méthode
charat()
s’applique
à
objet
chaîne
de
caractère
renvoyer
caractère
à
position
indiquer
par
l’argument
(l’index
commencer
à
0
d’habitude).
autre
possibilité
être
d’utiliser
méthode
substring().
observer
javascript
pouvoir
produire
balise
(exemple
:
<br>)
être
interpréter
par
navigateur.
1.11.1.4
recommander
site
à
un(e)
ami(e)
s’agit
d’un
script
simple
montrer
souplesse
d’un
langage
javascript.
variables
email,
sujet
message
correspondre
à
chaîne
de
caractères.
propriété
location
de
l’objet
window
servir
à
rediriger
fenêtre
vers
nouvelle
adresse
(url).
dit,
navigateur
faire
appel
client
mail
en
fournir
destinataire
(adresse),
sujet
(sujet)
corps
message
(message).
l’adresse
être
fournir
par
l’internaute
à
travers
boîte
de
dialogue
(fonction
prompt()).
<script
language="javascript">
<!
!-function
recommander(){
var
adresse=
prompt('e-mail
de
ami(e)
:','
');
var
sujet=
"le
cefis
–
centre
de
formation
technologies";
var
message=
"le
cefis
être
centre
de
formation
cherchez!!
!!cliquez-ici
:
http://www.det.fundp.ac.be/cefis/";
window.location="mailto:"+adresse+"?subject="+sujet+"&body="+message;
13
pour
information
:
http://be.php.net/manual/fr/function.date.php
étienne
vandeput
–
©
cefis
2005
28

publier
sur
web
-
perfectionnement
}
-->
</script>
seul
bouton
être
nécessaire
pour
déclenchement
de
fonction
recommander().
<form
name="form1"
method="post"
action="">
<p>
<input
name="envoi"
type="button"
class="important1"
value="recommander
&agrave;
ami"
onclick="recommander()">
</p>
</form>
en
illustration
:
étienne
vandeput
–
©
cefis
2005
29

publier
sur
web
-
perfectionnement
1.11.2
script
lier
formulaire
1.11.2.1
transformer
en
majuscules
contenu
saisir
dans
champ
dans
exemple,
découvrir
valeur
d’un
attribut
événement
pouvoir
être
instruction
fonction.
valeur
de
l’attribut
commencer
par
mot-clé
javascript:
suivre
de
l’instruction.
<form
name="form1"
method="post"
action="">
<p>nom:
<input
type="text"
name="titre"
onchange="javascript:this.value=this.value.touppercase();">
</p>
<p>pr&eacute;nom:
<input
type="text"
name="auteur">
</p>
</form>
script
résumer
à
seule
instruction.
l’objet
titre
perdre
focus,
contenu
être
transformer
en
majuscules.
1.11.2.2
vider
contenu
d’un
champ
en
cliquer
sur
bouton
script
pouvoir
être
intéressant
champ
contenir
valeur
par
défaut
valeur
convient
pas.
éviter
à
l’utilisateur
formulaire
de
devoir
effacer
valeur.
<script
language="javascript">
<!
!-function
vide(n)
{
document.form1.elements[n].value="";
}
-->
</script>
en
cas
de
clic
sur
bouton,
contenu
de
l’élément
numéro
0
être
effacé.
<form
name="form1"
method="post"
action="">
<p>valeur:
<input
type="text"
value="valeur
par
défaut">
<input
type="button"
value="effacer"
onclick="vide(0)">
</p>
</form>
1.11.2.3
vider
contenu
d’un
champ
(valeur
par
défaut)
lorsqu’on
donner
focus
l’utilité
de
script
être
semblable
à
script
précédent.
manipulation
être
rapide.
être
intéresser
d’employer
technique
pour
garnir
champ
d’une
valeur
par
défaut
donner
indication
sur
l’information
à
fournir
(«
nom
»).
<input
name="nom"
type="text"
id="nom"
value="votre
nom"
size=18
maxlength=75
onfocus="this.value=''">
étienne
vandeput
–
©
cefis
2005
30

publier
sur
web
-
perfectionnement
1.11.2.4
contrôler
contenu
d’un
champ
être
d’une
longueur
minimale
fonction
alert()
afficher
boîte
de
dialogue
comporter
message
d’alerte.
c’est
propriété
length
contenu
champ
être
testée.
fonction
renvoyer
booléen
être
utiliser
valeur
de
l’attribut
onsubmit
formulaire.
<script
language="javascript">
<!
!-function
minimum(champ,nbre){
if
(champ.length
<
nbre){
alert("le
mot
de
passe
devoir
compter
"+nbre+"
caractère
minimum.");
return
false;
}
return
true;
}
-->
</script>
niveau
formulaire,
avoir
:
<form
name="form1"
method="post"
action="../exemples/ok.php"
onsubmit="return
minimum(this.mp.value,6)">
<p>identificateur
<input
name="id"
type="text"
id="id">
</p>
<p>mot
de
passe
<input
name="mp"
type="password"
id="mp">
</p>
<p>
<input
name="envoi"
type="submit"
id="envoi"
value="envoyer">
</p>
</form>
un
paramètre
être
référence
faire
à
propriété
valoir
champ
mp
formulaire
courant
(this).
1.11.2.5
augmenter
taille
d’un
champ
en
fonction
de
contenu
script
permettre
à
champ
de
s’élargir
contenu
être
«
large
»
pour
taille
champ.
agrandissement
n’a
lieu
champ
perdre
focus.
<script
language="javascript">
function
augmente(){
var
taille
=
document.form1.champ.size;
if(document.form1.champ.value.length>=taille){
document.form1.champ.size
=
document.form1.champ.value.length;}
else
{document.form1.champ.size
=
taille;}
}
</script>
étienne
vandeput
–
©
cefis
2005
31

publier
sur
web
-
perfectionnement
c’est
valeur
de
l’attribut
size
champ
texte
propriété
de
longueur
contenu
de
celui-ci
être
concerner
par
script.
lorsqu’une
modification
contenu
champ
avoir
lieu,
fonction
augmente()
être
activée.
<form
name="form1"
method="post"
action="">
<p>champ
s'agrandit:
<input
type="text"
name="champ"
maxlength="50"
size="2"
onchange="augmente()">
</p>
<p>autre
champ
<input
type="text"
name="autrechamp">
</p>
</form>
1.11.2.6
vérification
(simple)
d’une
adresse
email
contenter
de
vérifier
l’arrobase
faire
partir
de
chaîne
encodée.
<script
language="javascript">
<!
!-function
arrobase_ok(email){
var
a=document.forms[0].email.value;
var
test=""
+
a;
for(var
k
=
0;
k
<
test.length;k++){
var
c
=
test.substring(k,k+1);
if(c
==
"@"){
return
true;
}
}
alert("l’adresse
email
n’est
correcte!
!");
return
false;
}
-->
</script>
étienne
vandeput
–
©
cefis
2005
32

publier
sur
web
-
perfectionnement
corps
document
contenir
définition
suivante
de
formulaire:
<form
name="form1"
method="post"
action=""
onsubmit="return
arrobase_ok(email)">
<p>nom
<input
type="text"
name="nom">
</p>
<p>adresse
email
<input
name="email"
type="text"
class="important1">
</p>
<p>
<input
type="submit"
name="envoi"
value="envoyer">
</p>
</form>
en
cas
de
fourniture
d’adresse
dépourvue
d’arrobase,
message
être
afficher
montrer
l’illustration
ci-après.
1.11.2.7
remplir
liste
en
fonction
d’un
choix
par
bouton
radio
exemple
montrer
choix
proposer
internautes
pouvoir
être
fonction
d’autres
choix
faire
derniers.
illustrer
création
d’objet
inclure
élément
de
mise
en
page
moyen
de
style
css
(voir
dernière
ligner
de
code
illustration).
<script
language="javascript">
<!
!-function
animaux(form,list){
list.options.length=0;
var
o=new
option("lapin","1");
form.liste.options[form.liste.options.length]=o;
étienne
vandeput
–
©
cefis
2005
33

publier
sur
web
-
perfectionnement
var
o=new
option("chat","2");
form.liste.options[form.liste.options.length]=o;
var
o=new
option("chien","3");
form.liste.options[form.liste.options.length]=o;
var
o=new
option("renard","4");
form.liste.options[form.liste.options.length]=o;
var
o=new
option("canard","5");
form.liste.options[form.liste.options.length]=o;
}
function
sports(form,list){
list.options.length=0;
var
o=new
option("tennis","1");
form.liste.options[form.liste.options.length]=o;
var
o=new
option("basket","2");
form.liste.options[form.liste.options.length]=o;
var
o=new
option("natation","3");
form.liste.options[form.liste.options.length]=o;
}
function
fleurs(form,list){
list.options.length=0;
var
o=new
option("rose","1");
form.liste.options[form.liste.options.length]=o;
var
o=new
option("tulipe","2");
form.liste.options[form.liste.options.length]=o;
var
o=new
option("narcisse","3");
form.liste.options[form.liste.options.length]=o;
var
o=new
option("jonquille","4");
form.liste.options[form.liste.options.length]=o;
}
-->
</script>
<link
href="../cefis.css"
rel="stylesheet"
type="text/css">
fonction
animaux(),
sports()
fleurs()
avoir
pour
but
de
créer
listes.
un
de
liste
être
créer
en
fonction
choix
de
l’internaute.
objet
option
être
créer
en
donner
étiquette
valeur.
dans
description
formulaire
suit,
voir
qu’en
fonction
bouton
radio
cliqué,
c’est
l’une
l’autres
trois
fonction
être
activée,
créer
liste
d’animaux,
de
sport
de
fleurs.
<form
name="form1"
action=""
method="get">
<table
width="260"
cellspacing="2"
cellpadding="5">
étienne
vandeput
–
©
cefis
2005
34

publier
sur
web
-
perfectionnement
<tr>
<td
width="96"><p>
<input
type="radio"
name="choix"
value="animaux"
onclick
=
"animaux(this.form,this.form.liste)">
animaux</p>
<p>
<input
type="radio"
name="choix"
value="sports"
onclick
=
"sports(this.form,this.form.liste)">
sport
</p>
<p>
<input
type="radio"
name="choix"
value="fleurs"
onclick
=
"fleurs(this.form,this.form.liste)">
fleur
</p></td>
<td
width="132"><select
name="liste"
size="3"
class="gris"
align="top">
<option
value="liste
vide"
selected>liste
vide</option>
</select></td>
</tr>
</table>
</form>
départ,
liste
être
vide
plutôt,
contenir
l’item
«
liste
vide
».
lorsqu’un
choix
être
fait,
liste
remplir
item
correspondants.
1.12
exercice
créer
formulaire
à
goût
selon
intérêts.
devoir
contenir
champ
texte,
liste
déroulante,
groupe
de
bouton
radio
l’une
l’autre
caser
à
cocher,
bouton
simple
permettre
de
faire
exécuter
script
local
(vérification
remplissage
de
champs)
bouton
de
soumission.
n’oubliez
de
donner
étiquette
objet
formulaire.
page
contenir
date
jour
date
de
dernière
modification.
formulaire
être
soumis,
page
contenir
bribe
de
code
php
reconstituer
document
html
reprendre
donnée
fournir
avec,
possible,
petit
traitement
sur
l’une
l’autre
donner
(par
exemple
en
réécrire
nom
prénom
dans
l’ordre
inverse
avec
l’initiale
prénom
seulement)14.
14
pouvoir
consulter
liste
fonction
php
faire
manipulation
simples.
étienne
vandeput
–
©
cefis
2005
35

publier
sur
web
-
perfectionnement
2.
langage
php
2.1
en
consister
php
?
php
être
langage
de
script
open
ource15.
d’autres
langages,
avoir
être
concevoir
pour
développement
d'applications
web.
pouvoir
être
intégrer
html.
pour
faire,
code
php
être
inclure
entre
balise
de
début
(ensemble
de
symboles)
balise
de
fin
permettre
serveur
web
de
passer
en
mode
php.
partie
php
correspondre
à
partie
créative
dynamique
document
html
envoyer
par
serveur
navigateur
transformer
en
page
web.
<!
!doctype
html
public
"-//w3c//dtd
html
4.01
transitional//en">
<html>
<head>
<title>m&eacute;lange
html
-
php</title>
<meta
http-equiv="content-type"
content="text/html;
charset=iso-8859-1">
<link
href="../cefis.css"
rel="stylesheet"
type="text/css">
</head>
<body>
<h4>partie
statique
(html
pur
dur)</h4>
<p>cette
partir
texte
être
html
classique.</p>
<h4>partie
dynamique
(html
construit)</h4>
<p><?php
echo
"celle-ci
avoir
être
transformer
en
html
<strong>au
niveau
serveur</strong>,
par
l'analyseur
php.";
?></p>
</body>
</html>
à
l’affichage,
donne
:
15
logiciel
être
dire
open
source
code
source
être
inclure
avec
version
compilée,
encourager
modification
adaptation.
pour
être
considérer
tel,
logiciel
devoir
être
distribuer
gratuitement,
code
source
devoir
être
inclure
de
sorte
pouvoir
modifier
redistribuer.
étienne
vandeput
–
©
cefis
2005
36

publier
sur
web
-
perfectionnement
code
javascript,
code
php
être
exécuter
par
serveur
par
client.
client
recevoir
résultat
script,
sans
moyen
d'avoir
accès
code
avoir
produire
résultat.
donner
fichier
html
correspondre
à
page
statiques
l’extension
php,
l’internaute
n’a
moyen
de
distinguer
page
être
produire
page
statiques.
partie
intéressante
de
source
qu’a
recevoir
navigateur
dans
l’exemple
précédent
:
<body>
<h4>partie
statique
(html
pur
dur)</h4>
<p>cette
partir
texte
être
html
classique.</p>
<h4>partie
dynamique
(html
construit)</h4>
<p>celle-ci
avoir
être
transformer
en
html
<strong>au
niveau
serveur</strong>,
par
l'analyseur
php.</p>
</body>
fichier
contenir
instruction
en
php
devoir
posséder
l’extension
.php16.
2.2
qu’offre
php?
php
être
concevoir
pour
servir
de
langage
de
script
coter
serveur.
être
capable
de
réaliser
qu'un
script
cgi
pouvoir
faire17.
être
utiliser
pour
écrire
script
de
collecte
de
donnée
issues
de
formulaires,
de
stockage
éventuel
de
donnée
dans
base
de
données,
de
génération
dynamique
de
contenu
(voir
petit
exemple
ci-dessus),…
c'est
l'utilisation
traditionnelle
principal
objet
de
php.
trois
composant
être
nécessaires:
•
analyseur
php,
•
serveur
web
(apache,
par
exemple),
•
navigateur
web.
serveur
web
devoir
s’exécuter
en
corrélation
avec
php,
nécessiter
configuration
particulière
évidente
à
réaliser.
c’est
exister
environnement
logiciel
grâce
problème
passer
second
plan18.
noter
qu’il
être
possible
d’écrire
script
php
de
exécuter
en
ligne
de
commande,
sans
l'aide
serveur
web
d'un
navigateur.
faut,
pour
cela,
disposer
de
l'exécutable
php.
utilisation
être
intéressante
pour
script
devoir
être
exécuter
régulièrement.
php
être
utilisable
sur
majorité
système
d'exploitation
supporter
plupart
serveur
web
actuels
apache
microsoft
internet
information
server
(iis).
avoir
choix
d'utiliser
programmation
procédurale,
programmation
objet,
mélange
deux.
16
d’autres
extension
être
reconnaître
php3,
phtml,…
qu’elles
être
fournir
serveur
web
via
fichier
.httpd.conf.
par
exemple
:
addtype
application/x-httpd-php
.phtml
.pwml
.php3
.php4
.php
.php2
.inc.
17
cgi
(common
gateway
interface)
être
moyen
de
faire
communiquer
client
web
avec
application
écrire
dans
différents
langage
disponibles
niveau
serveur.
l’utilisation
de
script
cgi
demande,
entendu,
effort
de
configuration.
18
http://www.easyphp.org/telechargements.php3
étienne
vandeput
–
©
cefis
2005
37

publier
sur
web
-
perfectionnement
php
limiter
à
production
de
code
html.
pouvoir
générer
images,
fichier
pdf,
même
animation
flash.
générer
texte
aussi,
code
xml
xhtml.
php
générer
fichier
sauve
dans
système
de
fichiers,
envoyer
navigateur
web.
mais,
intéresser
davantage,
php
posséder
de
nombreuses
fonction
permettre
d’exploiter
base
de
donnée
parmi
lesquelles:
interbase,
postgresql,
dbase,
mysql,
ibm
db2,
odbc,
informix,
oracle
ingres,
citer
connues.
2.3
base
langage
2.3.1
élément
de
syntaxe
2.3.1.1
balise
php
avoir
quatre
jeu
de
balise
pouvoir
servir
à
délimiter
bloc
de
code
php.
seul
deux
d'entre
être
actifs
à
coup
sûr19:
<?php.
.
.?>
<script
language="php">.
.
.</script>.
<html>
<head>
<title>m&eacute;lange
html
-
php</title>
<meta
http-equiv="content-type"
content="text/html;
charset=iso-8859-1">
</head>
<body>
<p>cette
partir
texte
être
interpr&eacute;t&eacute;e
par
navigateur.</p>
<p>
<script
language="php">
echo
"celle-ci
être
par
l'analyseur
php.";
</script>
</p>
</body>
</html>
deuxième
syntaxe
être
lourde.
dans
suite
de
notes,
utiliser
première.
2.3.1.2
séparateurs
d'instructions
séparateur
d'instructions
être
symbole
";".
être
nécessaire
sauf
devoir
balise
de
fin
d'exécution
php
"?>".
2.3.1.3
commentaire
dans
de
nombreux
autres
langages,
caractère
trouver
entre
couple
de
symbole
"/*"
"*/"
être
prendre
en
compte
par
l'analyseur.
commentaire
jusqu'en
fin
de
ligne
commencer
par
symbole
"//"
symbole
"#".
<html>
<head>
<title>m&eacute;lange
html
-
php</title>
19
balise
courtes
(sans
mot-clé
php)
balise
asp
pouvoir
être
activer
déasctivées
niveau
fichier
php.ini.
étienne
vandeput
–
©
cefis
2005
38

publier
sur
web
-
perfectionnement
<meta
http-equiv="content-type"
content="text/html;
charset=iso-8859-1">
</head>
<body>
<p>cette
partir
texte
être
interpr&eacute;t&eacute;e
par
navigateur.</p>
<p>
<?php
/*
echo
être
fonction
d'affichage.
être
suivre
d'une
chaîne
de
caractères.
*/
echo
"celle-ci
être
par
l'analyseur
php.<br>";
//
fonction
print
être
...
print
"et
celle-ci
aussi!
!";
#
preuve!
!
?>
</p>
</body>
</html>
2.3.2
variables
2.3.2.1
variables
interne
variables
être
représenter
par
signe
dollar
"$"
suivre
nom
de
variable.
nom
être
sensible
à
casse
($x
≠
$x).
nom
de
variable
devoir
commencer
par
lettre
caractère
souligner
(_),
suivre
de
lettres,
chiffre
soulignés.
<html>
<head>
<title>nommage
variables
affectations</title>
<meta
http-equiv="content-type"
content="text/html;
charset=iso-8859-1">
</head>
<body>
<?php
$prenom='étienne';
$prenom="charles";
echo
$prenom,'
être
l\'assistant
de
',$prenom,'.';
?>
</body>
</html>
dans
exemple,
constater
•
casse
caractère
être
importante
dans
nom
de
variables,
•
chaîne
de
caractère
constantes
s'écrivent
entre
guillemet
apostrophes,
•
fonction
echo
admettre
argument
séparer
par
virgules,
étienne
vandeput
–
©
cefis
2005
39

publier
sur
web
-
perfectionnement
•
vraie
apostrophe
dans
chaîne
de
caractères,
délimiter
par
apostrophes,
devoir
être
précéder
de
barre
oblique
inverser
(\).
variables
être
affecter
par
valeur
pouvoir
l'être
par
référence
(à
partir
de
php4).
dans
deuxième
cas,
nouvelle
variable
faire
référencer
variable
originale.
modification
de
nouvelle
variable
affecter
l'ancienne,
versa.
pour
assigner
par
référence,
ajouter
symbole
"&"
nom
de
variable
source.
<html>
<head>
<title>nommage
variables
affectations</title>
<meta
http-equiv="content-type"
content="text/html;
charset=iso-8859-1">
</head>
<body>
<?php
$a=12;
$b=23;
print
$a+$b.'
';
//
affectation
par
valeur
$c=$a;
$c=20;
print
$a+$b.'
';
//
affectation
par
référence
$c=&$a;
$c=15;
print
$a+$b;
?>
</body>
</html>
observer
l'affectation
faire
moyen
symbole
"="
l'opérateur
de
comparaison
être
(voir
loin)
"==".
l'instruction
print
$a+$b.'
';
être
particulière.
premier
expression
être
résultat
d'une
opération
entre
deux
entiers
(voir
types,
ci-après),
second
être
chaîne
constituer
seul
caractère
"espace".
l'opérateur
entre
deux,
symboliser
par
point
(.),
être
opérateur
de
concaténation.
l'expression
entière
être
transformer
en
chaîne
de
caractère
avant
d'être
affichée.
2.3.2.2
portée
variables
variables
avoir
portée
globale
être
définir
à
l’intérieur
d’une
fonction.
être
accessibles
dans
script.
variables
définir
à
l’intérieur
d’une
fonction
être
locales.
de
même,
variables
définir
en
dehors
d’une
fonction
être
accessibles
à
l’intérieur
de
celle-ci.
étienne
vandeput
–
©
cefis
2005
40

publier
sur
web
-
perfectionnement
être
possible
d’accéder
variables
globales
à
l’intérieur
fonctions.
de
même,
être
possible
de
rendre
visibles
variables
définir
dans
un
fonction.
script
suivre
illustre
portée
variables.
à
l’intérieur
d’une
fonction,
être
possible
d’accéder
à
variable
globale
par
l’intermédiaire
tableau
prédéfini
$globals[].
tableau
être
indexer
par
nom
variables
(sans
symbole
$).
pour
rendre
variable
locale
visible,
falloir
utiliser
déclaration
global.
<?php
$a=1;
$b=2;
function
portee(){
$a=101;
$b=102;
echo
$a+$b.'<br>';
//
affichage
de
somme
à
l'intérieur
de
fonction
echo
$globals['a'].'<br>';
//
accès
à
variable
globale
$a
(extérieure)
global
$c;
//
rendre
variable
$c
locale
visible
$c=99;
}
portee();
echo
$a+$b;
echo
'<br>';
//
affichage
de
somme
à
l'extérieur
de
fonction
echo
$c.'<br>';
//
affichage
de
valeur
de
$c
à
l'extérieur
de
fonction
echo
$globals['c'].'<br>';
?>
résultat
:
fonction
portee()
être
exécutée,
fournir
somme
valeur
variables
locales
valeur
de
variable
globale
$a.
c’est
somme
valeur
variables
globales
être
affichée,
suivre
de
valeur
de
variable
$c
avoir
être
rendre
globale
être
obtenir
de
deux
manière
différentes,
voir
valeur
de
variable
$c
garnir
tableau
$globals[].
2.3.2.3
variables
dynamique
être
possible
de
s'arranger
nom
d'une
variable
variable.
c'est
pratique
pour
éviter
problème
de
nomination.
opportunité
exister
en
utiliser
symbole
dollar
($)
second
fois.
voir
l'exemple
suit.
<?php
$a="charles";
$$a="directeur
cefis";
echo
$a.'
'.$charles;
?>
l’intérêt
de
pouvoir
créer
variables
être
d’éviter
de
devoir
utiliser
tableaux,
de
casser
tête
pour
trouver
nom
de
variables.
étienne
vandeput
–
©
cefis
2005
41

publier
sur
web
-
perfectionnement
en
exemple
:
<?php
foreach($_post
avoir
$key
=>
$value)
{
$varname
=
"_".$key;
$$varname
=
$value;
}
?>
même
connaître
structure
répétitive,
être
facile
de
comprendre
faire
partie
de
script.
valeur
d’un
formulaire
décorer
tableau
$_post
contenir
valeur
envoyer
serveur
par
client.
pour
éclater
tableau
en
de
variables
nécessaire,
créer
variables
contenir
à
fois
chaîne
de
caractère
commencer
par
caractère
de
soulignement,
suivre
nom
de
variable
(clé
d’index
tableau).
utiliser
chaîne
nom
variables
contenir
valeur
transmises.
exemple
:
couple
clés-valeurs
transmettre
être
(nom,
vandeput),
(prenom,
étienne),
(departement,
det),
variables
créer
être
$_nom,
$_prenom
$_departement
contenir
valeur
vandeput,
étienne
det.
2.3.2.4
variables
externe
php
manipuler
variables
provenir
de
l'extérieur
comme,
venir
juste
de
rappeler,
variables
provenir
de
soumission
d'un
formulaire.
c'est
un
de
qualités.
variables
être
accessibles
à
travers
tableau
prédéfinis.
parmi
ceux-ci,
noter
$globals
rassembler
variables
globales,
$_post
$_get
contenir
valeur
transmettre
par
méthode
post
avoir
être
transmettre
par
méthode
get,
$_server.
renvoyer
à
documentation
pour
de
détails.
donner
exemple
d’informations
normalement20
disponibles
niveau
serveur…
<html>
<head>
<title>la
variable
$_server</title>
<meta
http-equiv="content-type"
content="text/html;
charset=iso-8859-1">
<link
href="../cefis.css"
rel="stylesheet"
type="text/css">
</head>
<body>
<p>
<?php
echo
"<span
class='important2'>nom
fichier
à
partir
de
racine:
</span>";
echo
$_server['php_self'].'<br><br>';
echo
"<span
class='important2'>nom
de
racine
script:
</span>";
echo
$_server['document_root'].'<br><br>';
echo
"<span
class='important2'>nom
client
html:
</span>";
20
n’y
avoir
garantie
sur
fourniture
de
information
prévoir
par
serveur
donné.
étienne
vandeput
–
©
cefis
2005
42

publier
sur
web
-
perfectionnement
echo
$_server['http_user_agent'].'<br><br>';
echo
"<span
class='important2'>nom
serveur
exécuter
script:
</span>";
echo
$_server['server_name'].'<br><br>';
?>
</p>
</body>
</html>
…dont
résultat
dans
contexte
donner
:
autre
moyen
d’accéder
valeur
tableau
$_server
être
d’activer
fonction
prédéfinie
phpinfo()
dans
script.
l’instruction
à
placer
dans
fichier
php
être
:
<?php
phpinfo()
?>
étienne
vandeput
–
©
cefis
2005
43

publier
sur
web
-
perfectionnement
petit
exemple
illustrer
profit
l’on
pouvoir
tirer
de
informations.
composante
$_server[remote_addr]
représenter
l’adresse
ip
client.
supposer
qu’une
page
être
réserver
à
catégorie
de
client
identifiables
par
adresse
ip
(par
exemple,
faculté
:
138.48….).
suffire
de
vérifier
client
avoir
adresse
commencer
par
deux
valeurs.
fonction
explode(<séparateur>,<chaîne>)
renvoyer
tableau
composante
être
élément
de
chaîne
<chaîne>
séparer
par
séparateur
<séparateur>.
$adresseip=explode(".",$_server['remote_addr']);
if(adresseip[0]!
!="138"||adresseip[1]!
!="48"){
echo
htmlentities("accès
limiter
fundp");
exit;
}
fonction
htmlentities(<chaîne>)
convertir
caractère
spéciaux
en
entité
html
(exemple
:
é
devenir
&eacute;.
l’utilisation
de
fonction
éviter
nombre
de
surprises.
2.3.3
constantes
constante
être
identifier
représenter
valeur
simple.
nom
de
constante
valide
commencer
par
lettre
souligner
(_),
suivre
d'un
nombre
quelconque
de
lettre,
chiffre
soulignés.
par
convention,
constantes
être
en
majuscules.
constantes
être
définir
grâce
à
fonction
define()
pouvoir
être
redéfinies.
$a=3;
define("valmax","100");
$a+=valmax;
echo
$a;
afficher
valeur
être
accessibles
de
manière
globale.
$a=3;
define("valmax","100");
$a+=valmax;
echo
$a.'<br>';
function
test(){
echo
valmax;
}
test();
2.3.4
type
en
php,
type
d'une
variable
n'est
déclarer
par
programmeur.
être
décider
moment
de
l'exécution,
en
fonction
contexte
dans
variable
être
utiliser
(voir
exemple
pour
variable
adresseip).
avoir
huit
type
de
base
dont:
quatre
type
scalaires
(valeurs
indécomposables)
étienne
vandeput
–
©
cefis
2005
44

publier
sur
web
-
perfectionnement
•
booléen
•
entier
•
nombre
à
virgule
flottante
•
chaîne
de
caractère
deux
type
composer
•
tableau
•
objet
deux
type
spéciaux
•
ressourcer
•
null
d'autres
langages,
php
offrir
possibilité
de
"transtyper"
variables
(casting).
examiner
type
scalaires.
autres
type
être
analyser
loin.
2.3.4.1
booléen
classiquement,
valeur
être
true
false
(casse
sans
importance).
variables
autres
type
pouvoir
être
transtypées
en
variable
booléenne.
ainsi,
par
exemple,
valeur
entière
0,
valeur
en
nombre
à
virgule
0.0,
chaîne
vide
chaîne
"0"
prendre
valeur
false
lorsqu'elles
être
transtypées
en
booléen.
2.3.4.2
entier
entiers
pouvoir
être
spécifier
en
base
décimale,
en
hexadécimal
en
octal
optionnellement
être
précéder
d'un
signe.
selon
systèmes,
environ
4
milliard
de
valeur
signer
être
possibles
(codage
sur
32
bits).
<?php
$i=123456;
$j=123.456e3;
$k=01234;
$l=0xaa45;
print
$i."<br>".$j."<br>".$k."<br>".$l
?>
2.3.4.3
nombre
à
virgule
flottante
exemple
illustrer
syntaxe
admise.
<?php
$i=123.456;
$j=1.23456e2;
$k=.123456e3;
print
$i."<br>".$j."<br>".$k
?>
étienne
vandeput
–
©
cefis
2005
45

publier
sur
web
-
perfectionnement
taille
nombre
décimaux
dépendre
de
plateforme.
configuration
répandre
permettre
de
coder
nombre
l'ordre
de
grandeur
être
de
1.8e308
avec
précision
de
14
décimales.
c'est
format
64
bit
ieee.
falloir
faire
confiance
nombre
à
virgule
jusqu'à
dernière
décimale
s'interdire
de
comparer
avec
l'opérateur
d'égalité.
2.3.4.4
chaîne
de
caractère
avoir
trois
manière
différentes
de
construire
chaîne
de
caractères:
•
en
utiliser
apostrophes;
•
en
utiliser
guillemets;
•
en
utiliser
syntaxe
heredoc
(dont
parler
pas).
2.3.4.5
apostrophe
$prenom='étienne';
chaîne
devoir
contenir
apostrophes,
devoir
échapper
avec
barre
oblique
inverser
(\).
$titre='l\'école
tic';
c'est
pareil
pour
barre
oblique
inverse
elle-même.
$remarque='utilisez
barre
oblique
inverse
(\\)
pour
échapper
caractères.';
nom
de
variables
présent
dans
chaîne
apparaître
tel
quels.
$c='la
variable
$nom';
<?php
$prenom='étienne<br>';
$titre='l\'école
tic<br>';
$remarque='utilisez
barre
oblique
inverse
(\\)
pour
échapper
caractères.<br>';
$c='la
variable
$nom';
echo
$prenom.'<br>'.$titre.'<br>'.$remarque.'<br>'.$c;
?>
observer
balise
html
être
texte
pouvoir
être
incluses
dans
chaîne
de
caractères.
être
interpréter
par
navigateur.
2.3.4.6
guillemet
l'apostrophe
devoir
être
échapper
guillemet.
nom
de
variables
être
remplacer
par
valeur
respectives.
<?php
$prenom="étienne";
$titre="le
cours
\"php\"<br>";
étienne
vandeput
–
©
cefis
2005
46

publier
sur
web
-
perfectionnement
$remarque="utilisez
barre
oblique
inverse
(\\)
pour
échapper
caractères.<br>";
$c="le
cours
php
être
donner
par
$prenom.<br>";
$d='le
cours
php
être
donner
par
$prenom.<br>';
$e='le
cours
php
être
donner
par
'.$prenom.'.<br>';
echo
$prenom."<br><br>".$titre."<br>".$remarque."<br>".$c."<br>".$d."<br>".$e;
?>
2.3.5
opérateur
langage
de
programmation,
php
proposer
opérateur
fonction
prédéfinies,
offrir
programmeur
possibilité
de
construire
propre
fonctions.
opérateur
(comme
fonction
prédéfinies)
être
nombreux
pour
être
décrire
ici.
pouvoir
référer
à
documentation
en
ligne
de
php21.
dans
suit,
contenter
d’évoquer
ceux,
parmi
classiques,
présenter
intérêt
immédiat.
être
utiliser
documenter
dans
exemple
suivent.
2.3.5.1
opérateur
d’assignation
l’assignation
faire
en
utiliser
symbole
=.
facilité
être
offrir
dans
de
nombreux
autres
langage
:
opérateur
combiner
+=
.=
$a
+=
$b
;
//
$a
=
$a
+
$b
;
$a
.=
$b
;
//
$a
=
$a
.
$b
;
assignation
combinées
$a
=
($b
=
5)
+
1;
//
$b
=
5
;
$a
=
$b
+
1
;
2.3.5.2
opérateur
de
comparaison
comparaison
pouvoir
faire
sur
valeur
sur
types.
c’est
raison
pour
laquelle,
à
l’opérateur
classique
de
comparaison
==,
s’ajoute
opérateur
vérifier
en
l’égalité
type
===.
$a
===
$b
posséder
valeur
true
deux
variables
contenir
mêmes
valeur
être
de
type.
trouver
de
opérateurs!
!=
et!
!==
pour
tester
différence
valeur
différence
valeur
types.
$a!
!==
$b
posséder
valeur
true
deux
variables
contenir
valeur
différentes
être
de
type
différents.
21
http://www.php.net/manual/fr/
étienne
vandeput
–
©
cefis
2005
47

publier
sur
web
-
perfectionnement
2.3.5.3
opérateur
d’incrémentation
décrémentation
opérateur
pouvoir
être
utiliser
de
concert
avec
tests.
c’est
raison
pour
parler
de
pré
de
post
incrémentation/décrémentation.
++$a
incrémenter
$a
avant
de
renvoyer
valeur
(pour
test
éventuel).
$a++
renvoyer
valeur
de
$a
avant
de
l’incrémenter.
expression
suivantes
--$a
$a--
être
équivalentes
en
décrémentation.
2.3.5.4
opérateur
logiques
opérateur
logiques
habituels,
et,
être
symboliser
par
&&,
||
et!
!.
exister
opérateur
and
or
être
équivalents
à
&&
à
||
à
qu’ils
avoir
priorité
différente.
profitons-en
rappeler
qu’il
falloir
être
attentif
à
priorité
opérateur
et,
en
cas
de
doute,
utiliser
parenthèses.
2.3.5.5
opérateur
de
chaîne
l’opérateur
de
concaténation
chaîne
de
caractère
être
point.
$nom
contenir
valeur
«
vandeput
»
$prenom,
valeur
«
étienne
»,
texte
afficher
par…
echo
"bonjour".$prenom."
".$nom.".";
…
sera…
bonjour
étienne
vandeput.
noter
différence
d'interprétation
point
dans
en
dehors
guillemets.
2.3.6
fonction
fonction
être
définir
de
manière
suivante
:
function
f(p1,p2,…,pn){
…
return
v;
…
}
à
partir
de
php4,
fonction
pouvoir
être
définir
n’importe
où.
toutefois,
fonction
définir
à
l’intérieur
d’une
autre
fonction
n’existe
dernière
être
appelée.
de
même,
fonction
définir
de
manière
conditionnelle
n’existe
condition
être
tester
vérifiée.
être
possible
de
passer
argument
par
valeur
(méthode
par
défaut)…
function
multiplier($a,$b){
$p=$a*$b
;
return
$p
;
}
echo
multiplier(4,8);
…ou
par
référence…
function
tripler(&$n){
$n*=3
;
}
étienne
vandeput
–
©
cefis
2005
48

publier
sur
web
-
perfectionnement
$a=5
;
tripler($a);
echo
$a;
exister
de
nombreuses
fonction
prédéfinies
en
php.
2.3.7
expression
l'association
opérateurs,
fonctions,
variables
constantes
donner
naissance
à
expressions.
pouvoir
dire
d'une
expression,
qu'elle
avoir
valeur
d'un
type.
dans
l'exemple
suit,
l'opérateur
%
désigner
reste
de
division
entière
de
…
par
…
<?php
$x=12;
$y=$x%5;
echo
$x."
modulo
5
égale
".$y.".<br>";
$x=($y=4)+5;
echo
"x
valoir
$x
valoir
$y.";
?>
…donnera…
12
modulo
5
égaler
x
valoir
9
valoir
@ord@
pouvoir
constater,
php
offrir
facilité
d'écriture
langage
récents.
2.3.8
instruction
de
contrôle
plupart
langage
de
script,
php
offrir
grande
variété
d’instructions
de
contrôle
grande
souplesse
d’écriture.
2.3.8.1
l’instruction
if
pour
commencer,
être
important
de
rendre
compte
variables
de
type
pouvoir
être
considérer
expression
booléennes.
ainsi,
variable
$x
utiliser
dans
contexte
booléen
fournir
valeur
true
contenir
valeur
zéro
numérique,
chaîne
vide,
valeur
logique
false
qu’elle
être
définie.
par
exemple,…
$x=1;
if($x){
echo
"vrai";
}
else{
echo
"true";
}
…affichera
vrai.
l’utilisation
accolade
n’est
nécessaire,
être
souhaitable.
d’autres
instruction
pouvoir
venir
s’ajouter
par
suite.
étienne
vandeput
–
©
cefis
2005
49

publier
sur
web
-
perfectionnement
2.3.8.2
l’instruction
if-elseif-else
l’instruction
if-elseif-else
être
instruction
souple
permettre
d’effectuer
test
de
nature
différentes.
pouvoir
comporter
de
elseif
nécessaire.
à
nouveau
test,
dans
bloc
else,
s’intéresse
qu’aux
cas
restants.
if($nombre%2){
echo
"nombre
impair";
}
elseif($nombre%3){
echo
"nombre
divisible
par
3";
}
else{
echo
"nombre
pair,
multiple
de
3";
}
2.3.8.3
l'instruction
switch
l'instruction
switch
être
alternative
à
construction
if-elseif-else.
être
souple
dans
d'autres
langage
accepter
d'autres
valeur
valeur
entières.
préfèrera
dans
cas
c'est
même
expression
devoir
être
testée.
switch($a){
case
($a>99):
$b="excessif";
break;
caser
($a>75):
$b="élevé";
break;
caser
($a>50):
$b="normal";
break;
default:
$b="faible";
}
l'instruction
break
éviter
passage
autres
instructions.
en
l'absence
de
instructions,
valeur
de
$a
de
88
faire
afficher
faible
élevé.
2.3.8.4
l'instruction
while
l'instruction
while
être
courante
instruction
de
boucles.
bloc
instruction
qu'elle
encadrer
être
exécuter
condition
être
vérifiée,
impliquer
celle-ci
évaluer
avant
parcours
de
boucle.
while($a>50){
$a-=5;
}
echo
$a;
$a
posséder
valeur
88,
valeur
48
être
affichée.
instruction
break
continue
permettre
de
quitter
boucle
d'interrompre
cycle
en
cours
pour
passer
cycle
suivant.
2.3.8.5
l'instruction
do…while
l'instruction
do…while
permettre
à
boucle
d'être
effectuer
fois.
condition
n'est
en
effet
tester
qu'en
fin
de
boucle.
étienne
vandeput
–
©
cefis
2005
50

publier
sur
web
-
perfectionnement
instruction
suivre
faire
afficher
date
jour
succéder
d'aujourd'hui
jusqu'au
premier
dimanche
de
mars.
$jourcourant=time();
echo
"<ol>\n";
do{
echo
"<li>".date("l
j
f",$jourcourant)."
".date("j",$jourcourant)."
".date("f",$jourcourant)."</li>\n";
$jourcourant+=86400;
}
while(date("l",$jourcourant)!
!="sunday"||date("f",$jourcourant)!
!="march");
echo
"</ol>\n";
fonction
time()
générer
estampille
(le
moment
présent
exprimer
en
secondes
depuis
1er
janvier
1970).
fonction
date()
avoir
argument
format
estampille.
pour
signification
formats,
référez-vous
à
documentation
php.
script
augmenter
d'un
jour
moment
courir
avant
d'en
afficher
paramètre
dans
liste
numérotée.
noter
être
premier
dimanche
de
mars,
script
afficher
paramètre
de
365
jours.
2.3.8.6
l'instruction
for
l'instruction
for
permettre
de
faire
économie
d'écriture
dans
cas
nombre
de
passage
dans
boucle
être
déterminable.
voici,
dans
conditions,
devenir
script
précédent:
echo
"<ol>\n";
for(
$jourcourant=time();
date("l",$jourcourant)!
!="sunday"
||date("f",$jourcourant)!
!="march";
$jourcourant+=86400
){
echo
"<li>".date("l
j
f",$jourcourant)."</li>\n";
}
echo
"</ol>\n";
2.3.8.7
l'instruction
foreach
l'instruction
foreach
être
relative
tableaux.
décrire
moment
détailler
structure
intéressantes.
2.4
exercice
formulaire
(incomplet)
présenter
de
sorte
:
étienne
vandeput
–
©
cefis
2005
51

publier
sur
web
-
perfectionnement
s'agit
de
faire
en
sorte
choix
bouton
radio
«
madame
»
introduire
modification
graphiques
suivantes
:
ajouter
différents
champ
devoir
vider
de
contenu
dès
qu’ils
recevoir
focus.
l’idée
être
d’ajouter
attribut
événement
à
bouton
radio
en
associer
soumission
formulaire
avec,
action,
script
de
reconstitution
formulaire.
premier
fichier
html
contenir
formulaire
initial.
second
fichier
php
contenir
script
reconstituer
nouvelle
page
avec
de
champ
texte
selon
choix.
<form
name="form1"
method="post"
action="transmis.php">
<p>
<label>
<input
name="sexe"
type="radio"
onclick="this.form.action='sexe.php';
this.form.submit();
"
value="0"
checked>
monsieur</label>
<br>
<label>
<input
type="radio"
name="sexe"
value="1"
onclick="this.form.action='sexe.php';
this.form.submit();
">
madame</label>
coordonn&eacute;es:
<input
name="textfield"
type="text"
class="gris"
value="nom"
onfocus="this.value='';">
<input
name="submit"
type="submit"
class="important1"
value="envoyer">
<br>
</p>
</form>
étienne
vandeput
–
©
cefis
2005
52

publier
sur
web
-
perfectionnement
attribut
class
de
élément
traduire
l’utilisation
de
style
personnalisés.
attribut
onfocus
servir
vidage
champs.
lorsqu’un
bouton
être
sélectionné,
l’action
formulaire
être
changer
formulaire
être
soumettre
en
invoquer
script
sexe.php
code
suivre
aller
reconstituer
nouveau
formulaire.
<form
name="form1"
method="post"
action="transmis.php">
<p>
<label>
<input
name="sexe"
type="radio"
onclick="this.form.action='sexe.php';
this.form.submit();
"
value="0"
checked>
monsieur</label>
<br>
<label>
<input
type="radio"
name="sexe"
value="1"
<?php
$sexe=$_post["sexe"];
if($sexe=="1"){
echo
"checked";}
?>
onclick="this.form.action='sexe.php';
this.form.submit();
">
madame</label>
</p>
<p>coordonn&eacute;es:
<?php
if($sexe=="1"){
echo
"<input
name='njf'
type='text'
class='gris'
value='nom
de
jeune
fille'
onfocus='this.value=\"\"'>\n";
echo
"<input
name='nfm'
type='text'
size='25'
class='gris'
value='nom
de
femme
mariée'
onfocus='this.value=\"\"'>\n";
}
else{
echo
"<input
name='nom'
type='text'
class='gris'
value='nom'
onfocus='this.value=\"\"'>\n";
}
?>
<input
name="submit"
type="submit"
class="important1"
value="envoyer">
<br>
</p>
</form>
code
php
de
document
trouver
à
deux
endroits.
premier
morceau
de
code
servir
à
cocher
bouton
radio
correspondre
choix
«
madame
»
dans
formulaire
reconstitué.
n’est
nécessaire
de
préciser
pour
l’autre
choix.
c’est
premier
choix
être
sélectionner
par
défaut.
observer
code
être
insérer
à
l’intérieur
même
de
définition
d’un
élément,
montrer
deux
langage
pouvoir
être
mélangés.
deuxième
morceau
permettre
création
deux
champ
retour
à
seul
champ
avec
valeur
par
défaut
nécessaires.
niveau
syntaxique,
noter
apostrophes,
placer
à
l’intérieur
guillemets,
permettre
d’éviter
l’échappement
de
caractères.
toutefois,
troisième
niveau
d’inclusion,
pour
chaîne
de
caractère
vide,
obliger
l’échappement
de
guillemets.
étienne
vandeput
–
©
cefis
2005
53

publier
sur
web
-
perfectionnement
2.5
tableau
en
php
tableau
être
association
ordonnée.
association
être
type
faire
correspondre
valeur
à
clés.
type
être
optimiser
de
diverses
façons,
faire
qu’on
pouvoir
manipuler
de
diverses
manières.
valeur
pouvoir
être
tableau,
pouvoir
simuler
un
arbre.
2.5.1
créer
tableau
élément
d’un
tableau
pouvoir
être
créer
à
volée.
$montableau[]="pomme";
$montableau[]="poire";
$montableau[]="abricot";
$montableau[]="cerise";
$montableau[]="pêche";
dans
cas,
index
de
0
à
…
être
créé.
tableau
pouvoir
être
créer
avec
fonction
array().
fonction
prendre
en
argument
structure
key
=>
value,
séparer
par
virgules.
array(
[key
=>]
valoir
,
...
)
//
key
être
chaîne
entier
positif
//
valoir
pouvoir
être
de
n'importe
typer
(y
comprendre
autre
tableau)
en
illustration
:
<?php
$table
=
array("nom"
=>
"vandeput",
10
=>
125);
echo
$table["nom"];
//
affiche
vandeput
echo
$table[10];
//
affiche
125
?>
tableau
pouvoir
être
multidimensionnel:
$voitures=array(
"allemandes"
=>
array("opel",
"bmw",
"vw",
"mercedes"),
"francaises"
=>
array("peugeot",
"citroen",
"renault"),
"italiennes"
=>
array("alpha
romeo",
"fiat")
);
echo
$voitures["francaises"][2];
//
afficher
renault
constater
tableau
être
structure
de
donnée
souple.
2.5.2
fonction
lier
tableau
exemple
illustre
nombreuses
fonction
prédéfinies
prendre
tableau
en
argument.
tableau
être
parcourir
début
à
fin
clé
être
afficher
en
regard
valeur
correspondantes.
<?php
$coordonnees['nom']="vandeput";
étienne
vandeput
–
©
cefis
2005
54

publier
sur
web
-
perfectionnement
$coordonnees['prenom']="étienne";
$coordonnees['organisme']="cefis";
for(reset($coordonnees);$k=key($coordonnees);next($coordonnees)){
$v=current($coordonnees);
echo
"la
valeur
de
clé
<span
class='important2'>".$k."</span>
être
<span
class='important2'>".$v."</span><br>";
}
?>
tableau
être
remplir
à
volée.
boucle
for
faire
apparaître
trois
élément
habituels:
initialisation,
condition
d'arrêt,
évolution
variables.
examinons-les
un
à
un.
reset(coordonnees)
:
fonction
reset
placer
pointeur
interne
sur
premier
élément
tableau.
key(coordonnees)
:
fonction
key
fournir
clé
de
l'élément
courant.
en
bout
de
tableau,
valeur
renvoyer
être
false,
convient
test
d'arrêt.
next(coordonnees)
:
fonction
next
placer
pointeur
interne
sur
l’élément
suivant
s’il
existe.
current(coordonnees)
:
fonction
current
renvoyer
valeur
de
l’élément
courant.
2.6
session
dans
nombre
de
cas,
être
bon
l’accès
page
web
d’un
site
réglementé.
technique
consister
à
demander
client
de
fournir
identificateur
mot
de
passe.
pour
éviter
stockage
en
clair
de
mot
de
passe
dans
base
de
données,
celui-ci
pouvoir
être
encrypté.
l’intérêt
d’une
session
résider
dans
production
de
variables
l’existence
servir
à
vérifier
l’utilisateur
s’est
identifier
correctement.
variables,
globales
en
php4,
éviter
de
devoir
véhiculer
valeur
d’une
page
à
autre
site.
falloir
distinguer
création
d’un
nouvel
utilisateur
de
authentification.
script
javascript
pouvoir
traiter
deux
option
moyen
de
bouton
radios.
2.6.1
création
d’un
nouvel
utilisateur
de
création
d’un
nouvel
utilisateur,
veiller
à
vérifier
l’unicité
de
l’identificateur
avoir
soin
d’encrypter
mot
de
passe
avant
de
stocker
dans
base
de
données.
utiliser
deux
fichiers.
premier
permettre
de
saisir
information
provenir
de
l’utilisateur,
second,
de
préparer
de
stocker
information
dans
base
de
donnée
(voir
section
consacrer
à
mysql).
profiter
pour
définir
variables
de
session
qu’il
être
nécessaire
de
véhiculer
d’une
page
à
l’autre.
théoriquement,
falloir
veiller
à
connecter
l’utilisateur
site.
2.6.2
authentification
d’un
utilisateur
processus
d’authentification
consister
à
vérifier
l’identificateur
mot
de
passer
encrypté
concordent.
passer
par
accès
à
base
de
données.
aussi,
profiter
pour
définir
variables
de
session
nécessaires
connecter
l’utilisateur
site.
2.6.3
identificateur
de
session
principe
être
utilisateur
recevoir
numéro
unique
identifier
session
appeler
«
session
id
».
création
être
lier
démarrage
de
session
provoquer
par
fonction
session_start().
but
de
fonction
être
de
créer
session,
l’utilisateur
s’est
connecté,
de
restaurer
étienne
vandeput
–
©
cefis
2005
55

publier
sur
web
-
perfectionnement
session
trouver
sur
serveur
grâce
à
«
session
id
».
dans
cas,
dernier
être
fourni,
par
cookie
via
requête
get
post.
fait
client
refuser
cookies
parler
en
faveur
de
solution
souple.
«
session
id
»
pouvoir
être
propagé,
à
travers
url,
grâce
à
constante
sid
contient.
<a
href="autrepage.php?<?php
echo
sid;
?>">autre
page</a>
grâce
à
l'identifiant
de
session,
php
pouvoir
retrouver
variables
associer
à
session.
2.7
inclusion
de
fichier
de
modéliser
page
d’un
site,
être
utile
de
récupérer
partie
entières
de
code.
php
fournit,
avec
fonction
include(),
l’opportunité
d’inclure
dans
fichier
code
de
autres
fichiers.
exister
autre
fonction
être
fonction
require().
dans
dernier
cas,
l'absence
fichier
provoquer
l'interruption
de
l'exécution
pour
cause
d'erreur
fatale.
à
titre
d'exemple,
pouvoir
faire
en
sorte
l'exécution
d'un
fichier
produire
l'entête
page
l'exécution
d'un
autre,
pied-de-page.
code
fichier
entete.php.
<html>
<head>
<title>document
sans
titre</title>
<meta
http-equiv="content-type"
content="text/html;
charset=iso-8859-1">
<link
href="../cefis.css"
rel="stylesheet"
type="text/css">
<style
type="text/css">
<!
!-.grand
{
font-size:
24px;
color:
#999999;
}
-->
</style>
<style
type="text/css">
<!
!-.blanc
{
color:
#ffffff;
}
td
{
padding:
5px;
}
-->
</style>
</head>
étienne
vandeput
–
©
cefis
2005
56

publier
sur
web
-
perfectionnement
<body>
<table
width="555"
height="113"
border="1"
cellpadding="10"
cellspacing="0"
bordercolor="#ff8888"
bgcolor="#ffdfd5"
class="grand">
<tr>
<td
height="109">
<div
align="center"><img
src="../images/cathedrale.jpg"
width="112"
height="89"
align="left"><span
class="grand">d&eacute;partement
&eacute;ducation
technologie</span></div>
</td>
</tr>
</table>
fichier
contenir
instruction
d'entête
habituelles
d'un
fichier
html.
trouver
définition
de
style
propres
à
fichier.
noter
style
être
disponibles
niveau
de
fichier
inclure
celui-ci.
l'élément
<body>
être
ouvrir
dans
fichier
être
fermer
dans
fichier
pied-de-page.
autres
instruction
être
de
définition
d'un
tableau.
fichier
de
pieddepage.php.
<table
width="555"
border="1"
cellpadding="10"
cellspacing="0"
bordercolor="#ff8888"
bgcolor="#ffdfd5">
<tr>
<td><a
href="mailto:webmaster@det.fundp.ac.be">contacter</a>
<span
class="gris">
webmaster</span></td>
</tr>
</table>
</body>
</html>
trouver
définition
d'un
autre
tableau.
noter
qu'il
n'était
nécessaire
de
clôturer
tableau
dans
fichier
d'entête.
pouvoir
en
continuer
définition
dans
autres
fichiers.
style
gris
être
utilisé.
être
définir
grâce
fichier
précédent.
bénéficier
d'autres
définition
de
style
pour
mise
en
forme
liens.
inclure
deux
autres
contenir
balise
de
début
de
fin
d'un
fichier
html
classique.
en
code:
<?php
include('entete.php');
?>
<table
width="556"
border="0"
cellspacing="2"
cellpadding="10">
<tr>
<td
height="300"
valign="top"
bgcolor="#ffffcc">ceci
être
page
inclure
ent&ecirc;te
pied
de
page.
</td>
</tr>
</table>
<?php
include('pieddepage.php');
?>
s'agit
à
nouveau
de
définition
d'un
tableau
d'une
seule
cellule.
remarquer
premier
dernière
instruction
être
instruction
php
d'inclusion
de
fichiers.
résultat
à
l'affichage:
étienne
vandeput
–
©
cefis
2005
57

publier
sur
web
-
perfectionnement
2.8
exercice
s'agit
de
réaliser
entêter
(entete.php)
pied
de
page
(pieddepage.php)
servir
de
modèle
pour
page
d'un
site.
premier
page
de
site
(login.php)
permettre
de
choisir,
de
s'y
connecter,
être
de
constituer
en
nouvel
utilisateur.
dans
cas,
demander
information
(formulaire.php):
nom,
prénom,
adresse…
information
reçues
être
stocker
dans
base
de
donnée
l'utilisateur
être
connecter
site
(enregistrer.php).
pour
faire,
message
indiquer
donnée
avoir
être
enregistrer
suffira.
auparavant,
donnée
être
préparées:
mot
de
passe
encrypté,
nom
transformer
en
majuscules,
blanc
inutiles
détruits…
dans
cas
d'une
connexion
immédiate
(connexion.php),
message
annoncer
l'utilisateur
être
connecter
site.
page
avoir
même
aspect
général
grâce
fichier
inclus.
opération
de
connexion
à
bd,
de
vérification
mot
de
passe,
d'enregistrement
être
programmer
à
stade
connaissance
développées.
étienne
vandeput
–
©
cefis
2005
58

publier
sur
web
-
perfectionnement
3.
mysql
3.1
l'association
entre
mysql
php
mysql
être
système
de
gestion
de
base
de
donnée
relationnelles
baser
sur
langage
d'interrogation
sql
(structured
query
language).
c'est
un
derniers
logiciel
open
source
de
catégorie
apparaître
sur
marché
(si
terme
avoir
sens).
développer
à
partir
d'un
autre
sgbd
porter
nom
de
msql,
posséder
de
nombreuses
qualité
d'être
portable,
en
sens
qu'il
s'exécute
sur
à
système
d'exploitation
type
de
matériel.
sgbd,
mysql
permettre
de
créer
de
gérer
base
de
données.
dans
contexte
intéresse,
langage
php
être
capable
de
prendre
en
compte
commande
de
mysql
d'interroger
base
de
donnée
créer
avec
sgbd.
communication
de
l'un
à
l'autre
faire
de
manière
souple.
donner
un
illustration.
requête
qu'on
pouvoir
l'effectuer
sous
mysql:
select
upper(nom),prenom,login
from
inscrire
where
choix='c'
order
by
nom;
requête
sélectionner
valeur
colonnes22
nom
prenom
dans
table
s'appelant
inscrits,
colonne
choix
contenir
valeur
c,
ordonner
résultat
par
ordre
alphabétique
valeur
trouver
dans
colonne
nom.
mysql
produire
résultat
sous
forme
d'un
affichage
en
mettre
valeur
de
colonne
nom
en
majuscules.
même
requête,
effectuer
via
script
php
s'écrira:
22
notion
de
table
de
colonne
être
terme
propres
à
utiliser.
être
définir
dans
suite
chapitre.
étienne
vandeput
–
©
cefis
2005
59

publier
sur
web
-
perfectionnement
$sqlquery="select
upper(nom),prenom
from
inscrire
where
choix='c'
order
by
nom";
$queryresult=mysql_query($sqlquery)
or
die
("<p>la
requête
avoir
échoué.</p>");
pouvoir
constater,
requête
être
fournir
sous
forme
d'une
chaîne
de
caractère
(stockée
préalablement,
ici,
dans
variable
$sqlquery).
syntaxiquement
parlant,
point-virgule,
nécessaire
en
mysql,
être
omettre
dans
chaîne
de
caractères.
point-virgule
terminer
l'instruction
php.
fonction
mysql_query
prendre
chaîne
de
caractère
en
argument
renvoyer
résultat
de
requête
dans
variable
tableau
($queryresult
dans
exemple),
script
pouvoir
exploiter
contenu
à
convenance.
3.2
conception
d'une
base
de
donnée
conception
d'une
base
de
donnée
s'appuie
sur
réalisation
d'un
schéma
décrire
de
manière
statique
réalité
l'on
vouloir
prendre
en
compte.
pour
un
de
schéma
décrivons,
démarche
consister
à
isoler
entité
à
associer.
c'est
raison
pour
parler
de
schéma
entités-relations-associations
schéma
era.
réalisation
de
schéma
aller
de
soi.
contenter
de
décrire
notion
principales
représentation.
attarder
sur
stratégie
(notamment
différentes
forme
de
normalisation
relations)
méthode
de
conception
base
de
données.
3.2.1
schéma
era
former
id
nom
prenom
…
formation
participer
0-n
être
suivre
par
participer
0-n
id
titre
nbrinscrits
…
être
assurer
par
1-1
assurer
assurer
1-n
formateur
schéma
era
identifier
entités.
l'identification
de
entité
être
réalisée,
travers
d'interviews
de
personne
occuper
dans
domaine,
de
document
décrire
activités.
par
exemple,
l'interview
directeur
cefis
pouvoir
fournir
renseignement
à
propos
formation
organisées,
personne
organiser
être
responsables,
participants,
etc.
de
interview,
pouvoir
émerger
entité
telles:
formation,
formateur,
formé,
ouvrager
(de
référence),
local,…
en
principe,
description
s'arrête
gestion
s'arrête.
si,
dans
problème
de
gestion
formation
cefis,
l'attribution
locaux
n'est
problème,
notion
de
local
être
prendre
en
compte,
en
cas
entité
à
gérer.
id
nom
…
entité
être
qualifier
par
attribut
caractérisent.
pour
être
identifiée,
entité
devoir
avoir
identifiant.
nature
d'un
identifier
pouvoir
être
variée.
l'identifiant
être
simple
attribut.
être
qualifier
de
naturel
l'information
permettre
d'identifier
l'enregistrement
(le
nom
d'un
pays,
par
exemple).
être
construire
(numéro
d'enregistrement)
(matricule,
isbn,…).
pouvoir
être
multiple
(le
coder
postal
localité
pour
identifier
ville
village).
3.2.2
entités,
associations,
attributs,
rôle
cardinalités
dans
schéma
era,
entité
être
relier
entre
par
associations.
association
pouvoir
être
décrire
par
verbes.
dans
schéma
précédent,
participer,
assurer
être
associations.
étienne
vandeput
–
©
cefis
2005
60

publier
sur
web
-
perfectionnement
entité
posséder
attributs.
association
pouvoir
en
posséder
aussi.
attribut
être
propriété
devoir
être
considérer
entité
dans
problème
traité.
ainsi,
par
exemple,
formé
pouvoir
faire
partie
d'une
institution.
base
de
donnée
être
concevoir
de
manière
à
prendre
en
compte
traitement
spécifiques
sur
institutions,
celles-ci
devoir
être
considérer
entités.
sinon,
l'institution
pouvoir
être
considérer
attribut
formé.
entité
jouer
rôle
dans
un
association.
formateur
assurer
formation,
formation
être
assurer
par
formateur.
nombre
d'entités
pouvoir
jouer
même
rôle
être
appeler
cardinalité.
dans
l'exemple
précède,
formé
être
inscrire
à
nombre
de
formation
varier
entre
0
n.
pouvoir
s'étonner
de
trouver
nombre
0
@ord@
dans
contexte
formé
être
connaître
système,
pour
avoir
participer
année
à
formations,
avoir
sens.
formation
être
assurer
par
un
seul
formateur
qui,
dans
l'exemple,
donner
formation.
former
institution
id
nom
prenom
…
travailler
1-n
id
nom
adresse
…
avoir
engager
travailler
1-n
présence
d'un
attribut
dans
élément
(entités
association)
de
schéma
n'est
contradictoire.
téléphone
formé
être
privé.
avoir
de
l'institution
de
lieu
de
travail
(bureau).
3.2.3
transformation
en
table
concrètement,
entité
association
aller
subsister
dans
schéma
final
aller
être
transformer
en
tables.
table
être
ensemble
de
ligne
et/ou
de
colonnes.
ligne
correspondre
à
enregistrement,
colonne
à
information
à
propos
de
enregistrement.
enregistrement
d'une
même
table
être
caractériser
de
même
manière.
à
l'intersection
d'une
ligne
d'une
colonne,
trouver
information
qui,
voir
loin,
être
d'un
type.
transformation
s'effectue
de
manière
suivante.
pour
relation
1
à
1:
e2
e1
id1
…
a
0-1
0-1
e1
id1
id2
…
id2
e1
id1
e2
id2
e2
id2
id1
deux
entité
donner
naissance
à
deux
table
l'association
disparaît.
l'identifiant
d'une
deux
entité
servir
de
lien
entre
deux
tables.
parler
de
clé
étrangère
identifier
élément
d'une
autre
table.
relation
1
à
n:
formateur
formation
id1
…
assurer
1-1
étienne
vandeput
–
©
cefis
2005
1-n
id2
…
formation
id1
id2
formateur
id2
61

publier
sur
web
-
perfectionnement
deux
entité
donner
naissance
à
deux
table
l'association
disparaît.
l'identifiant
de
l'entité
côté
1
sert
de
clé
étrangère
pour
l'entité
côté
n.
relation
n
à
n:
deux
entité
donner
naissance
à
deux
table
l'association
à
troisième.
identifiants
deux
entité
retrouver
dans
table
correspondre
à
l'association.
formation
former
id1
…
participer
0-n
0-n
id2
…
formation
id1
former
id2
participer
id1
id2
3.2.4
association
ternaires
exister
relation
complexes
relation
binaires.
en
exemple.
fournisseur
0-n
commander
nocomm
…
nofourn
…
0-n
assigner
quantité
proposer
1-n
0-n
0-n
produire
noprod
…
fournisseur
proposer
de
0
à
n
produits.
produit
être
proposer
par
0
à
n
fournisseurs.
commande
être
assigner
à
fournisseur
pour
certaine
quantité
d'un
produit.
3.2.5
clé
étrangères
lorsqu'un
schéma
era
être
établi,
pouvoir
être
convertir
en
série
de
tables.
relation
entre
table
dépendre
identifiants
de
d'entre
elles.
identifier
d'une
table
présent
dans
autre
table
être
appeler
clé
étrangère.
être
clé
étrangères
permettre
de
relier
information
entre
elles.
sgbd
être
censés
gérer
clé
étrangères
donc,
notamment,
mise
à
jour,
insertions,
suppressions.
par
exemple,
dans
table
note
contenir
note
étudiants,
enregistrement
contenir
l'identifiant
de
l'étudiant
etud_id,
par
exemple,
suppression
d'un
étudier
dans
table
etudiants
(dont
l'identifiant
être
etud_id)
devoir
entraîner
suppression
de
note
de
étudiant.
n'est
cas
avec
mysql,
choix
d'implémentation
s'étant
focaliser
sur
vitesse
de
traitement,
déterminante
sur
internet.
gestion
devoir
être
prendre
en
compte
par
programmeur
php.
étienne
vandeput
–
©
cefis
2005
62

publier
sur
web
-
perfectionnement
3.3
table
contenu
3.3.1
structure
d'une
table
avant
de
préciser
contenu
d'une
table,
convient
d'en
définir
structure,
à
savoir
nom
colonnes,
type
d'information
qu'elles
aller
contenir
statut
éventuel
(identifiant,
vide,
unique,…).
tableau
reprendre
nom
colonnes,
type
d'information
contenir
(voir
pour
description
complète),
indication
préciser
champ
pouvoir
être
vide
(dans
l'exemple,
prénom
pouvoir
l'être),
autre
préciser
champ
faire
partir
de
l'identifiant
(voir
paragraphe
suivant),
valeur
par
défaut
s'il
avoir
un
information
supplémentaire
(qui
précise,
dans
cas,
valeur
champ
être
incrémenter
de
manière
automatique).
de
détail
être
donner
par
suite
à
propos
différentes
option
possibles.
3.3.2
type
d'informations
type
d'informations
disponibles
être
nombreux.
type
généraux
être
évidemment:
numérique,
chaîne
de
caractère
date/heure
décliner
en
de
multiple
sous-types.
3.3.2.1
type
numériques
type
possibles
être
reprendre
dans
tableau
ci-dessous:
nom
type
espacer
requérir
signer
signer
tinyint[(m)]
1
octet
-27
à
27-1
0
à
28-1
smallint[(m)]
2
octet
-215
à
215-1
0
à
216-1
mediumint[(m)]
3
octet
-223
à
223-1
0
à
224-1
int[(m)]
4
octet
-231
à
231-1
0
à
232-1
bigint[(m)]
8
octet
-263
à
263-1
0
à
264-1
espace
requérir
minimum
maximum
float[(m,d)]
4
octet
±1,17e-38
±3,40e+38
double[(m,d)]
8
octet
±2,23e-308
±1,80e-308
decimal(m,d)
m+2
octet
texte
texte
nom
type
valeur
m
d
être
optionnelles,
sauf
pour
type
decimal
servir
à
gérer
l'affichage.
par
exemple,
decimal(4,2)
permettre
de
coder
nombre
de
-99.99
à
999,99.
étienne
vandeput
–
©
cefis
2005
63

publier
sur
web
-
perfectionnement
c'est
attribut
particulier
unsigned
permettre
de
déclarer
entiers
signés
non.
de
même,
l'attribut
zerofill
permettre
d'ajouter
zéro
à
l'affichage
pour
atteindre
valeur
maximum
autorisée.
3.3.2.2
type
chaîne
de
caractère
type
possibles
être
reprendre
dans
tableau
ci-dessous:
nom
type
espacer
requérir
taille
maximale
m
octet
m
octet
varchar(m)
l+1
octet
m
octet
tinyblob,
tinytext
l+1
octet
28-1
octet
blob,
text
l+2
octet
216-1
octet
mediumblob,
mediumtext
l+3
octet
224-1
octet
longblob,
longtext
l+4
octet
232-1
octet
enum("val1","val2",…)
1
2
octet
65.535
valeur
set("val1","val2",…)
1,
2,
3,
4
8
octet
64
valeur
char(m)
l
être
longueur
de
chaîne.
valeur
être
stocker
dans
octet
supplémentaires
(1
à
4
selon
longueur).
valeur
de
type
enum
être
stocker
nombre
(leur
numéro
d'ordre),
avoir
pour
effet
de
diminuer
taille
(2
octet
suffire
pour
encoder
65.535
valeurs).
valeur
d'un
typer
set
être
coder
avec
seul
bit
à
1.
ainsi,
s'il
avoir
4
valeurs,
être
coder
0001,
0010,
0100
1000,
de
sorte
enregistrement
prendre
premier
troisième
de
valeurs,
l'information
coder
@ord@
pour
64
valeurs,
falloir
8
octets.
falloir
noter
colonne
être
de
type
varchar,
autres
colonne
de
type
char
devenir
aussi.
3.3.2.3
type
date
heure
type
possibles
être
reprendre
dans
tableau
ci-dessous:
nom
type
espacer
requérir
intervalle
date
3
octet
"1000-01-01"
à
"9999-12-31"
time
3
octet
"-838:59:59"
à
"838:59:59"
datetime
8
octet
"1000-01-01
00:00:00"
à
"9999-12-31
00:00:00"
timestamp[(m)]
4
octet
19700101000000
à
2037…
year[(m)]
1
octet
1901
à
2155
pouvoir
constater,
date
commencer
par
l'année,
suivre
mois
jour.
valeur
par
défaut
de
timestamp
correspondre
à
date
l'heure
serveur
dans
propre
fuseau
horaire.
étienne
vandeput
–
©
cefis
2005
64

publier
sur
web
-
perfectionnement
3.4
primitif
de
gestion
d'une
base
de
donnée
3.4.1
accès
à
bd
à
table
3.4.1.1
connexion
à
mysql
en
ligne
de
commande,
devoir
préciser
nom
de
l'hôte,
nom
d'utilisateur
mot
de
passe.
c:\program
files\easyphp1-7\mysql\bin
>
mysql
-h
localhost
-u
root
-p
serveur
trouver
sur
machine
locale,
premier
paramètre
n'est
obligatoire.
par
défaut,
seul
utilisateur
reconnaître
par
mysql
être
root
falloir
fournir
de
mot
de
passe.
l'instruction
suivante
convient
donc:
c:\program
files\easyphp1-7\mysql\bin>
mysql
-u
root
c:\program
files\easyphp1-7\mysql\bin>
mysql
–uroot
un
premier
démarche
à
effectuer,
mysql
n'est
installer
localement,
c'est
de
sécuriser.
l'application
phpmyadmin
être
question
dans
paragraphe
suivant,
permettre
d'effectuer
opération
en
remplaçant,
par
exemple,
l'utilisateur
root
par
utilisateur
administrateur
devoir
fournir
mot
de
passe.
l'administrateur
pouvoir
définir
d'autres
utilisateurs
décider
de
privilèges.
opération
venir
d'être
question
être
à
réaliser
avec
prudence
pour
éviter
de
perdre
l'accès
serveurs.
être
conseiller
de
rechercher
de
documentation
sur
internet
à
propos23,
avant
de
lancer
dans
l'aventure.
toutefois,
désinstallation
réinstallation
de
easyphp
être
rapides,
relativiser
danger.
3.4.1.2
déconnexion
de
mysql
pour
déconnecter
de
mysql,
utiliser
commande
quit.
mysql>
quit
falloir
noter
commande
être
insensibles
à
casse,
sauf
en
concerner
nom
base
de
donnée
tables.
3.4.1.3
information
sur
bd
existantes
pouvoir
obtenir
liste
base
de
donnée
par
commande
mysql>
show
databases;
commande
fournir
en
ligne
de
commande
devoir
terminer
par
point-virgule,
instruction
pouvoir
s'étendre
sur
lignes.
convient
de
sélectionner
base
de
donnée
travailler.
opération
être
réaliser
grâce
à
commande
use.
mysql>
user
exemple;
base
de
donnée
être
accessible
pouvoir
inquiéter
23
…comme
adresse
http://www.wampserver.com/faq4.php
http://linuxeduquebec.org/article.php3?id_article=4
étienne
vandeput
–
©
cefis
2005
65

publier
sur
web
-
perfectionnement
table
composer
en
servir
de
commande
show
tables.
mysql>
show
tables;
liste
table
constituer
base
de
donnée
être
affichée.
dans
l'exemple
ci-contre,
constater
qu'il
n'y
avoir
qu'une
seule
tabler
appeler
user
dans
base
de
données.
structure
d'une
table
(nom
colonnes,
type
autres
attributs)
pouvoir
être
obtenir
grâce
à
commande
describe.
résultat
pouvoir
être
obtenir
avec
commande
show
columns
from.
mysql>
describe
users;
commande
select
database()
permettre
de
connaître
base
de
donnée
active.
mysql>
select
database();
aperçu
commande
permettre
d'obtenir
renseignement
souhaiter
à
propos
base
de
donnée
existantes.
n'est
question,
à
stade,
d'interroger
base
de
données,
d'effectuer
requête
sur
contenu.
3.4.2
création
gestion
contenu
d'une
bd
3.4.2.1
création
d'une
base
de
donnée
création
d'une
base
de
donnée
impliquer
celle-ci
avoir
être
décrire
niveau
conceptuel
(schéma
era)
niveau
logique
(transformation
en
tables).
commencer
par
l'instruction
create
database.
mysql>
create
database
formations;
commande
devoir
être
suivre
de
création
différentes
tables:
définition
de
structure
(définition
colonnes)
encodage
de
enregistrement
(lignes).
règle
d'attribution
nom
permettre
d'utiliser
lettres,
chiffre
caractère
$
(déconseillé,
s'en
doute,
à
cause
de
php)
_.
nom
pouvoir
composer
de
chiffres.
3.4.2.2
suppression
d'une
base
de
donnée
suppression
d'une
base
de
donnée
faire
par
l'instruction
drop.
mysql>
drop
database
formations;
être
suppression
d'une
base
de
donnée
entraîner
suppression
de
table
de
enregistrement
qu'elle
contient.
pour
suivre,
séquence
illustrer
deux
commande
effets.
étienne
vandeput
–
©
cefis
2005
66

publier
sur
web
-
perfectionnement
3.4.2.3
création
d'une
tabler
table
être
créer
moyen
de
l'instruction
create
table.
instruction
permettre
de
nommer
table
s'accompagne
de
description
colonnes,
de
type
de
attribut
éventuels.
s'écrit
sur
ligne
de
lisibilité24.
24
plupart
instruction
nécessiter
syntaxe
(trop)
rigoureuse.
c'est
exister
application
permettre
d'en
générer
code
via
interface
graphiques.
décrire
dans
chapitre.
étienne
vandeput
–
©
cefis
2005
67

publier
sur
web
-
perfectionnement
colonne
login
être
colonne
identifiante
(primary
key).
colonne
prenom
statut
pouvoir
contenir
de
valeur
colonne
login,
password
nom.
être
possible
de
garnir
table
pour
donnée
trouver
dans
fichier,
grâce
à
l'instruction
load
data.
par
exemple,
être
possible
de
créer
fichier
texte
à
partir
d'excel
de
récupérer.
fichier
être
enregistrer
format
texte
sous
nom
membres.txt
sauvegarder
dans
même
répertoire
base
de
donnée
exemples,
aura:
3.4.2.4
suppression
d'une
tabler
table
être
supprimer
moyen
de
l'instruction
drop
table.
mysql>
drop
table
users;
suppression
de
table
user
s'accompagne,
montrer
résultat
de
commande
describe,
de
suppression
de
structure.
3.4.2.5
modification
d'une
table
par
modification
d'une
table,
entendre
modification
de
structure.
de
nombreux
changement
pouvoir
être
opérés.
évoquer
quelques-uns.
c'est
commander
alter
table
permettre
modifications.
être
suivre
nom
de(s)
l'action(s)
de
(leur)
description(s).
parmi
actions,
trouve:
add,
alter,
drop,
change,
modify,
rename
avoir
(ou
to),…
étienne
vandeput
–
©
cefis
2005
68

publier
sur
web
-
perfectionnement
souhaiter
ajouter
colonne
depuis
contenir
l'année
d'entrée
en
service,
procèdera
suit:
mysql>
alter
tabler
user
add
(depuis
varchar(4));
pour
supprimer
colonne
depuis,
utiliser
l'action
drop:
mysql>
alter
tabler
user
drop
depuis;
avec
l'action
add,
option
first
after
suivre
nom
d'une
colonne,
permettre
de
positionner
nouvelle
à
l'endroit
voulu.
par
défaut,
c'est
à
fin.
d'autres
exemples:
mysql>
alter
table
user
add
(depuis
varchar(4))
after
prenom;
mysql>
alter
tabler
user
add
(depuis
varchar(4),
commentaire
blob);
à
titre
d'illustration:
étienne
vandeput
–
©
cefis
2005
69

publier
sur
web
-
perfectionnement
pour
ajouter
clé
primaire
à
colonne,
utiliser
l'action
add
avec
l'option
primary
key.
ainsi,
par
exemple,
estimer
login
seul
n'est
identifiant,
paire
login-password,
commandera:
mysql>
alter
tabler
user
add
(login,password)
primary
key;
attention,
mysql
considérer
qu'il
n'y
avoir
qu'un
seul
identifier
possible.
donc,
s'il
exister
un,
falloir
supprimer
avant
d'en
créer
autre.
pour
cela,
utiliser
l'action
drop
l'option
primary
key,
dans
l'exemple
ci-dessous:
pouvoir
ajouter
index
sur
colonnes.
index
être
intéressants
en
sens
qu'ils
accélérer
recherche
ralentir
autres
traitement
l'insertion
d'une
ligne
dans
table,
par
exemple.
ajout
faire
par
l'option
index
suivre
nom
de
colonnes.
mysql>
alter
table
user
add
index
(nom,
login);
exister
sorte
de
clés,
type
avoir
intérêt.
connaître
clé
primaires
clé
d'index.
clé
unique
être
index
n'autorisent
valeur
multiples
colonne
sur
portent.
mysql>
alter
tabler
user
add
unique
(login);
permettre
pas,
d'une
insertion,
deux
enregistrement
avoir
même
valeur
pour
login.
pour
supprimer
clé
unique,
falloir
utiliser
l'action
drop
avec
l'option
index
suivre
nom
de
(des)
colonne(s).
mysql>
alter
tabler
user
drop
index
login;
action
changer
modify
permettre
de
changer
définition
d'une
colonne
et,
éventuellement,
de
repositionner.
premier
permettre
de
changer
nom
de
colonne.
ainsi,
commande:
mysql>
alter
table
user
modify
depuis
varchar(4)
not
null
after
prenom;
étienne
vandeput
–
©
cefis
2005
70

publier
sur
web
-
perfectionnement
fournir
résultat
suivant:
pour
renommer
table,
servir
de
l'action
rename
as.
3.4.2.6
copier
table
pouvoir
envisager
copie
de
table
de
deux
manières:

copie
intégrale
partielle
de
structure
donnée

copie
de
structure
deux
réaliser
moyen
de
commande
create
tabler
combiner
avec
simple
commande
de
sélection.
commande
de
sélection
faire
l'objet
de
section
suivante.
pour
copie
intégrale:
mysql>
create
tabler
util2
select
*
from
utilisateurs;
pour
copie
de
structure:
étienne
vandeput
–
©
cefis
2005
71

publier
sur
web
-
perfectionnement
mysql>
create
table
util2
select
*
from
utilisateurs
where
1=0;
commande
donner
indication
sur
attribut
de
commande
select.
l'attribut
where
être
suivre
d'une
condition
à
vérifier
par
enregistrement
à
prendre
en
compte.
1
n'est
égal
à
0,
enregistrement
n'est
reprendre
dans
nouvelle
table
avoir
même
structure
table
originale.
3.4.2.7
ajouter,
supprimer,
mettre
à
jour
ligne
pour
ajouter
ligne
à
table,
utiliser
commande
insert.
avoir
différentes
manière
d'insérer
ligne
notamment,
en
précisant:

liste
de
colonne
liste
de
valeur
mysql>
insert
user
(login,password,nom)
values(ldo,dddddd,doumont);
observer
colonne
être
citer
dans
l'ordre
qu'elles
occuper
dans
structure.

liste
de
paires
colonne-valeur
mysql>
insert
utilisateurs
set
(nom='donnay',login='jdo',password='eeeeee');
commande
permettre
d'insérer
qu'une
seule
ligner
à
fois.

sélection,
dans
l'exemple
mysql>
insert
utilisateurs
select…
instruction
permettre
d'insérer
ligne
à
fois
demander
l'existence
d'une
table
de
être
extraire
ligne
à
insérer
avec
contrainte
supposer
(cohérence
noms,
type
autres
attribut
de
colonnes).
pour
supprimer
lignes,
utiliser
commande
delete
from.
commande
devoir
être
agrémenter
d'une
condition
semblable
à
l'on
trouver
dans
commande
select
précise
être
ligne
devoir
disparaître
de
table.
mysql>
delete
from
utilisateurs
where
isnull(statut);
manière
d'écrire
condition
s'apparente
à
l'on
trouver
dans
plupart
langage
de
programmation.
expression
de
condition
faire
appel
à
variables
(dont
nom
être
colonnes),
opérateurs,
fonctions,
constantes.
en
illustration:
étienne
vandeput
–
©
cefis
2005
72

publier
sur
web
-
perfectionnement
dans
l'expression
de
condition
utiliser
dans
exemple,
statut
jouer
rôle
de
variable
isnull
être
fonction
renvoyer
valeur
booléenne.
attribut
limit
pouvoir
être
utiliser
pour
limiter
nombre
de
ligne
supprimées.
mysql>
delete
from
utilisateurs
where
isnull(statut)
limit
1;
n'aurait
supprimer
qu'une
seule
deux
lignes.
mise
à
jour
information
contenir
dans
ligne
s'effectue
moyen
de
commande
update.
commande
posséder
attribut
where
limit.
l'attribut
set
permettre
de
préciser
colonne
devoir
être
mettre
à
jour
de
manière.
commande
mysql>
update
utilisateurs
set
(login=concat('c-',login);
avoir
pour
effet
d'ajouter
c
tiret
devant
login
de
utilisateurs.
étienne
vandeput
–
©
cefis
2005
73

publier
sur
web
-
perfectionnement
dans
l'expression
décrire
devoir
devenir
colonne
login,
retrouver
variable
(login)
fonction
(concat)
constante
(la
chaîne
'c-').
3.4.3
gestion
d'une
bd
avec
phpmyadmin
avoir
être
dire
par
ailleurs,
l'écriture
instruction
en
mysql
être
fastidieuse.
pour
raison,
exister
générateur
de
code
permettre
de
gérer
base
de
donnée
via
interface
graphiques.
toutefois,
connaissance
de
syntaxe
d'un
langage
rester
atout
pour
résolution
problème
pouvoir
surgir
de
gestion
d'une
base
de
données.
easyphp
comprendre
application,
phpmyadmin,
offrir
possibilité
de
gérer
base
de
données.
être
accessible
à
partir
menu
contextuel
programme
easyphp.
interface
mériter
d'être
améliorée,
permettre
d'éviter
problème
de
syntaxe.
illustration
d'un
écran
de
interface:
sans
entrer
dans
détail
de
application,
préciser
que:

l'onglet
structurer
permet,
s'en
doute,
de
modifier
structure
table
d'une
base
données;

l'onglet
afficher
permettre
de
visualiser
ligne
d'une
table,
de
éditer
facilement;

l'onglet
sql
permettre
de
formuler
requête
qu'il
n'est
possible
de
formuler
par
l'intermédiaire
de
l'interface;

l'onglet
sélectionner
permettre
de
construire
requête
(comme
être
question
dans
section
suivante);
étienne
vandeput
–
©
cefis
2005
74

publier
sur
web
-
perfectionnement

l'onglet
insérer
offre
facilité
de
génération
instruction
permettre
d'insérer
ligne
dans
tables.
autres
option
être
importantes
à
stade.
dans
interface
de
type,
connaissance
de
syntaxe
être
éclairante
à
signification
option
qu'elles
proposent.
3.4.4
sélection
d'informations
dans
un
bd
3.4.4.1
requête
primitif
venir
de
parler
servir
qu'à
créer,
à
utiliser
pour
mettre
à
jour,
base
de
donnée
table
qu'elles
être
censées
contenir.
autre
activité
consister
à
interroger
base
de
donnée
en
tirer
nombre
d'informations.
parler
de
requête
à
formuler.
résultat
d'une
requête
présenter
sous
forme
d'une
table.
dès
lors,
rien
n'empêche
celle-ci
être
stocker
autres
dans
base
de
données.
analysons,
dans
section,
commande
select
être
à
base
de
formulation
requête
de
type.
pour
pouvoir
effectuer
requête
fines,
commande
select
être
flanquer
de
nombreuses
options.
présenter
importantes
d'entre
reviendrons,
à
fin
de
section,
sur
syntaxe
complète
de
commande.
3.4.4.2
sélectionner
penser
à
sélectionner,
imaginer
extraire
de
l'information
d'une
table
constituer
base
de
données.
commande
select
permettre
de
réaliser
souhait
être
générale.
n'est
nécessaire
de
préciser
(des)
nom(s)
de
table(s).
l'écriture
d'une
simple
expression
suffit.
en
illustrations:
3.4.4.3
sélectionner
colonne
parler
de
sélection
dans
seule
table,
pouvoir
être
question
de
colonnes,
de
ligne
d'un
mélange
deux.
pouvoir
préciser
être
colonne
vouloir
sélectionner
informations.
sélection
simple
être
consister
à
sélectionner
colonnes.
mysql>
select
*
from
utilisateurs;
faire
afficher
colonne
de
table
utilisateurs.
étienne
vandeput
–
©
cefis
2005
75

publier
sur
web
-
perfectionnement
commande
de
sélection
demander
de
préciser
table
concerner
par
celle-ci.
mot
clé
l(es)'introduit
être
from.
dans
cas
information
de
colonne
être
souhaitées,
convient
de
préciser
être
concernées.
mysql>
select
nom,
prenom,
login
from
utilisateurs;
faire
afficher
information
colonne
nom,
prenom
login.
sélection
pouvoir
être
accompagner
d'un
traitement
données.
ainsi,
pouvoir
souhaiter
voir
nom
apparaître
en
majuscules.
mysql>
select
upper(nom),prenom
from
utilisateurs;
c'est
rôle
de
fonction
upper
de
transformer
caractère
en
majuscules.
résultat
être
composer
d'informations
issues
de
base
de
données,
de
traitement
effectuer
sur
information
dans...
…ou
mieux,
étienne
vandeput
–
©
cefis
2005
76

publier
sur
web
-
perfectionnement
3.4.4.4
sélectionner
ligne
sélection
ligne
à
partir
d'une
(de
plusieurs)
table(s)
s'effectue
en
définir
clause
à
l'aide
mot-clé
where.
clause
être
expression
booléenne,
écriture
est,
à
nouveau,
assemblage
de
variables
(colonnes),
constantes,
opérateur
fonctions.
parmi
opérateur
fonctions,
retrouver
grands
classique
présents
dans
plupart
langages.
n'allons
énumérer
ici25.
mentionner
être
spécifiques
à
sgbd
à
travers
exemples.
l'opérateur
in
permettre
de
rechercher
valeur
dans
un
liste.
être
possible
de
combiner
sélection
de
ligne
avec
sélection
de
colonnes.
dans
l'exemple
précède,
l'opérateur
between
permettre
de
rechercher
valeur
dans
un
intervalle.
25
pouvoir
trouver
documentation
complète
opérateur
fonction
disponibles
à
l'adresse
http://dev.mysql.com/doc/mysql/fr/.
étienne
vandeput
–
©
cefis
2005
77

publier
sur
web
-
perfectionnement
pouvoir
voir,
l'opérateur
like
autoriser
sélection
utiliser
caractère
génériques.
de
nombreux
autres
opérateur
exister
not
like,
not
between…and,
not
in,
is
null
is
not
null
en
dehors
opérateur
classiques
arithmétiques,
logiques
de
comparaison.
3.4.4.5
opérer
classement
l'option
order
by
attribut
asc
desc,
permettre
de
présenter
information
dans
ordre
choisir
pour
élément
d'une
colonne.
mysql>
select
prenom,upper(nom),login
order
by
prenom
asc;
ligne
être
présenter
dans
l'ordre
(alphabétique)
ascendre
prénoms.
3.4.4.6
opérer
regroupement
outre
fait
de
trier
lignes,
pouvoir
souhaiter
dernier
subir
regroupement.
regroupement
devoir
précéder
tri
s'il
avoir
un.
clause
utiliser
dans
cas
être
clause
group
by.
clause
permettre
de
regrouper
ligne
selon
valeur
d'une
de
colonnes.
attention,
s'il
n'y
avoir
qu'une
seule
colonne
concerner
par
clause,
s'agit
d'un
tri,
d'un
regroupement.
pour
illustrer
regroupements,
convient
de
travailler
avec
base
de
donnée
élaborée.
c'est
faisons,
après
avoir
préciser
deux
nouveaux
opérateur
utilisables
dans
commande
select.
clause
group
by
pouvoir
être
accompagner
d'une
autre
clause,
having,
permettre
d'effectuer
filtrage
supplémentaire
regroupement
être
effectué.
exemple
suivront.
3.4.4.7
limiter
nombre
résultat
pouvoir
souhaiter
obtenir
résultats,
nombre
même,
quelquefois,
seul.
l'attribut
limit
permettre
de
fixer
nombre.
ainsi,
s'intéresse
qu'à
premier
ligne
vérifier
critère
donné,
pouvoir
procéder
dans
l'exemple
suivant.
mysql>
select
prenom,upper(nom)
where
depuis>'1990'
order
by
nom
limit
1;
ligne
retourner
être
de
premier
personne,
par
ordre
alphabétique
(des
noms),
avoir
être
engager
après
1990.
étienne
vandeput
–
©
cefis
2005
78

publier
sur
web
-
perfectionnement
3.4.4.8
éliminer
doublon
s'agit
de
considérer
ligne
identiques
dans
table
de
sélection,
ligne
identiques
dans
table
résultats.
utiliser
pour
l'opérateur
distinct.
dans
exemple,
rechercher
par
lettre
commencer
nom
utilisateurs.
3.4.4.9
syntaxe
complète
de
commande
select
commande
select
pouvoir
s'écrire
de
manière
longue
clause
opérateur
être
utilisés.
principales
clause
principaux
opérateur
être
suivants:

distinct
(opérateur)

from
(mot-clé)

where
(clause)

group
by
(clause)

having
(clause)

order
by…
asc
desc
(clause)

limit
(opérateur)
3.4.5
sélection
multi-tables
3.4.5.1
création
table
rappelons-nous
qu'une
base
de
donnée
être
composer
d'une
seule
table,
transformation
schéma
conceptuel
aboutir
à
nombre
élever
de
tables.
pour
continuer
à
illustrer
propos,
aller
modifier
base
de
donnée
repartir
d'un
schéma
simples
avoir
proposés.
schéma
décrire
dans
centre
de
formation,
avoir
formés
participer
à
formation
assurer
par
formateurs.
étienne
vandeput
–
©
cefis
2005
formé
id
nom
prenom
…
formation
participer
0-n
être
suivre
par
participer
0-n
id
titre
nbrinscrits
…
être
assurer
par
1-1
assurer
assurer
1-n
formateur
id
nom
…
79

publier
sur
web
-
perfectionnement
tâcher
de
réfléchir
à
transformation
de
schéma
en
tables.
aller
modifier
schéma
en
étoffer
nombre
d'attributs
de
entité
ajouter
un,
deux
attribut
à
l'association:
attribut
payer
préciser
formé
avoir
payer
inscription
attribut
attente
préciser
l'inscription
être
retenir
formé
faire
partie
d'une
liste
d'attente.
noter
table
utilisateurs
avoir
servir
d'exemple
jusqu'ici
être
reconvertir
en
table
formateurs
grâce
vertu
de
commande
alter
tabler
…
rename
avoir
…
forme
id
nom
prenom
naissance
institution
formation
participer
1-n
participer
paye
attente
être
suivre
par
0-n
id
titre
être
assurer
par
1-1
assurer
assurer
1-n
formateur
id
nom
prenom
depuis
statut
l'identificateur
id
faire
office
d'identifiant
dans
l'entité
formateur.
falloir
s'assurer,
par
programmation,
deux
formateur
n'ont
même
identifiant.
formé
participe
à
formation,
sauf
qu'il
être
en
attente
formation.
schéma
être
simple
suffisant
pour
illustrer
propos.
être
pouvoir
rajouter
attribut
l'adresse
formés,
formateurs,
prérequis
d'une
formation,
etc.
information
supplémentaires
aller
aider
à
comprendre
qu'il
avoir
à
comprendre.
premier
démarche
consister
à
transformer
schéma
en
table.
relation
entre
formé
formation
être
relation
de
à
plusieurs.
l'association
participer
aller
donner
naissance
à
table
reprendre
attribut
de
association,
être
paye
attente,
aussi,
identifiants
de
entité
qu'elle
associe.
relation
entre
formateur
formation
être
relation
de
un
à
plusieurs.
en
conséquence,
l'avons
voir
précédemment,
l'association
assurer
donner
naissance
à
table.
avoir
en
quatre
tables:

forme
correspondre
à
l'entité
former

formation
correspondre
à
l'entité
formation

inscription
correspondre
à
l'association
participer

formateurs
correspondre
à
l'entité
formateur
dans
table
forme
avoir
décider
de
choisir
identifier
générer
par
mysql.
formé
avoir
nom,
prénom,
année
de
naissance
institution.
souhaiter
développer
notion
d'institution,
par
exemple
raison
de
contact
par
courrier
autre,
faire
entité.
étienne
vandeput
–
©
cefis
2005
80

publier
sur
web
-
perfectionnement
table
formation
comprendre
trois
attributs:
un
identifier
construire
(deux
derniers
chiffre
de
l'année
lettre
de
formation),
titre
et,
provenir
de
l'association
assurer,
l'identifiant
formateur.
table
inscription
composer
identifiants
de
entité
de
l'association
participer
de
attribut
paye
attente
avoir
être
choisir
de
type
enum.
enfin,
table
formateurs
être
l'ancienne
table
utilisateurs.
avoir
décider
l'identificateur
être
identifier
à
seul
avec
mot
de
passe
avoir
disparaître
de
structure.
de
comprendre
opération
de
jointure
faire
l'objet
paragraphe
suivant,
importer
de
visualiser
contenu
de
différentes
table
moment
jointure
être
effectuées.
voici,
avec
pour
commencer,
table
formes…
étienne
vandeput
–
©
cefis
2005
81

publier
sur
web
-
perfectionnement
…ensuite,
table
formations…
…la
table
inscriptions…
…et
finalement,
table
formateurs.
3.4.5.2
jointure
l'opération
consister
à
fusionner,
d'une
manière
d'une
autre,
information
de
deux
table
porter
nom
de
jointure.
exister
différents
type
de
jointure
propos
n'est
de
décrire
tous.
contenter
d'en
illustrer
deux.
un
jointure
intéressantes
être
l'équijointure.
c'est
jointure
baser
sur
condition
d'égalité.
nom
colonne
devoir
être
identiques,
dans
jointure
dire
naturelles26,
l'égalité
porter
sur
clé
primaires
étrangères.
26
jointure
naturelles
faire
sur
base
de
colonne
porter
mêmes
nom
avoir
mêmes
caractéristiques.
étienne
vandeput
–
©
cefis
2005
82

publier
sur
web
-
perfectionnement
mysql>
select
nom,prenom,titre
from
formes,formations,inscriptions
where
id_formation=formations.id
&&
id_forme=formes.id;
commande
précéder
aller
permettre
de
sélectionner
deux
colonne
dans
table
forme
dans
table
formations.
en
réalité,
aller
produire
l'affichage
de
inscription
prendre
sous
forme
nom
prénom
de
l'inscrit
titre
de
formation
à
être
inscrit.
jointure
faire
par
l'intermédiaire
de
l'identifiant
de
table
inscription
être
composer
de
deux
clé
étrangères.
remarquer
colonne
de
clause
where
être
écrire
sous
nom
long
(<nom
de
table>.<nom
de
colonne>).
c'est
devoir
à
nécessité
de
confondre
nom
de
colonne
identiques
dans
deux
table
(ici,
id).
pour
autres
colonnes,
n'y
avoir
d'ambiguïtés.
pouvoir
combiner
jointure
tri,
dans
commande
suivante,
en
demander
d'afficher
résultat
par
ordre
alphabétique
noms,
titres.
mysql>
select
nom,prenom,titre
from
formes,formations
inscription
where
id_formation=formations.id
&&
id_forme=formes.id
order
by
nom,titre
étienne
vandeput
–
©
cefis
2005
83

publier
sur
web
-
perfectionnement
être
différent
de
commande
suivre
tri
être
réaliser
sur
titre
sur
nom.
mysql>
select
nom,prenom,titre
from
formes,formations
inscription
where
id_formation=formations.id
&&
id_forme=formes.id
order
by
titre,nom
dans
cas,
pour
raccourcir
l'écriture
requêtes,
utiliser
pour
tables.
mysql>
select
nom,prenom,titre
from
forme
avoir
f1,formations
avoir
f2,
inscription
where
id_formation=f2.id
&&
id_forme=f1.id
order
by
titre,nom
table
forme
avoir
f1
table
formations,
f2.
dans
d'autres
cas,
utilisation
être
inévitable
dans
cas
autojointures.
rechercher
liste
inscrit
être
naître
même
année,
donner
commande
mysql>
select
f1.nom,f1.naissance
from
forme
avoir
f1,formes
avoir
f2
where
f1.naissance=f2.naissance
&&
f1.id!
!=f2.id;
étienne
vandeput
–
©
cefis
2005
84

publier
sur
web
-
perfectionnement
commande
créer
deux
pour
même
table,
permettre
de
comparer
ligne
avec
autres,
par
exemple.
être
retenus,
nom
date
de
naissance
ligne
de
premier
instance
de
table
même
année
de
naissance
être
retrouver
dans
autre
ligne.
exister
d'autres
type
de
jointures.
trouver
en
bibliographie
ouvrage
intéressants
à
propos.
3.5
gérer
bd
avec
php
3.5.1
principe
de
communication
gestion
d'une
base
de
donnée
avec
mysql
être
amorcée,
rester
à
voir
php
pouvoir
s'en
accommoder.
avoir
voir
requête
être
fournir
à
php
sous
forme
de
chaîne
de
caractère
stocker
dans
variables
avant
d'être
prendre
en
charge
par
fonctions.
fonction
être
question
être
fonction
de
communication
avec
mysql.
importer
d'en
connaître
principales,
de
savoir
qu'elles
prendre
en
argument
qu'elles
retourner
type
de
valeurs.
3.5.2
fonction
php
exister
bonne
trentaine
de
fonction
dédier
à
communication
entre
php
mysql.
illustrer
paraître
intéressantes
premier
stade
développement
d'une
application
de
gestion
de
base
de
donnée
avec
php.
3.5.2.1
mysql_connect
fonction
permettre
d'établir
connexion
avec
serveur
mysql.
prendre
trois
argument
de
type
chaîne:
nom
de
l'hôte,
nom
de
l'utilisateur
mot
de
passe.
entier
mysql_connect(chaine
hôte,
chaîne
utilisateur,
chaîner
mot
de
passe)
argument
être
optionnels.
exister
par
défaut
(localhost,
propriétaire
processus
mot
de
passe
vide).
exemple
concret
d'ouverture
de
connexion:
<?php
$link
=
mysql_connect("localhost",
"root",
"")
or
die("<p>impossible
de
connecter
:
".mysql_error()."</p>");
étienne
vandeput
–
©
cefis
2005
85

publier
sur
web
-
perfectionnement
print
("connexion
réussie.");
mysql_close($link);
?>
exemple
illustrer
diverses
choses.
fonction
renvoyer
entier
être
identifier
de
connexion.
valeur
être
utiliser
pour
clore
connexion
moyen
d'une
autre
fonction
mysql_close
prendre
en
argument
renvoyer
valeur
booléenne.
noter
précision
de
valeur,
dans
exemple,
être
inutile.
n'est
confusion
être
possible
qu'elle
devenir
nécessaire
(plusieurs
connexion
ouvertes,
par
exemple).
de
même,
fermeture
de
connexion
n'est
nécessaire.
accompagner
fin
de
l'exécution
script.
paramètre
fournir
à
fonction
être
être
fournir
d'une
connexion
normale
à
mysql
via
ligne
de
commande.
l'exécution
de
fonction
s'accompagne
d'une
option
commander
script
de
terminer
connexion
pouvoir
avoir
lieu.
mot-clé
die
être
synonyme
de
exit,
die
comporter
fonction
en
sens
qu'elle
pouvoir
prendre
argument
chaîne
de
caractère
être
afficher
en
cas
d'arrêt
script.
mysql_error
être
fonction
renvoyer
chaîne
de
caractère
contenir
texte
message
d'erreur.
exister
fonction
mysql_pconnect
rendre
connexion
permanentes,
éviter
perte
de
temps,
dans
cas.
3.5.2.2
mysql_create_db
fois
connecter
serveur
mysql,
convient
d'activer
base
de
donnée
d'en
créer
une.
création
d'une
base
de
donnée
s'effectue
par
biais
de
fonction
mysql_create_db.
booléen
mysql_create_db(chaîne
base
de
données,
entier
lien)
illustration
de
l'utilisation
de
fonction:
<?php
$link
=
mysql_pconnect("localhost",
"root",
"")
die
("connexion
impossible");
if
(mysql_create_db("ma_db"))
{
echo
"<p>la
base
de
donnée
avoir
être
créée.\n</p>";
}
else
{
echo
"<p>erreur
de
création
de
base
:
".mysql_error()."</p>";
}
?>
être
à
noter
fonction
mysql_query
avoir
illustrer
début
de
chapitre
permettre
d'obtenir
même
résultat
avec
commande
create
database.
être
préférer
à
précédente.
dans
exemple,
résultat
renvoyer
par
fonction
être
utiliser
dans
un
test.
3.5.2.3
mysql_select_db
fonction
renvoyer
booléen
permettre
de
sélectionner
base
de
données.
prendre
arguments,
nom
de
base
de
donnée
l'entier
lien
résulter
de
l'ouverture
de
connexion.
booléen
mysql_select_db(chaîne
base
de
données,
entier
lien)
séquence
classique
dans
script
php
être
donc:
<?php
$link
=
mysql_connect('localhost',
'root',
'');
étienne
vandeput
–
©
cefis
2005
86

publier
sur
web
-
perfectionnement
if
(!
!$link)
{
die('non
connecter
:
'
.
mysql_error());
}
$db
=
mysql_select_db('ma_db',
$link);
if
(!
!$db)
{
die
('<p>impossible
d\'utiliser
base
:
'.mysql_error().'</p>');
}
?>
3.5.2.4
mysql_query
connexion
avoir
être
établir
base
de
donnée
sélectionnée,
être
possible
d'émettre
requête
possibles
imaginables:
création
de
tables,
insertions,
suppressions,
mettre
à
jour
de
lignes,
sélection
diverses,…
confier
à
script
php
soin
de
créer
tables,
celles-ci
être
permanentes
dans
l'application,
pas?
fonction
mysql_query
être
importante
permettre
de
véhiculer
requête
d'en
récupérer
résultats.
entier
mysql_query(chaîne
requête,
entier
lien)
pour
requête
d'insertion,
de
suppression
de
mise
à
jour,
retourner
valeur
booléenne.
pour
sélection,
renvoyer
tableau
de
résultats.
à
nouveau
illustration
de
séquence
possible:
<?php
$link
=
mysql_connect('localhost',
'root',
'');
if
(!
!$link)
{
die('<p>impossible
de
connecter
:
'.
mysql_error().'</p>');
}
$db
=
mysql_select_db('exemple',
$link);
if
(!
!$db)
{
die
('<p>impossible
d\'utiliser
base
:
'.
mysql_error().'</p>');
}
$sqlquery="select
prenom,nom,institution
from
forme
order
by
nom";
$queryresult=mysql_query($sqlquery);
…
?>
requête
mysql
être
stocker
dans
variable
$sqlquery
être
passer
en
argument
à
fonction
mysql_query.
exister
fonction
mysql_db_query
semblable
à
précédente,
n'est
qu'elle
prendre
argument
de
plus,
nom
de
base
de
donnée
sur
porter
requête.
fonction
renvoyer
entier
identifier
requête
être
stocké,
dans
l'exemple,
dans
variable
$queryresult.
entier
être
utilisé,
par
suite,
par
fonction
d'exploration
résultat
tel
suivent.
3.5.2.5
mysql_fetch_row
fonction
renvoie,
sous
forme
d'un
tableau,
ligne
courante.
à
appel,
c'est
ligne
suivante
être
prendre
en
compte
jusqu'à
qu'il
n'y
avoir
(auquel
cas
fonction
renvoyer
valeur
false).
étienne
vandeput
–
©
cefis
2005
87

publier
sur
web
-
perfectionnement
tableau
mysql_fetch_row(entier
résultat)
l'entier
résultat
être
identifier
requête
effectuer
via
mysql_query.
tableau
être
indexer
à
partir
de
0
pouvoir
être
parcourir
pour
exploitation
valeur
dans
l'exemple
suivant:
<?php
echo
"<h1>liste
inscrits</h1>";
$link
=
mysql_connect('localhost',
'root',
'');
if
(!
!$link)
{
die('<p>impossible
de
connecter
:
'.
mysql_error().'</p>');
}
$db
=
mysql_select_db('exemple',
$link);
if
(!
!$db)
{
die
('<p>impossible
d\'utiliser
base
:
'.
mysql_error().'</p>');
}
$sqlquery="select
nom,prenom,institution
from
forme
order
by
nom";
$queryresult=mysql_query($sqlquery);
while
($row=mysql_fetch_row($queryresult)){
echo
"<p><strong>".$row[1]."
".$row[0]."</strong>
".$row[2]."</p>";
}
?>
petit
script
ouvre
base
de
données
exemple
lancer
requête
porter
sur
trois
colonne
de
table
formes.
information
être
récupérées,
ligne
par
ligne,
dans
tableau
$row
mettre
en
forme
pour
affichage
correct.
donne.
étienne
vandeput
–
©
cefis
2005
88

publier
sur
web
-
perfectionnement
3.5.2.6
mysql_fetch_array
function
être
identique
à
précédente.
différence
résider
dans
fait
qu'elle
posséder
argument
de
plus.
argument
préciser
par
l'intermédiaire
d'une
constante
(mysql_num
mysql_assoc)
tableau
être
indexer
c'est
tableau
associatif
cas,
nom
de
colonne
pouvoir
être
utilisés.
tableau
mysql_fetch_array(entier
résultat,
entier
type)
boucle
de
l'exemple
précédent
pouvoir
être
remplacer
par
while
($row=mysql_fetch_array($queryresult,mysql_assoc)){
echo
"<p><strong>".$row['prenom']."
".$row['nom']
."</strong>
".$row['institution']."</p>";
}
3.5.2.7
mysql_num_rows
fonction
renvoie,
s'en
doute,
nombre
de
ligne
résultat
dans
cas
d'une
requête
de
sélection.
être
utile
lorsqu'on
vouloir
s'assurer
qu'il
a.
<p>
<?php
$link
=
mysql_connect("localhost",
"root",
"");
mysql_select_db("exemple",
$link);
$queryresult
=
mysql_query("select
*
from
formateurs",
$link);
$num_rows
=
mysql_num_rows($queryresult);
if
(!
!$num_rows){
echo
"pas
de
formateurs!
!";
}
else{
echo
"il
avoir
$num_rows
formateurs.\n";
}
?>
</p>
dans
exemple:
3.5.2.8
mysql_affected_rows
c'est
correspondant
de
fonction
précédente
pour
requête
de
mise
à
jour.
révéler
utile
dans
mesure
permettre
de
tenir
l'utilisateur
courant
de
être
en
train
de
passer.
3.5.2.9
autres
fonction
n'avons
illustrer
fonction
utiles.
autres
fonction
être
utiliser
occasionnellement.
rôle
être
facile
à
comprendre
avoir
comprendre
rôle
de
avoir
précédé.
souvent,
nom
fournir
bonne
description
de
à
être
destinées.
citer
de
fonction
permettre
de
connaître
caractéristique
de
étienne
vandeput
–
©
cefis
2005
89

publier
sur
web
-
perfectionnement
l'information
issue
d'une
colonne
dans
résultat
notamment,
longueur
(mysql_field_len),
nom
(mysql_field_name),
nom
de
table
(mysql_field_table),
type
(mysql_field_type)…
pour
reste,
renvoyer
à
l'excellente
documentation
en
ligne
ouvrage
cité
en
bibliographie.
3.6
bilan
dans
chapitre,
avoir
survoler
grand
nombre
de
connaissance
évoquer
nombre
de
savoir-faire:

réaliser
schéma
era,

transformer
schéma
en
tables,

maîtriser
langage
mysql,

maîtriser
fonction
de
base
permettre
à
php
de
communiquer
avec
mysql,

…
élément
permettre
de
traiter
complètement,
application
allier
création
de
page
dynamiques
avec
gestion
base
de
données.
requête
n'ont
être
envisager
sous
l'angle
de
php,
l'insertion
mise
à
jour
ligne
d'une
table,
connaître
principe.
l'utilisation
formulaire
aller
s'avérer
intéressante
pour
gestion
donnée
par
l'utilisateur.
en
remplissant,
aller
permettre
l'enregistrement
de
ligne
dans
tables.
être
possible,
via
script
écrits,
de
renvoyer
formulaire
garnir
d'information,
à
compléter
à
modifier.
être
en
place
pour
réalisation
d'une
application
en
ligne,
même
liste
primitives,
fonction
opérateur
différents
langage
être
d'avoir
être
explorer
à
fond.
petit
exercice
pour
commencer
en
douceur.
3.7
exercice

aller
s'agir
de
concevoir
mini
schéma
era
décrire
situation
connaissez.
schéma
comprendre
de
deux
trois
entité
(au
minimum
deux)
association
de
à
plusieurs.

schéma
être
complet,
transformez-le
en
table
selon
règles
avoir
établies.
déterminer
attribut
de
entité
identifier
clé
primaires
clé
étrangères.

créer
base
de
donnée
table
en
aider
de
l'interface
de
phpmyadmin.
ajoutez-y
lignes.

écrire
script
php
affiche
colonne
d'une
table
avec
mise
en
forme
particulière.

écrire
script
php
effectuer
requête
porter
sur
tables.

écrire
script
php
permettre
de
modifier
donnée
d'une
table.
pour
faire,
utiliser
formulaire
aller
garnir
avec
information
disponibles.
l'utilisateur
modifier
donnée
de
formulaire
donner
l'ordre
d'enregistrer.
page
dynamique
être
construire
pour
fournir
renseignement
nécessaires
sur
déroulement
traitement
effectuer
sur
base
de
données.
étienne
vandeput
–
©
cefis
2005
90

publier
sur
web
-
perfectionnement
4.
application
4.1
introduction
de
mettre
en
musique
différents
élément
avoir
être
présenter
dans
trois
premier
chapitres,
proposer
d'insister
sur
démarche
à
mettre
œuvre
développement
d'une
application.
par
application,
entendre
deux
choses:

mise
en
place
d'un
programme
sous
forme
d'un
de
script
avoir
pour
objectif
principal,
fourniture
d'informations
extraire
d'une
base
de
donnée
mise
à
jour,

création
de
l'interface
de
communication
permettre
à
être
humain,
selon
privilège
être
accordés,
de
gérer
base
de
données
et/ou
de
formuler
demande
à
propos
d'informations
qu'elle
être
censée
contenir.
conception
d'une
application,
élémentaire
soit-elle,
demander
bonne
analyse
de
l'environnement
dans
être
supposer
s'exécuter.
sans
aller
jusqu'au
développement
complet
de
l'exemple
aller
traiter,
insister
sur
point
importants
à
négliger
dans
démarche
de
conception
d'une
application.
4.2
énoncé
à
raffiner
lorsqu'il
s'agit
d'imaginer
application
sur
web
but
être
de
couvrir
domaine
d'activité
connu,
être
nécessaire
de
disposer
d'une
bonne
description
de
domaine.
diverses
techniques
être
possibles,
de
récolter
maximum
d'informations
pertinentes:
interview
acteurs,
responsables,
analyser
de
documentation
(si
existe),
exercice
de
description
de
l'application
par
analyse
d'applications
similaires,…
acteur
activité
être
importantes
à
cerner,
de
manière
à
modéliser
réalité
être
étendue.
d'où
l'importance
de
prendre
en
compte
public
application
être
destinée.
aller
tâcher
d'illustrer
sur
base
d'un
énoncer
issu
de
description
écrire
d'une
situation,
par
personne
réputer
connaître.
description
être
incomplète
avoir
amener
à
faire
supposition
pouvoir
révéler
incorrectes
être
confronter
à
l'avis
principaux
acteurs.
donner
indication
sur
manière
de
procéder
avant
de
réfléchir
à
schéma
conceptuel.
l'énoncé
fourni.
s'agirait
de
mettre
sur
l'intranet
d'une
école,
sur
internet,
information
concerner
stage
élèves.
pouvoir
décrire
situation
en
dire
qu'il
avoir
:

maître
de
stages,

élève
de
puériculture
(12
classe
répartir
en
5e,
6e
7e
puériculture),
de
nursing
(6
classe
répartir
en
5e
6e
nursing),
de
gériatrie
(2
classe
répartir
en
5e
6e
gériatrie),

lieu
de
stage
(une
vingtaine
de
lieu
différents),

période
de
stages.
pendant
même
période,
dans
même
lieu,
élève
de
nursing
de
puériculture,
de
5e,
6e
7e
retrouver
ensemble.
à
titre
d'exemples,
opération
différents
acteur
pouvoir
avoir
envie
de
réaliser:
étienne
vandeput
–
©
cefis
2005
91

publier
sur
web
-
perfectionnement

élève
de
classe
pouvoir
rechercher
à
moment
aller
en
stage,
en
lieu,
avec
professeur
élève
(de
classes);

professeur
chercher
élève
superviser
à
période;

s'il
avoir
accès
via
internet,
crèche
pouvoir
savoir
élève
de
classe,
section,
aller
devoir
accueillir
à
moment.
simple
description,
sûr
incomplète,
aller
permettre
de
mettre
en
évidence
certain
nombre
de
démarche
de
pratique
paraître
fondamentales.
4.3
bon
schéma
conceptuel
4.3.1
premier
ébauche
premier
démarche
consister
à
représenter
domaine
de
l'activité,
sous
forme
d'un
schéma
conceptuel.
schéma
entités-associations
pouvoir
convenir
pour
genre
d'opération.
entités,
association
rôles,
pouvoir
être
mettre
en
évidence
travers
discours.
cardinalités
pouvoir
être
déduire
discours
faire
l'objet,
sinon,
d'une
demande
de
précision.
de
description
précède,
retirer
qu'il
avoir
élèves,
professeur
maître
de
stage,
lieu
de
stage.
être
question
de
stages,
notion
de
stage
être
délicate
à
cerner,
en
concerner
l'établissement
cardinalités.
pouvoir
considérer
qu'un
stage
être
prestation
noter
d'un
élève
dans
lieu
domaine
fixés.
élève
faire
partir
d'une
classe.
considérer
stage
dérouler
pendant
période
compacte,
signifier
d'une
date
à
autre27.
retenir
dans
premier
temps,
entité
élève,
maître,
stage,
lieu,
date
classe.
élève
faire
partie
d'une
classe
effectuer
stages.
stage
dérouler
dans
lieu
commencer
à
certaine
date
pour
finir
à
un
autre.
maître
de
stage
superviser
stages.
élève
appartenir
à
(et
seule)
classe
classe
composer
d'au
élève.
l'élève
effectuer
participe
minimum
stage
parler
d'un
stage,
s'agit
de
d'un
seul
élève.
stage
dérouler
en
seul
lieu,
même
implantation
différentes
d'un
même
lieu
pouvoir
exister.
considérer
celles-ci
être
déterminantes
dans
l'activité
de
consultation
de
mise
à
jour
envisageons.
lieu
accueillir
stages.
stage
être
superviser
par
seul
maître
de
stage,
maître
de
stage
superviser
stages.
stage
commencer
à
certaine
date
terminer
à
un
autre.
date
être
date
de
début
de
stage
date
de
fin
de
autres.
donner
schéma
era
suivre
aller
remanier.
4.3.1.1
réflexion
sur
cardinalités
élément
être
à
prendre
en
compte
à
propos
associations.
s'agit-il
de
relation
de
un
à
un,
de
un
à
plusieurs
de
à
plusieurs?
concerner
deux
côté
de
l'association.
s'intéresse
à
seul
de
deux
côtés,
falloir
déterminer
cardinalité
démarrer
à
zéro
à
un.
réponse
à
premier
question
être
évidente
description
domaine
être
claire.
réponse
à
deuxième
dépendre
de
l'importance
accorder
à
l'entité.
existe-t-elle
en
l'absence
d'instanciation
de
27
être
de
choix
orienter
modélisation
celle-ci
représenter
réalité.
étienne
vandeput
–
©
cefis
2005
92

publier
sur
web
-
perfectionnement
l'association?
oui,
zéro
être
bon
choix.
par
exemple,
lieu
de
stage
pouvoir
exister
dans
base
de
donnée
qu'aucun
élève
s'y
rendre
cours
de
année.
de
même,
maître
de
stage
pouvoir
retrouver
sans
élève
à
superviser.
n'empêche
système
de
prendre
en
compte
pour
série
de
traitements,
par
exemple,
permettre
de
consulter
information
sur
stages.
date
être
date
de
début
de
0-n
0-n
début
commencer
élève
participer
à
fin
1-1
1-1
stage
être
exécuter
par
être
date
de
fin
de
terminer
être
superviser
par
participation
1-n
appartenir
à
1-1
appartenance
composer
de
1-n
classe
superviser
maître
supervision
1-1
1-1
dérouler
à
0-n
1-1
déroulement
accueillir
0-n
lieu
côté
dates,
admettre
qu'une
date
donnée
correspondre
début
à
fin
d'aucun
stage.
en
concerne,
aller
simplifier
schéma.
4.3.2
amélioration
schéma
4.3.2.1
retouche
schéma
conceptuel
à
stade,
importer
de
demander
entité
être
utiles
dans
sens
où,
passage
schéma
logique,
aller
donner
lieu
à
tables.
dans
cas
présent,
être
simple
de
considérer
l'entité
stage
avoir
attribut
date
de
début
date
de
fin.
réduire
nombre
de
table
à
gérer.
de
même,
l'activité
envisager
faire
de
place
à
notion
de
classe.
entité
pouvoir
être
transformer
en
attribut
de
l'entité
élève.
pour
lieu,
c'est
délicat
souhaiter
responsables
d'un
lieu
de
stage
pouvoir
bénéficier
service
de
l'application.
devoir
maintenir
lieu
entité.
étienne
vandeput
–
©
cefis
2005
93

publier
sur
web
-
perfectionnement
4.3.2.2
attribut
entité
association
être
entité
posséder
identifiant.
de
même,
application
être
utiliser
par
différents
type
de
clients,
être
de
ceux-ci
posséder
en
mot
de
passe.
pouvoir
faire
évoluer
schéma
en
sens
qu'un
lieu
de
stage
pouvoir
compter
utilisateur
avoir
identifier
mot
de
passe.
aller
simplifier
dernier
problème
en
considérant,
être
raisonnable,
utilisateur
potentiels
servir
identifier
même
mot
de
passe.
faisant,
pouvoir
créer
deux
attribut
de
l'entité
lieu
représentent.
autres
attribut
dépendre
information
souhaiter
disposer
à
propos
entité
association
mettre
en
évidence.
citer
minimum
exemples:
nom
prénom
pour
élève
maîtres,
dénomination
adresse
principale
pour
lieu
note
pour
participation
à
stage.
avoir
décider
note
être
attribut
de
participation,
bien
dans
cas,
voir
cardinalité
1-1
entre
association
l'entité
stage,
avoir
pouvoir
en
faire
attribut
de
l'entité.
évoluer
schéma.
élever
login
pw
nom
prenom
classe
participer
à
1-n
stage
être
exécuter
par
participation
noter
être
superviser
par
id
domaine
date_debut
1-1
date_fin
1-1
dérouler
à
superviser
supervision
0-n
maître
login
pw
nom
prenom
1-1
déroulement
accueillir
0-n
lieu
login
pw
denomination
adresser
nom
prenom
être
anormal
de
voir
apparaître
attribut
nom
prénom
dans
l'entité
lieu.
s'agit
coordonnées
d'un
responsable
n'avons
vouloir
faire
entité.
aménagement,
obligatoire,
être
devoir
à
l'intérêt
d'avoir
structure
semblable
l'ensemble
utilisateur
de
l'application
(élèves,
maître
de
stage
responsables
de
site)
autoriser
simplification
niveau
code
(voir
loin).
4.4
schéma
logique
transformation
schéma
conceptuel
en
schéma
logique
être
automatique.
seules
association
de
à
donner
naissance
à
table
supplémentaires.
n'y
avoir
dans
l'exemple.
avoir
quatre
table
correspondre
entité
schéma.
étienne
vandeput
–
©
cefis
2005
94

publier
sur
web
-
perfectionnement
l'attribut
noter
retrouver
dans
table
stage
qui,
occuper
place
centrale
dans
schéma,
contenir
clé
étrangères
permettre
lien
entité
élève,
maître
lieu.
attribut
porter
nom
de
id_eleve,
id_lieu
id_maitre.
élever
login
pw
nom
prenom
classer
stage
id
domaine
date_debut
date_fin
noter
id_eleve
id_maitre
id_lieu
maître
login
pw
nom
prenom
lieu
login
pw
denomination
adresser
nom
prenom
constater
table
posséder
identifier
(clé
primaire)
table
stage
posséder
clé
étrangères
permettre
liaison
avec
d'autres
tables.
d'autres
attribut
intéressants
pouvoir
figurer
en
fonction
besoins,
avoir
vouloir
concentrer
sur
démarche
en
éviter
de
noyer
explication
de
celle-ci
dans
foule
de
détails.
4.5
construction
d'une
interface
interface
de
communication
entre
êtres
humains
application
devoir
d'être
utile
utilisable.
en
gros,
l'utilité
mesurer
à
coïncidence
entre
attente
utilisateur
(ses
buts)
lorsqu'il
utiliser
l'application
fonctionnalité
proposer
par
celle-ci
travers
de
interface.
l'utilisabilité
mesurer
degré
de
facilité
d'utilisation
de
l'interface.
4.5.1
utilité
bonne
manière
de
développer
interface
utile
être
d'imaginer
traitement
l'utilisateur
avoir
envie
de
faire
effectuer
par
l'application.
pouvoir
faire
de
différentes
manières:
interview
utilisateurs
potentiels,
examen
de
produit
équivalents,…
dans
application
occupe,
s'agit
de
déterminer
être
requête
de
sélection
d'informations
risquer
d'avoir
de
succès
il
utilisateur
être
requête
de
mise
à
jour
être
souhaitables,
par
qui.
avoir
reprendre
requête
possibles.
n'avons
effectuer
travail
exhaustif
avoir
mener
loin.
l'interface
avoir
créée,
dans
l'état
de
développement,
permettre
de
répondre
besoin
suivants.

pour
élève:
o
obtenir
liste
superviseur
de
stage,
o
obtenir
liste
lieu
date
de
stages,
étienne
vandeput
–
©
cefis
2005
95

publier
sur
web
-
perfectionnement
o
prendre
connaissance
de
lieu
de
stage
à
date
donnée.

pour
maître
de
stage:
o
obtenir
liste
élève
qu'il
supervise,
o
ajouter
élève
dans
base
de
données,
o
programmer
stage
pour
un
élève.
n'avons
programmer
de
requête
pour
responsables
de
site,
exemple
prendre
suffire
à
faire
comprendre
être
principe
de
programmation.
de
contrainte
devoir
être
prendre
en
compte.
relever
de
l'on
appeler
prévention
erreur
dans
conception
interface
homme-machine
(ihm).
parmi
celles-ci
notons,
par
exemple,
vérification
de
l'unicité
de
l'identifiant
pour
utilisateur
dans
catégorie,
chevauchement
période
de
stage
pour
même
élève
(quoique),
validité
format
de
date
utilisés,
validité
date
elles-mêmes,…
de
contraintes,
considérer
séparément,
demander
gros
effort
de
programmation.
détermination
prise
en
compte
de
contrainte
être
problème
requérir
analyse
fouillée
surtout,
l'écriture
de
nombreuses
ligne
de
code.
4.5.2
utilisabilité
l’utilisabilité
mesurer
par
manière
concepteur
de
l’interface
faciliter
travail
de
l’utilisateur
en
guider
dans
actions,
en
réduire
faire
pouvoir
charge
de
travail,
en
éviter
de
commettre
erreurs,
notamment.
sans
entrer
dans
l’écriture
d’un
traiter
sur
l’ergonomie
interfaces,
donner
conseil
permettre
de
rendre
ergonomiques.
par
création
d’une
feuille
de
style,
être
possible
de
promouvoir
:

l’utilisation
d’une
police
de
caractère
lisibles
(larges
sans
empattements),

prolifération
police
(deux
plus),

choix
approprier
pour
l’appariement
couleurs,

…
création
de
modèles,
notamment,
l’utilisation
de
calque
de
tableaux,
permettre
de
gérer
certaine
uniformité
niveau
de
mise
en
page
favorise,
par
là,
bon
guidage
de
l’utilisateur.
être
option
essentielles
avoir
prendre
dans
l’écriture
script
php
suivent.
4.5.3
création
de
modèle
avant
d’aborder
création
de
modèles,
convient
d’avoir
idée
claire
de
manière
fichier
être
organiser
en
dossiers,
sans
quoi,
référence
correcte
être
impossible.
avoir
imaginer
de
procéder
suivre
(voir
illustration
point
4.7)
:

dossier
script
pour
contenir
différentes
page
de
l’application,
plupart
donner
lieu
à
l’écriture
de
script
php

dossier
image
pour
placer
image
site

dossier
modeles
contenir
fichier
permettre
économie
de
code
fichier
cefis.css
contenir
feuille
de
style,
quant
à
lui,
trouver
à
racine
site.
de
sorte,
n’y
avoir
d’équivoque
sur
manière
de
référencer
fichiers.
étienne
vandeput
–
©
cefis
2005
96

publier
sur
web
-
perfectionnement
4.5.3.1
modèle
basique
l’on
considérer
devoir
être
page
d’un
site
vouloir
mettre
en
place,
pouvoir
en
dégager
nombre
de
caractéristique
communes,
en
concerner
répartition
de
diverses
zones,
présence
permanente
de
information
(un
bandeau,
par
exemple),
présence
de
liens,…
modèle
de
base.
être
constituer
d’une
zoner
d’entête
(entete.php),
d’une
zone
de
pied
de
page
(pieddepage.php).
modèle
(modele.php)
mentionner
l’inclusion
code
de
deux
fichiers.
propre
code.
<?php
include('../modeles/entete.php');
?>
<table
width="556"
border="0"
cellspacing="2"
cellpadding="10">
<tr>
<td
height="300"
valign="top"
bgcolor="#ffffcc">
<em>&lt;corps
de
texte
ici&gt;</em>
</td>
</tr>
</table>
<?php
include('../modeles/pieddepage.php');
?>
pouvoir
s’étonner
de
constater
référence
fichier
à
inclure
faire
appel
dossier
parent
replonger
dans
dossier
modeles
(../modeles/)
fichier
trouver
dans
même
dossier
modeles.
falloir
s’imaginer
fichier
construire
aller
servir
de
modèle
à
fichier
trouver
dans
dossier
scripts.
c’est
raison
pour
falloir
utiliser
référence
complète.
corps
modèle
être
tableau
d’une
seule
cellule
contenir
titre
générique
texte
par
défaut
être
à
supprimer
de
création
d’une
page.
l’intérêt
texte
par
défaut
être
de
signaler
à
l’usager
qu’il
être
en
présence
modèle.
modèle
être
générique
pouvoir
donner
naissance
à
d’autres
modèle
complets,
résulter
de
l’inclusion
d’autres
fichiers.
code
fichier
entete.php…
<html>
<head>
<title>institut
abc</title>
<meta
http-equiv="content-type"
content="text/html;
charset=iso-8859-1">
<link
href="../cefis.css"
rel="stylesheet"
type="text/css">
</head>
<body>
<table
width="555"
height="113"
border="1"
cellpadding="10"
cellspacing="0"
bordercolor="#ff8888"
bgcolor="#ffdfd5"
class="grand">
<tr>
<td
height="109">
<div
align="center"><img
src="../images/cathedrale.jpg"
width="112"
height="89"
align="left">
<span
class="grand">institut
abc</span>
</div>
étienne
vandeput
–
©
cefis
2005
97

publier
sur
web
-
perfectionnement
</td>
</tr>
</table>
fichier
contenir
code
initial
et,
en
particulier,
liaison
à
feuille
de
style
cefis.css
code
suit.
tableau
d’une
seule
cellule
contenir
calque
dans
trouver
photo
titre
bandeau.
code
fichier
pieddepage.php.
<table
width="555"
border="1"
cellpadding="10"
cellspacing="0"
bordercolor="#ff8888"
bgcolor="#ffdfd5">
<tr>
<td>
<a
href="mailto:webmaster@det.fundp.ac.be">contacter</a><span
class="gris">
webmaster</span>
</td>
</tr>
</table>
</body>
</html>
dernier
contenir
terminaison
fichier,
tableau
d’une
cellule
contenir
lien
vers
message
électronique
à
l’adresse
webmaster.
code
modèle,
interpréter
ci-dessus,
n’utilise
qu’une
petite
partie
style
définir
dans
feuille
de
style
contenir
dans
fichier
cefis.css
être
décrire
ci-après.
étienne
vandeput
–
©
cefis
2005
98

publier
sur
web
-
perfectionnement
body
{
font-family:
verdana,
arial,
helvetica,
sans-serif;
font-style:
normal;
background-color:
#ffffff;
font-size:
11px
}
td
{
font-family:
verdana,
arial,
helvetica,
sans-serif;
font-style:
normal;
font-size:
11px;
margin:
0px;
padding:
5px;
}
avoir
{
font-family:
verdana,
arial,
helvetica,
sans-serif;
font-style:
normal;
color:
#00aaff;
text-decoration:
none;
font-weight:
bold;
font-size:
11px
}
a:hover
{
font-family:
verdana,
arial,
helvetica,
sans-serif;
font-style:
normal;
color:
#003399;
font-weight:
bold;
background-color:
#dfdfff;
font-size:
11px
}
a:link
{
font-family:
verdana,
arial,
helvetica,
sans-serif;
font-style:
normal;
font-size:
11px
}
div
{
font-family:
verdana,
arial,
helvetica,
sans-serif;
font-size:
11px;
font-style:
normal
}
br
{
font-family:
verdana,
arial,
helvetica,
sans-serif;
font-size:
11px;
font-style:
normal;
margin-bottom:
auto
}
p
{
font-family:
verdana,
arial,
helvetica,
sans-serif;
font-style:
normal
;
margin-bottom:
auto;
font-size:
11px
}
ol
{
font-family:
sans-serif;
list-style-image:
none
}
étienne
vandeput
–
©
cefis
2005
99

publier
sur
web
-
perfectionnement
ul
{
font-family:
verdana,
arial,
helvetica,
sans-serif;
font-style:
normal
;
list-style-image:
url(images/puce.gif)
}
li
{
font-family:
verdana,
arial,
helvetica,
sans-serif;
font-style:
normal;
padding-bottom:
3px;
font-size:
11px
}
hr
{
border-color:
#333399
black
black;
border-top-width:
thick
}
h1
{
font-family:
verdana,
arial,
helvetica,
sans-serif;
font-style:
normal;
font-weight:
bold;
color:
#333399;
border-color:
black
#dfdfff;
width:
auto;
margin-right:
0px;
margin-left:
0px;
border:
#dfdfff;
border-top-width:
0px;
border-right-width:
10px;
border-bottom-width:
0px;
border-left-width:
10px
;
font-size:
13px;
background-color:
#ffffcc;
padding-right:
10px;
padding-left:
10px
}
h2
{
font-family:
verdana,
arial,
helvetica,
sans-serif;
font-size:
13px;
font-weight:
bold;
color:
#cc0033;
background-color:
#ffe4ca;
font-style:
normal;
padding-right:
10px;
padding-left:
10px;
border-color:
black
#ffe4ca;
width:
auto;
margin-right:
0px;
margin-left:
0px;
border:
#ffe4ca;
border-top-width:
0px;
border-right-width:
10px;
border-bottom-width:
0px;
border-left-width:
10px
;
text-align:
center
}
étienne
vandeput
–
©
cefis
2005
100

publier
sur
web
-
perfectionnement
h3
{
font-family:
verdana,
arial,
helvetica,
sans-serif;
font-size:
13px;
font-style:
normal;
font-weight:
bold;
color:
#cc0033;
width:
auto;
border-width:
10px
}
h4
{
font-family:
verdana,
arial,
helvetica,
sans-serif;
font-size:
13px;
font-style:
normal;
font-weight:
bold;
color:
#333399;
background-color:
#dffafb;
padding-right:
10px;
padding-left:
10px;
width:
auto;
border:
1px
solid
#333399;
padding-top:
2px;
padding-bottom:
2px;
}
h5
{
font-family:
verdana,
arial,
helvetica,
sans-serif;
font-size:
13px;
font-style:
normal;
font-weight:
bold;
color:
#ffffcc;
width:
auto;
border-width:
10px;
background-color:
#333399;
padding-right:
10px;
padding-left:
10px
}
h6
{
font-family:
verdana,
arial,
helvetica,
sans-serif;
font-size:
13px;
font-weight:
bold;
color:
#cc0033;
background-color:
#ffe4ca;
font-style:
normal;
width:
auto;
margin-right:
0px;
margin-left:
0px;
border:
1px
solid
#cc0033;
padding:
10px;
}
b
{
font-family:
verdana,
arial,
helvetica,
sans-serif;
font-size:
11px;
font-style:
normal;
font-weight:
bold
}
étienne
vandeput
–
©
cefis
2005
101

publier
sur
web
-
perfectionnement
.important1
{
font-weight:
bold;
color:
#ff0000
}
.important2
{
font-weight:
bold
}
.different
{
font-style:
italic
}
.inactif
{
font-family:
verdana,
arial,
helvetica,
sans-serif;
font-size:
11px;
font-style:
normal;
font-weight:
bold;
color:
#999999
}
.encart
{
background-color:
#ffffcc;
color:
#333399;
padding-right:
20px;
padding-left:
20px;
padding-top:
20px;
padding-bottom:
20px;
font-weight:
normal
}
.enum1
{
list-style-image:
url(images/puce.gif)
}
.retrait
{
margin-left:
20px
}
.justifie
{
text-align:
justify
}
.grand
{
font-size:
24px;
color:
#999999
}
.blanc
{
color:
#ffffff
}
.nouveau
{
color:
#ffffff;
font-weight:
bolder;
étienne
vandeput
–
©
cefis
2005
102

publier
sur
web
-
perfectionnement
border:
#ff0000;
background-color:
#ff0000;
padding-top:
3px;
padding-bottom:
3px;
text-align:
center;
font-size:
13px
}
.titre
{
font-size:
15px;
color:
#333399;
font-weight:
bold;
border-color:
black
black
#333399;
border-style:
solid;
border-top-width:
0px;
border-right-width:
0px;
border-bottom-width:
3px;
border-left-width:
0px
}
.intertitre
{
font-size:
13px;
color:
#990000;
font-weight:
bold;
border-color:
black
black
#990033;
border-style:
solid;
border-top-width:
0px;
border-right-width:
0px;
border-bottom-width:
1px;
border-left-width:
0px
}
.evidence
{
color:
#ffffcc;
background-color:
#333399;
padding-right:
20px;
padding-top:
20px;
padding-bottom:
20px;
padding-left:
20px
}
.gris
{
font-family:
verdana,
arial,
helvetica,
sans-serif;
font-style:
normal;
font-weight:
bold;
color:
#999999;
font-size:
11px
}
4.5.3.2
sous-modèles
principe
inclusion
de
fichier
avoir
utiliser
pour
entete.php
pieddepage.php
pouvoir
être
étendre
à
d’autres
fins
comme,
par
exemple,
l’ajout
de
bouton
spécifiques,
d’une
barre
de
navigation,…
de
manière
à
créer
d’autres
modèles.
être
notion
de
modèle
définir
être
riche
notion
de
modèle
pouvoir
être
implanter
par
logiciel
d’édition
html
sophistiqués.
modèle
être
charger
pour
créer
base
document
dès
l’instant
document
être
enregistrer
sous
nom
propre,
différent
de
étienne
vandeput
–
©
cefis
2005
103

publier
sur
web
-
perfectionnement
modèle,
n’y
avoir
liaison
avec
dernier.
avoir
grand
intérêt
à
réfléchir
sérieusement,
à
l’élaboration
de
modèles,
à
l’arborescence
fichiers,
déterminante
en
concerner
lien
relatifs
décrire
fichier
à
inclure.
dans
exemple,
avoir
créer
deux
autres
modèles,
différents
modèle
général,
inclure
lien
vers
page
importantes
de
l’application.
modèle
être
lier
interaction
minimales
souhaiter
dans
site,
à
savoir
:

l’utilisateur
devoir
connecter
site
(à
partir
d’une
page
de
login)

l’utilisateur
devoir
déconnecter
site
(ce
être
possible
qu’à
partir
de
page
seulement)

l’utilisateur
souhaiter
revenir
à
l’ensemble
fonctionnalité
être
autoriser
(également
possible
à
partir
de
pages)
dès
lors,
envisager
modèle
inclure
lien
de
retour
vers
menu
(modele_retour.php)
modèle
inclure
lien
pour
déconnexion
(modele_deconnexion.php).
construisons,
dans
fichier
séparés,
partie
de
code
concernant
l’ajout
de
liens.
nouveaux
modèle
être
construire
à
partir
modèle
basique.
d’abord
code
fichier
modèle
en
commençant
par
modele_retour.php
:
<?php
include('../modeles/entete.php');
?>
<table
width="556"
border="0"
cellspacing="2"
cellpadding="10">
<tr>
<td
height="300"
valign="top"
bgcolor="#ffffcc">
<h6>système
de
gestion
stages</h6>
<p><em>&lt;corps
de
texte
ici&gt;</em></p></td>
</tr>
</table>
<?php
include('../modeles/retour_menu.php');
include('../modeles/pieddepage.php');
?>
modèle
être
construire
à
partir
code
modèle
de
base.
avoir
ajouter
l’inclusion
d’un
fichier
retour_menu.php
code
:
<table
width="555"
border="0"
cellspacing="2"
cellpadding="5">
<tr>
<td>&nbsp;</td>
<td><div
align="right">retour
<a
href='menu.php?sid'>menu</a></div></td>
</tr>
</table>
structure
de
tableau
à
cellule
être
à
nouveau
privilégier
pour
placer
lien.
noter
celui-ci
renvoyer
vers
script
menu.php
être
à
écrire.
de
plus,
valeur
être
fournir
à
script
sous
forme
de
constante
sid
n’est
d’autre
l’identifiant
de
session.
l’autre
sous-modèle
modele_deconnexion.php.
construction
être
identique.
<?php
include('../modeles/entete.php');
?>
étienne
vandeput
–
©
cefis
2005
104

publier
sur
web
-
perfectionnement
<table
width="556"
border="0"
cellspacing="2"
cellpadding="10">
<tr>
<td
height="300"
valign="top"
bgcolor="#ffffcc">
<h1>système
de
gestion
stages</h1>
<p><em>&lt;corps
de
texte
ici&gt;</em></p></td>
</tr>
</table>
<?php
include('../modeles/deconnexion.php');
include('../modeles/pieddepage.php');
?>
fichier
inclus,
deconnexion.php,
n’est
composer
d’une
seule
ligne
dans
cas
présent.
être
utile
d’en
faire
fichier
à
inclure.
toutefois,
c’est
principe
souhaiter
illustrer
ici.
contenir
lien
vers
fichier
login.php
code
être
à
écrire.
<p><a
href="login.php">déconnecter</a></p>
à
stade
développement
de
l’application,
l’arborescence
site
présenter
suit.
dossier
image
contenir
image
site,
en
comprises,
image
correspondre
à
puce
avoir
pouvoir
être
définir
dans
styles.
dossier
modeles
contenir
modèle
de
base,
deux
sousmodèles
quatre
fichier
pour
inclusion
de
code.
fichier
contenir
définition
de
feuille
de
style
être
rester
niveau
de
racine
site.
rester
à
construire
différents
script
sans
avoir
à
préoccuper
de
mise
page.
fichier
être
construire
à
partir
d’un
deux
sous-modèles.
dans
conception
sophistiquée,
pouvoir
avoir
réflexion
approfondir
permettre
de
raffiner
modèle
mise
en
page
en
forme.
4.5.4
connexion
point
de
départ
de
l’application
être
page
de
connexion.
celle-ci
être
sobre
limiter
à
demande
de
fourniture
d’un
identifier
d’un
mot
de
passe.
pouvoir
proposer
d’autres
service
:

possibilité
de
créer
soi-même
son
identifier
mot
de
passe
(utilité
à
estimer
en
fonction
de
visibilité
site
-
internet
intranet
-
capacité
à
gérer
inscription
bidons)

possibilité
de
renvoyer
mot
de
passe
oublier
à
utilisateur
sur
base
de
renseignement
qu’il
avoir
fournir

…
avoir
considéré,
dans
exemple,
utilisateur
recevoir
identifier
mot
de
passe
de
part
de
l’administrateur.
pouvoir
fournir
principe
simple
de
construction
identifiants
étienne
vandeput
–
©
cefis
2005
105

publier
sur
web
-
perfectionnement
(par
exemple,
premier
lettre
prénom
suivre
lettre
nom
à
concurrence
de
huit
caractères)
attribuer
même
information
mot
de
passe
en
demander
à
l’utilisateur
d’en
changer
dès
premier
connexion.
méthode
présente
l’inconvénient
utilisateur
changer
mot
de
passe,
permettre
à
d’autres
connaître
manière
de
construire,
de
s’en
servir
de
manière
loyale.
4.5.4.1
login
page
de
login
être
formulaire
sens
html
terme.
<?php
include('../modeles/entete.php');
?>
<table
width="556"
border="0"
cellspacing="2"
cellpadding="10">
<tr>
<td
height="300"
valign="top"
bgcolor="#ffffcc"><h6>connexion
syst&egrave;me
de
gestion
stages</h6>
<form
name="form1"
method="post"
action="connexion.php">
<p>
<label>
param&egrave;tres
de
connexion:</label>
</p>
<p>
<label>
<input
name="categorie"
type="radio"
value="1"
checked>
él&egrave;ve</label>
<br>
<label>
<input
type="radio"
name="categorie"
value="2">
maître
de
stage</label>
<br>
<label>
<input
type="radio"
name="categorie"
value="3">
responsable
de
site</label>
</p>
<p>id
<input
type="text"
name="login">
</p>
<p>mot
de
passe
<input
type="password"
name="pw">
<label></label>
</p>
<p>
<input
type="submit"
name="submit"
value="aller">
</p>
</form>
étienne
vandeput
–
©
cefis
2005
106

publier
sur
web
-
perfectionnement
<p>&nbsp;</p></td>
</tr>
</table>
<?php
include('../modeles/pieddepage.php');
?>
page
être
construire
à
partir
modèle
basique
(sans
lien
de
retour
de
déconnexion).
formulaire
composer
d’un
groupe
de
bouton
radios,
de
deux
zone
de
texte
pour
saisie
de
l’identifiant
mot
de
passe
d’un
bouton
de
soumission.
n’y
avoir
de
contrôle
de
format
de
validation
prévoir
pour
éviter
prolifération
de
code,
être
certain
script
javascript
être
en
mesure
de
gérer
problème
potentiels.
groupe
de
bouton
servir
à
identifier
catégorie
d’utilisateur
à
avoir
affaire.
de
sorte,
script
associer
à
soumission
(connexion.php)
pouvoir
transmettre
information
de
manière
à
fournir
menu
en
rapport
avec
catégorie.
4.5.4.2
connexion
script28
précédent
provoquer
(lorsque
bouton
de
soumission
formulaire
être
activé)
l’exécution
script
connexion.php.
contenter
de
sélectionner
bonne
table
pour
vérification
de
correspondance
identifier
-
mot
de
passe
de
proposer
alternative
en
cas
d’erreur.
erreur
n’est
détectée,
lien
permettre
de
continuer.
lien
faire
exécuter
script
menu.php
fournir
l’identificateur
de
session.
28
mot
script
être
utiliser
dans
sens
large
de
partie
de
code
contenir
instruction
en
php.
étienne
vandeput
–
©
cefis
2005
107

publier
sur
web
-
perfectionnement
<?php
session_start();
include('../modeles/entete.php');
?>
<table
width="556"
border="0"
cellspacing="2"
cellpadding="10">
<tr>
<td
height="300"
valign="top"
bgcolor="#ffffcc">
<?php
$_session['categorie']=$_post['categorie'];
$_session['login']=$_post['login'];
$_session['pw']=$_post['pw'];
echo
"<h6>système
de
gestion
stages</h6>";
$c=$_post['categorie'];
if($c==1){$t='eleve';}
elseif($c==2){$t='maitre';}
else{$t='lieu';}
$link
=
mysql_connect('localhost',
'encodeur',
'aaaaaa');
if
(!
!$link)
{
die('<p>impossible
de
connecter
:
'.
mysql_error().'</p>');
}
$db
=
mysql_select_db('gestionstages',
$link);
if
(!
!$db)
{
die
('<p>impossible
d\'utiliser
base
:
'.
mysql_error().'</p>');
}
$login=$_post['login'];
$sqlquery="select
nom,prenom,login,pw
from
$t
where
login='$login'";
$queryresult=mysql_query($sqlquery);
if(mysql_num_rows($queryresult)==0){
echo
"<p>identifiant
inconnu!
!</p>";
echo
"<p><a
href='login.php'>retour</a></p>";}
else{
$row=mysql_fetch_array($queryresult,mysql_assoc);
if($row['pw']!
!=$_post['pw']){
echo
"mot
de
passe
incorrect!
!";
echo
"<p><a
href='login.php'>retour</a></p>";}
else{echo
"<p>bienvenue
<strong>".$row['prenom']."
".$row['nom']."</strong>
"."</p>";
echo
"<p><a
href='menu.php?".sid."'>continuer</a></p>";
include('../modeles/deconnexion.php');
}
}
?>
étienne
vandeput
–
©
cefis
2005
108

publier
sur
web
-
perfectionnement
</tr>
</table>
<?php
include('../modeles/pieddepage.php');
?>
création
d’une
session
génération
d’un
identifier
de
session
faire
grâce
à
fonction
session_start.
instruction
devoir
être
premier
utiliser
technique
cookies
pour
retrouver
variables
de
session.
valeur
fournir
par
formulaire
(variable
$_post)
être
placer
dans
tableau
global
prédéfini
$_session,
de
façon
à
pouvoir
être
retrouver
grâce
à
l’identifiant
de
session
sid.
script
devoir
identifier
l’utilisateur,
page
à
produire
pouvoir
comprendre
de
retour
menu,
de
possibilité
de
déconnexion.
c’est
raison
pour
page
être
créer
à
partir
modèle
basique.
avoir
ajouter
instruction
générer
lien
de
retour
à
page
précédente
l’instruction
permettre
déconnexion,
dans
cas
concerner
par
options.
autres
page
être
créer
sur
base
d’un
deux
sous-modèles.
en
cas
d’identification,
script
appeler
être
menu.php.
script
aller
générer
menu
aller
dépendre
type
d’utilisateur
connecté.
l’identificateur
de
session
être
fournir
dans
l’adresse
(ce
être
nécessaire
client
web
de
l’utilisateur
être
configurer
pour
accepter
cookies).
4.5.5
script
4.5.5.1
menu
script
contenir
même
instruction
de
démarrage
de
session
permettre
de
récupérer,
nécessaire,
variables
de
session.
page
être
construire
sur
modèle
modele_deconnexion.php.
variable
$t
contenir
nom
de
table
à
sélectionner.
nom
être
fonction
de
catégorie.
menu
être
constituer
sur
base
de
catégorie
de
l’utilisateur.
adresse
de
lien
être
suivre
de
l’identifiant
de
session
permettre
de
propager,
notamment,
catégorie
de
l’utilisateur,
d’autres
informations.
<?php
session_start();
include('../modeles/entete.php');
?>
<table
width="556"
border="0"
cellspacing="2"
cellpadding="10">
<tr>
<td
height="300"
valign="top"
bgcolor="#ffffcc">
<h6>système
de
gestion
stages</h6>
<?php
$c=$_session['categorie'];
if($c==1){$t='eleve';}
étienne
vandeput
–
©
cefis
2005
109

publier
sur
web
-
perfectionnement
elseif($c==2){$t='maitre';}
else{$t='lieu';}
$link
=
mysql_connect('localhost',
'encodeur',
'aaaaaa');
if
(!
!$link)
{
die('<p>impossible
de
connecter
:
'.
mysql_error().'</p>');
}
$db
=
mysql_select_db('stages',
$link);
if
(!
!$db)
{
die
('<p>impossible
d\'utiliser
base
:
'.
mysql_error().'</p>');
}
$login=$_session['login'];
$sqlquery="select
nom,prenom,login,pw
from
$t
where
login='$login'";
$queryresult=mysql_query($sqlquery);
$row=mysql_fetch_array($queryresult,mysql_assoc);
echo
"<p>session
de
<strong>".$row['prenom']."
".$row['nom']."</strong>
"."</p>";
echo
"<h1>faites
choix</h1>";
if($c==1){
echo
"<p>obtenir
liste
lieu
date
de
stage
<a
href='stages_eleve.php?sid'>ici</a></p>";
echo
"<p>savoir
être
en
stage
à
date
donner
<a
href='stages_par_date.php?sid'>ici</a></p>";
echo
"<p>obtenir
liste
superviseur
<a
href='superviseurs.php?sid'>ici</a>";
echo
"<p>obtenir
liste
étudiant
présents
même
endroit
même
jour
<a
href='date_stage.php?sid'>ici</a>";
echo
"</p>";
}
if($c==2){
echo
"<p>obtenir
liste
élève
superviser
<a
href='supervision.php?sid'>ici</a></p>";
echo
"<p>ajouter
élève
<a
href='ajouter_eleve.php?sid'>ici</a><p>";
echo
"<p>ajouter
stage
à
élève
<a
href='ajouter_stage.php?sid'>ici</a><p>";
}
if($c==3){
//
à
développer
}
?>
</tr>
</table>
<?php
include('../modeles/deconnexion.php');
include('../modeles/pieddepage.php');
?>
étienne
vandeput
–
©
cefis
2005
110

publier
sur
web
-
perfectionnement
l’interface
de
menu
élèves.
menu
maître
de
stage
ressembler
à
suit.
sept
script
mentionner
dans
page
aller
être
décrits.
faire
en
respecter
certaine
progression
dans
difficulté.
c’est
raison
pour
décrire
d’abord
script
pour
construction
d’une
page
destiner
élève
avant
de
traiter
page
pour
maître
de
stage
de
revenir
page
destiner
élèves.
4.5.5.2
liste
superviseur
(élève)
s’agit
d’une
requêter
sélection
élémentaire
s’adressant
qu’à
seule
table,
maître
de
stage.
requête
être
:
select
nom,prenom
from
maitre
order
by
nom
;
reste
code
être
classique
l’on
s’en
référer
exemple
avoir
être
donnés.
<?php
session_start();
include('../modeles/entete.php');
?>
<table
width="556"
border="0"
cellspacing="2"
cellpadding="10">
<tr>
<td
height="300"
valign="top"
bgcolor="#ffffcc">
étienne
vandeput
–
©
cefis
2005
111

publier
sur
web
-
perfectionnement
<h6>système
de
gestion
stages</h6>
<?php
echo
"<h1>liste
superviseurs</h1>";
$link
=
mysql_connect('localhost',
'encodeur',
'aaaaaa');
if
(!
!$link)
{
die('<p>impossible
de
connecter
:
'.
mysql_error().'</p>');
}
$db
=
mysql_select_db('stages',
$link);
if
(!
!$db)
{
die
('<p>impossible
d\'utiliser
base
:
'.
mysql_error().'</p>');
}
$sqlquery="select
nom,prenom
from
maitre
order
by
nom";
$queryresult=mysql_query($sqlquery);
echo
"<table><tr><td><strong>prénom</strong></td><td><strong>nom</strong>
</td></tr>";
while($row=mysql_fetch_array($queryresult,mysql_assoc)){
echo
"<tr><td>".$row['prenom']."</td><td>".$row['nom']."</td></tr>";
}
echo
"</table>";
?>
</td>
</tr>
</table>
<?php
include('../modeles/retour_menu.php');
include('../modeles/pieddepage.php');
?>
donne,
par
exemple
:
étienne
vandeput
–
©
cefis
2005
112

publier
sur
web
-
perfectionnement
4.5.5.3
liste
superviser
(maître
de
stage)
requête
être
compliquer
dès
qu’elle
travailler
sur
table
eleve,
maitre
stage.
falloir
dans
liste
stages,
l’identifiant
maître
de
l’utilisateur
identifiants
maître
élève
correspondre
dans
table
eleve
maitre.
$sqlquery="select
eleve.nom,eleve.prenom,stage.domaine
from
eleve,stage,maitre
where
id_eleve=eleve.id
&&
id_maitre=maitre.id
&&
maitre.login='".$_session['login']."'";
donner
chose
:
4.5.5.4
ajout
d’un
élever
(maître
de
stage)
script
l’effet
être
visible.
s’agit,
en
effet,
de
modifier
contenu
de
base
de
données.
d’où
l’importance
de
fournir
feed-back
à
l’utilisateur
indiquer
être
passer
opérations.
c’est
rôle
de
page
être
générée.
avant
l’exécution
de
script,
l’utilisateur
devoir
fournir
donnée
nécessaires
à
requête
de
mise
à
jour
de
base
de
données.
avoir
deux
fichier
à
construire
dans
cas.
<?php
include('../modeles/entete.php');
?>
<table
width="556"
border="0"
cellspacing="2"
cellpadding="10">
<tr>
<td
height="300"
valign="top"
bgcolor="#ffffcc">
<h6>syst&egrave;me
de
gestion
stage
</h6>
<h1>nouvel
&eacute;l&egrave;ve
</h1>
<form
name="form1"
method="post"
action="fb_enregistrer_eleve.php">
<p>nom:
<input
name="nom"
type="text"
size="30"
maxlength="50"
>
</p>
<p>pr&eacute;nom:
<input
name="prenom"
type="text"
id="prenom"
size="30"
maxlength="50">
</p>
<p>classe:
<select
name="classe"
size="1"
id="classe">
<option
value="5g">5b</option>
<option
value="6g">6b</option>
étienne
vandeput
–
©
cefis
2005
113

publier
sur
web
-
perfectionnement
<option
value="5p">5p</option>
<option
value="6p">6p</option>
</select>
</p>
<p>identifiant:
<input
name="login"
type="text"
id="login"
size="8"
maxlength="8">
</p>
<p>mot
de
passe:
<input
name="pw"
type="password"
id="pw"
size="20"
maxlength="50">
</p>
<p>
<input
name="envoyer"
type="submit"
id="envoyer"
value="envoyer">
</p>
<p>&nbsp;
</p>
</form></td>
</tr>
</table>
<?php
include('../modeles/retour_menu.php');
include('../modeles/pieddepage.php');
?>
formulaire
:
soumission
formulaire
entraîner
l’exécution
script
fb_enregister_eleve.php.
observer
choix
de
classe
faire
dans
liste
fixe.
pouvoir
imaginer
nombre
de
classe
étienne
vandeput
–
©
cefis
2005
114

publier
sur
web
-
perfectionnement
variable
dans
temps.
falloir
en
faire
entité
dans
modèle
era.
être
commode,
dans
cas,
de
générer
liste
sur
base
d’une
requête
dans
base
de
données.
code
de
script
inclure
instruction
d’enregistrement
dans
base
instruction
d’affichage
feed-back.
<?php
include('../modeles/entete.php');
?>
<table
width="556"
border="0"
cellspacing="2"
cellpadding="10">
<tr>
<td
height="300"
valign="top"
bgcolor="#ffffcc">
<h6>système
de
gestion
stages</h6>
<h1>r&eacute;sultat
de
l'enregistrement</h1>
<p>
<?php
$link
=
mysql_connect('localhost',
'encodeur',
'aaaaaa');
if
(!
!$link)
{
die('<p>impossible
de
connecter
:
'.
mysql_error().'</p>');
}
$db
=
mysql_select_db('stages',
$link);
if
(!
!$db)
{
die
('<p>impossible
d\'utiliser
base
:
'.
mysql_error().'</p>');
}
foreach($_post
avoir
$key
=>
$value)
{
$varname
=
"_".$key;
$$varname
=
$value;
}
$sqlquery="insert
eleve
(nom,prenom,classe,login,pw)
valoir
('$_nom','$_prenom','$_classe','$_login','$_pw')";
$queryresult=mysql_query($sqlquery)
die("échec
de
l'enregistrement");
echo
"l'élève
$_prenom
$_nom
avoir
être
enregistrer
correctement."
?>
</p>
</td>
</tr>
</table>
<?php
include('../modeles/retour_menu.php');
include('../modeles/pieddepage.php');
?>
requête
être
requête
de
mise
à
jour
:
$sqlquery="insert
eleve
(nom,prenom,classe,login,pw)
valoir
('$_nom','$_prenom',
'$_classe','$_login','$_pw')";
étienne
vandeput
–
©
cefis
2005
115

publier
sur
web
-
perfectionnement
nom
variables
avoir
être
générer
à
l’aide
d’une
instruction
foreach
avoir
donner
un
exemple.
feed-back
être
donner
par
seule
instruction
:
echo
"l'élève
$_prenom
$_nom
avoir
être
enregistrer
correctement."
;
l’écran
donner
feed-back
:
script
venir
de
décrire
afficher
lien
permettre
retour
menu,
copie
d’écran
montrer
pas.
4.5.5.5
ajout
d’un
stage
(maître
de
stage)
maître
de
stage
pouvoir
encoder
nouveau
stage
pour
un
élève.
faire
mêmes
observation
pour
cas
précédent,
à
savoir
deux
fichier
être
nécessaires
:
un
pour
générer
formulaire,
l’autre
pour
enregistrer
donnée
fournir
feed-back.
particularité
de
script
être
donnée
aller
être
extraire
de
base
de
donnée
pour
faciliter
choix
de
l’utilisateur.
c’est
cas
de
liste
élèves,
lieu
domaines.
avoir
pouvoir
associer
petit
calendrier
pour
choix
dates.
choix
être
discutables.
<?php
include('../modeles/entete.php');
?>
<table
width="556"
border="0"
cellspacing="2"
cellpadding="10">
<tr>
<td
height="300"
valign="top"
bgcolor="#ffffcc">
<h6>système
de
gestion
stages</h6>
<?php
$link
=
mysql_connect('localhost',
'encodeur',
'aaaaaa');
if
(!
!$link)
{
die('<p>impossible
de
connecter
:
'.
mysql_error().'</p>');
}
$db
=
mysql_select_db('stages',
$link);
if
(!
!$db)
{
die
('<p>impossible
d\'utiliser
base
:
'.
mysql_error().'</p>');
}
$sqlquery1="select
nom,prenom,id
from
eleve";
$queryresult1=mysql_query($sqlquery1);
$sqlquery2="select
denomination,id
from
lieu";
$queryresult2=mysql_query($sqlquery2);
?>
étienne
vandeput
–
©
cefis
2005
116

publier
sur
web
-
perfectionnement
<h1>nouveau
stage</h1>
<form
name="form1"
method="post"
action="fb_ajouter_stage.php">
<p>&eacute;l&egrave;ve:
<select
name="id_eleve"
size="1">
<?php
while($row=mysql_fetch_array($queryresult1,mysql_assoc)){
echo"<option
value='".$row['id']."'>".$row['nom']."
".$row['prenom'].
"</option>";
}
?>
</select>
</p>
<p>lieu:
<select
name="lieu"
size="1"
id="lieu">
<?php
while($row=mysql_fetch_array($queryresult2,mysql_assoc)){
echo"<option
value='".$row['id']."'>".$row['denomination']."</option>";
}
?>
</select>
</p>
<p>domaine:
<select
name="domaine"
size="1"
id="domaine">
<option
value="p&eacute;diatrie">p&eacute;diatrie</option>
<option
value="g&eacute;riatrie">g&eacute;riatrie</option>
<option
value="cr&egrave;che">cr&egrave;che</option>
</select>
</p>
<p>date
de
d&eacute;but
(jj/mm/aaaa):
<input
name="date_debut"
type="text"
id="date_debut"
size="10"
maxlength="10">
</p>
<p>date
de
fin
(jj/mm/aaaa):
<input
name="date_fin"
type="text"
id="date_fin"
size="10"
maxlength="10">
</p>
<p>
<input
name="envoyer"
type="submit"
id="envoyer"
value="envoyer">
</p>
<p>&nbsp;
</p>
</form></p></td>
</tr>
</table>
étienne
vandeput
–
©
cefis
2005
117

publier
sur
web
-
perfectionnement
<?php
include('../modeles/retour_menu.php');
include('../modeles/pieddepage.php');
?>
aperçu
de
formulaire
:
l’envoi
de
formulaire
activer
script
fb_ajouter_stage.php
code
:
<?php
session_start();
include('../modeles/entete.php');
?>
<table
width="556"
border="0"
cellspacing="2"
cellpadding="10">
<tr>
<td
height="300"
valign="top"
bgcolor="#ffffcc">
<h6>système
de
gestion
stages</h6>
<h1>r&eacute;sultat
de
l'enregistrement</h1>
<p>
<?php
$link
=
mysql_connect('localhost',
'encodeur',
'aaaaaa');
if
(!
!$link)
{
die('<p>impossible
de
connecter
:
'.
mysql_error().'</p>');
}
$db
=
mysql_select_db('gestionstages',
$link);
if
(!
!$db)
{
die
('<p>impossible
d\'utiliser
base
:
'.
mysql_error().'</p>');
}
étienne
vandeput
–
©
cefis
2005
118

publier
sur
web
-
perfectionnement
foreach($_post
avoir
$key
=>
$value)
{
$varname
=
"_".$key;
$$varname
=
$value;
}
$_date_debut=substr($_date_debut,6,4).'/'.substr($_date_debut,3,2).'/'.substr($_date_
debut,0,2);
$_date_fin=substr($_date_fin,6,4).'/'.substr($_date_fin,3,2).'/'.substr($_date_fin,0,
2);
$sqlquery1="select
id
from
maitre
where
login='".$_session['login']."'";
$queryresult1=mysql_query($sqlquery1)
die('la
requête
avoir
échoué');
$row=mysql_fetch_array($queryresult1,mysql_assoc);
$sqlquery2="insert
stage
(domaine,date_debut,date_fin,id_eleve,id_lieu,
id_maitre)
value
('$_domaine','$_date_debut','$_date_fin','$_id_eleve','$_lieu',
'".$row['id']."')";
$queryresult2=mysql_query($sqlquery2)
die("l'enregistrement
avoir
échoué");
echo
"le
stage
avoir
être
enregistrer
correctement.";
?>
</p></td>
</tr>
</table>
<?php
include('../modeles/retour_menu.php');
include('../modeles/pieddepage.php');
?>
deux
requête
être
effectuer
:
premier
être
requête
sélection
pour
connaître
l’identifiant
maître
de
stage
(nécessaire
pour
créer
nouveau
stage)
;
$sqlquery1="select
id
from
maitre
where
login='".$_session['login']."'";
second
être
requête
de
mise
à
jour
pour
l’insertion
nouveau
stage.
$sqlquery2="insert
stage
(domaine,date_debut,date_fin,id_eleve,id_lieu,id_maitre)
values('$_domaine','$_date_debut','$_date_fin','$_id_eleve','$_lieu','".$row['id']
."')";
dans
cas
précédent,
feed-back
être
sobre.
echo
"le
stage
avoir
être
enregistrer
correctement.";
étienne
vandeput
–
©
cefis
2005
119

publier
sur
web
-
perfectionnement
4.5.5.6
lieu
date
de
stage
(élève)
requête
sélecter
être
compliquées,
n’est
l’une
d’elles
porter
sur
table
eleve
stage.
<?php
session_start();
include('../modeles/entete.php');
?>
<table
width="556"
border="0"
cellspacing="2"
cellpadding="10">
<tr>
<td
height="300"
valign="top"
bgcolor="#ffffcc">
<h6>système
de
gestion
stages</h6>
<h1>liste
stage
&agrave;
prester</h1>
<p>
<?php
$link
=
mysql_connect('localhost',
'encodeur',
'aaaaaa');
if
(!
!$link)
{
die('<p>impossible
de
connecter
:
'.
mysql_error().'</p>');
}
$db
=
mysql_select_db('gestionstages',
$link);
if
(!
!$db)
{
die
('<p>impossible
d\'utiliser
base
:
'.
mysql_error().'</p>');
}
$sqlquery1="select
stage.domaine,stage.date_debut,stage.date_fin,
stage.id_lieu,stage.id_eleve
from
eleve,stage
where
stage.id_eleve='".
$_session['login']."'
group
by
stage.domaine";
$queryresult1=mysql_query($sqlquery1)
die('la
requête
1
avoir
échoué');
echo
"<table><tr><td><strong>lieu</strong></td><td><strong>domaine</strong>
</td><td><strong>date
de
début</strong></td><td><strong>date
de
fin</strong>
</td></tr>";
while($row=mysql_fetch_array($queryresult1)){
$sqlquery2="select
denomination
from
lieu
where
login='$row[3]'";
$queryresult2=mysql_query($sqlquery2)
die('la
requête
2
avoir
échoué');
$row2=mysql_fetch_array($queryresult2);
$row[1]=substr($row[1],8,2).'/'.substr($row[1],5,2).'/'.substr($row[1],0,4);
$row[2]=substr($row[2],8,2).'/'.substr($row[2],5,2).'/'.substr($row[2],0,4);
</tr>";
echo
"<tr><td>$row2[0]</td><td>$row[0]</td><td>$row[1]</td><td>$row[2]</td>
}
echo
"</table>";
?>
</p></td>
</tr>
</table>
étienne
vandeput
–
©
cefis
2005
120

publier
sur
web
-
perfectionnement
<?php
include('../modeles/retour_menu.php');
include('../modeles/pieddepage.php');
?>
premier
requête
:
$sqlquery1="select
stage.domaine,stage.date_debut,stage.date_fin,
stage.id_lieu,stage.id_eleve
from
eleve,stage
where
stage.id_eleve='".
$_session['login']."'
group
by
stage.domaine";
permettre
de
retrouver
stage
de
l’élève
connecté.
second
requête
servir
à
retrouver
dénomination
lieu
en
fonction
de
identifier
dans
table
stages.
$sqlquery2="select
denomination
from
lieu
where
login='$row[3]'";
résultat
possible
:
4.5.5.7
stage
à
date
donner
(élève)
recherche
stage
d’un
élever
à
date
donner
demander
à
nouveau
deux
fichier
:

formulaire
pour
préciser
date

script
pour
recherche
dans
base
de
donnée
l’affichage
résultat
soumission
formulaire
provoquer
l’exécution
de
script
appeler
verifier_stage.php.
<?php
session_start();
include('../modeles/entete.php');
?>
<table
width="556"
border="0"
cellspacing="2"
cellpadding="10">
<tr>
<td
height="300"
valign="top"
bgcolor="#ffffcc">
<h6>système
de
gestion
stages</h6>
<h1>recherche
de
stage</h1>
<form
name="form1"
method="post"
action="verifier_stage.php">
<p>précisez
date:
<input
name="jour_de_stage"
type="text"
size="10"
maxlength="10">
étienne
vandeput
–
©
cefis
2005
121

publier
sur
web
-
perfectionnement
</p>
<p>
<input
type="submit"
name="submit"
value="envoyer">
</p>
</form>
</td>
</tr>
</table>
<?php
include('../modeles/retour_menu.php');
include('../modeles/pieddepage.php');
?>
donner
à
l’affichage
formulaire
:
code
script
verifier_stage.php
être
suivant
:
<?php
session_start();
include('../modeles/entete.php');
?>
<table
width="556"
border="0"
cellspacing="2"
cellpadding="10">
<tr>
<td
height="300"
valign="top"
bgcolor="#ffffcc">
<h6>système
de
gestion
stages</h6>
<h1>en
stage
&agrave;...</h1>
<p>
<?php
$link
=
mysql_connect('localhost',
'encodeur',
'aaaaaa');
if
(!
!$link)
{
die('<p>impossible
de
connecter
:
'.
mysql_error().'</p>');
}
$db
=
mysql_select_db('stages',
$link);
if
(!
!$db)
{
die
('<p>impossible
d\'utiliser
base
:
'.
mysql_error().'</p>');
étienne
vandeput
–
©
cefis
2005
122

publier
sur
web
-
perfectionnement
}
$jds=$_post['jour_de_stage'];
$jds=substr($jds,6,4).'/'.substr($jds,3,2).'/'.substr($jds,0,2);
$sqlquery1="select
stage.domaine,stage.date_debut,stage.date_fin
from
eleve,stage
where
stage.id_eleve='".$_session['login']."'
&&
'".$jds."'>
stage.date_debut
&&
'".$jds."'<stage.date_fin";
$queryresult1=mysql_query($sqlquery1)
die('la
requête
avoir
échoué');
echo
"<table><tr><td><strong>lieu</strong></td><td><strong>domaine</strong>
</td><td><strong>date
de
début</strong></td><td><strong>date
de
fin</strong></td>
</tr>";
while($row=mysql_fetch_array($queryresult1)){
$row[1]=substr($row[1],8,2).'/'.substr($row[1],5,2).'/'.substr($row[1],0,4);
$row[2]=substr($row[2],8,2).'/'.substr($row[2],5,2).'/'.substr($row[2],0,4);
$sqlquery2="select
denomination
from
lieu
where
id='$row[3]'";
$queryresult2=mysql_query($sqlquery2)
die('la
requête
avoir
échoué');
$row2=mysql_fetch_array($queryresult2);
echo
"<tr><td>$row2[0]</td><td>$row[0]</td><td>$row[1]</td><td>$row[2]
</td></tr>";
}
echo
"</table>";
?>
</p></td></tr>
</table>
<?php
include('../modeles/retour_menu.php');
include('../modeles/pieddepage.php');
?>
premier
requête
rechercher
stage
correspondre
à
l’utilisateur
l’intervalle
de
déroulement
inclure
date
fournie.
$sqlquery1="select
stage.domaine,stage.date_debut,stage.date_fin
from
eleve,stage
where
stage.id_eleve='".$_session['login']."'
&&
'".$jds."'>
stage.date_debut
&&
'".$jds."'<stage.date_fin";
second
requête
servir
à
déterminer
dénomination
lieu.
$sqlquery2="select
denomination
from
lieu
where
id='$row[3]'";
exemple
de
résultat
:
étienne
vandeput
–
©
cefis
2005
123

publier
sur
web
-
perfectionnement
4.5.5.8
liste
accompagnants
(élève)
pour
dernière
fonctionnalité
décrite,
deux
fichier
être
nécessaires.
premier
être
semblable
à
de
l’exemple
précédent
générer
formulaire
pour
saisie
d’une
date.
rappeler
qu’aucun
script
valider
format
cohérence
dates.
<?php
include('../modeles/entete.php');
?>
<table
width="556"
border="0"
cellspacing="2"
cellpadding="10">
<tr>
<td
height="300"
valign="top"
bgcolor="#ffffcc">
<h6>système
de
gestion
stages</h6>
<h1>date
de
stage</h1>
<form
name="form1"
method="post"
action="accompagnants.php">
<p>date
(jj/mm/aaaa):
<input
name="date_de_stage"
type="text"
id="date_de_stage">
</p>
<p>
<input
name="envoyer"
type="submit"
id="envoyer"
value="envoyer">
</p>
</form>
<p></p></td>
</tr>
</table>
<?php
include('../modeles/retour_menu.php');
include('../modeles/pieddepage.php');
?>
look
formulaire
être
semblable
précédent.
soumission
provoquer
l’exécution
script
accompagnants.php
code
:
<?php
session_start();
include('../modeles/entete.php');
?>
<table
width="556"
border="0"
cellspacing="2"
cellpadding="10">
<tr>
<td
height="300"
valign="top"
bgcolor="#ffffcc">
<h6>système
de
gestion
stages</h6>
<h1>liste
&eacute;tudiants
en
stage
m&ecirc;me
endroit
jour</h1>
<p>
<?php
étienne
vandeput
–
©
cefis
2005
124

publier
sur
web
-
perfectionnement
$jds=$_post['date_de_stage'];
$jds=substr($jds,6,4).'/'.substr($jds,3,2).'/'.substr($jds,0,2);
$link
=
mysql_connect('localhost',
'encodeur',
'aaaaaa');
if
(!
!$link)
{
die('<p>impossible
de
connecter
:
'.
mysql_error().'</p>');
}
$db
=
mysql_select_db('gestionstages',
$link);
if
(!
!$db)
{
die
('<p>impossible
d\'utiliser
base
:
'.
mysql_error().'</p>');
}
$sqlquery1="select
lieu.denomination,lieu.login
from
stage,eleve,lieu
where
stage.id_eleve='".$_session['login']."'
&&
stage.date_debut<'".$jds."'
&&
stage.date_fin>'".$jds."'
&&
stage.id_lieu=lieu.login
group
by
lieu.denomination";
$queryresult1=mysql_query($sqlquery1)
die('la
requête
1
avoir
échoué');
while($row=mysql_fetch_row($queryresult1)){
echo
"<table><tr><td><strong>lieu</strong></td></tr>";
echo
"<tr><td>$row[0]</td></tr>";
echo
"<tr><td><strong>nom
présents
jour</strong></td></tr>";
$sqlquery2="select
eleve.nom
from
eleve,stage
where
stage.id_lieu=
'".$row[1]."'
&&
eleve.login=stage.id_eleve
&&
stage.date_debut<'".$jds."'
&&
stage.date_fin>'".$jds."'
group
by
eleve.nom
order
by
eleve.nom";
$queryresult2=mysql_query($sqlquery2)
die('la
requête
2
avoir
échoué');
while($row2=mysql_fetch_row($queryresult2)){
echo
"<tr><td>$row2[0]</td></tr>";
}
}
echo
"</table>";
?>
</p>
</td>
</tr>
</table>
<?php
include('../modeles/retour_menu.php');
include('../modeles/pieddepage.php');
?>
premier
requête
permettre
de
trouver
lieu
de
stage
de
l’utilisateur
à
date
fournie
:
$sqlquery1="select
lieu.denomination,lieu.login
from
stage,eleve,lieu
where
stage.id_eleve='".$_session['login']."'
&&
stage.date_debut<'".$jds."'
&&
stage.date_fin>'".$jds."'
&&
stage.id_lieu=lieu.login
group
by
lieu.denomination";
second
requête
permettre
de
trouver
liste
élève
en
stage
même
endroit
à
date
:
étienne
vandeput
–
©
cefis
2005
125

publier
sur
web
-
perfectionnement
$sqlquery2="select
eleve.nom
from
eleve,stage
where
stage.id_lieu=
'".$row[1]."'
&&
eleve.login=stage.id_eleve
&&
stage.date_debut<'".$jds."'
&&
stage.date_fin>'".$jds."'
group
by
eleve.nom
order
by
eleve.nom";
exemple
de
résultat:
4.6
base
de
donnée
voici,
à
titre
documentaire,
structure
quatre
table
de
base
de
donnée
contenu.
4.6.1
table
eleve
4.6.1.1
structure
4.6.1.2
contenu
étienne
vandeput
–
©
cefis
2005
126

publier
sur
web
-
perfectionnement
4.6.2
table
maitre
4.6.2.1
structure
4.6.2.2
contenu
4.6.3
table
lieu
4.6.3.1
structure
étienne
vandeput
–
©
cefis
2005
127

publier
sur
web
-
perfectionnement
4.6.3.2
contenu
4.6.4
table
stage
4.6.4.1
structure
4.6.4.2
contenu
4.7
structure
site
pour
terminer,
donner
structure
mini-site
de
application
en
terme
de
dossier
de
fichier
:
étienne
vandeput
–
©
cefis
2005
128

publier
sur
web
-
perfectionnement
constater
fois
structure
d’un
site
devoir
être
connaître
avant
rédaction
moindre
script.
l’usage
modèles,
référence
qu’ils
faire
à
d’autres
fichier
code
devoir
être
inclus,
élément
faire
fichier
devoir
être
affecter
à
dossier,
avant
même
d’avoir
être
construit.
d’autres
répartition
fichier
être
possibles.
falloir
estimer
quantité
de
fichier
l’application
aller
nécessiter.
nombre
de
fonctionnalité
proposer
être
importante,
faut,
envisager
autre
type
de
menu,
arborescence,
autre
répartition
fichier
en
dossiers.
pouvoir
imaginer,
par
exemple,
dossier
pour
script
concerner
élèves,
dossier
pour
script
concerner
maître
de
stage
dossier
pour
script
concerner
hôte
stages.
réalisation
d’une
feuille
de
style
correcte
être
déterminante
quant
à
qualité
relative
de
l’interface
pouvoir
proposer.
n’est
vain
de
consacrer
temps
à
élaboration.
être
possible
de
inspirer
de
feuille
de
style
utiliser
dans
site
trouver
agréables
lisibles.
n’y
avoir
pas,
sachions,
de
copyright
sur
feuille
de
style
celles-ci
retrouver
dans
cache
internet
de
machine
cliente.
dès
lors,…
rester
à
appliquer
démarche
venir
d’initier
développement
d’une
application
concerner
connaître
caractéristique
domaine.
bon
travail.
étienne
vandeput
–
©
cefis
2005
129


