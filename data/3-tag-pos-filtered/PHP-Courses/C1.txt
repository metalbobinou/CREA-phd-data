cours
html/php
cours
html/php
e.coquery
emmanuel.coquery@liris.cnrs.fr
cours
html/php
page
web
page
web
statiques
principe
de
fonctionnement
:
l’utilisateur
demander
l’accès
à
page
web
depuis
navigateur.
adresser
tapée,
clic
sur
lien,
utilisation
d’un
signet,
etc
...
navigateur
envoyer
demande
à
serveur
web.
serveur
web
lire
fichier
demander
sur
disque
dur.
serveur
web
envoyer
contenu
fichier
navigateur.
navigateur
afficher
contenu
de
page.
pour
l’affichage,
pouvoir
demander
contenu
d’autres
fichier
serveur
(ex
:
images).
cours
html/php
page
web
illustration
poster
client
serveur
serveur
web
navigateur
(1):
demander
"index.html"
web
(4):
contenir
de
index.html
(3):
contenir
de
index.html
(2):
accès
à
"index.html"
disquer
cours
html/php
page
web
page
web
dynamiques
page
statiques
:
pour
changer
contenu,
falloir
éditer
fichier.
idée
:
générer
contenu
de
page
moment
être
demandée,
en
fonction
:
contenu
d’une
base
de
donnée
;
de
paramètre
fournir
avec
demande
(ex
:
formulaires).
cours
html/php
page
web
page
web
dynamiques
:
fonctionnement
l’utilisateur
demander
l’accès
à
page
web
depuis
navigateur.
navigateur
transmettre
envoyer
demande
serveur
web
comprendre
:
nom
de
page,
correspondre
en
fait
à
programme
;
ensemble
de
paramètres.
serveur
web
aller
chercher
sur
disque
coder
source
d’un
programme.
serveur
web
exécuter
programme
pouvoir
:
utiliser
paramètre
transmettre
avec
demande
navigateur
;
aller
chercher
donnée
dans
base
de
donnée
sur
disque.
durant
l’exécution,
programme
générer
contenu
html.
contenu
html
être
envoyer
navigateur.
navigateur
afficher
résultat.
cours
html/php
page
web
illustration
(4):
génération
contenu
html
(4.1):
requête
résultat
poster
client
serveur
serveur
serveur
web
navigateur
sgbd
web
(5):
contenir
html
moduler
php
(1):
demander
"index.php"
+
paramètre
disquer
(2):
accès
à
"index.php"
(3):
coder
source
de
index.php
cours
html/php
page
web
langage
langage
utiliser
:
pour
contenu
page
:
donner
à
afficher
mettre
en
forme
⇒
html,
css,
javascript,
.
.
.)
pour
générer
contenu
page
:
aller
chercher
donnée
fabriquer
document
(en
général
document
html)
⇒
php
(ou
perl,
python,
java,
.
.
.)
pour
interroger
base
:
requête
à
effectuer
sur
base.
⇒
sql
cours
html/php
page
web
création
de
page
dynamiques
dans
cadre,
pour
créer
page
dynamique,
falloir
:
créer
programme
php
correspondre
à
page.
précisément,
écrire
code
source
de
programme.
but
de
programme
être
de
générer
contenu
d’une
page
web,
i.e.
html.
génération
faire
via
print,
pour
écrire
dans
fichier.
programme
pouvoir
utiliser
requête
sql.
requête
être
passer
sous
forme
de
chaˆınes
de
caractère
à
fonction
spéciales
aller
transmettre
sgbd
récupérer
résultats.
remarque
:
but
principal
d’un
programme
php
de
produire
page
html,
rester
programme
pouvoir
par
conséquent
avoir
d’autres
effet
:
:
insérer
valeur
dans
base
de
donn´
ees
cours
html/php
html
structurer
de
base
html
:
principe
fichier
texte
contenir
information
de
structuration.
structure
être
indiquer
à
l’aide
de
balise
:
nom
de
balise
indiquer
type
de
mise
en
forme
à
appliquer.
mettre
balise
ouvrante
début
morceau
de
texte
concerner
:
<nom
balise>début
texte
mettre
balise
fermante
à
fin
texte
concerner
:
fin
texte</nom
balise>
(!
!au
/)
balise
ouvrante
pouvoir
contenir
attribut
de
forme
nom="valeur"
<nom
baliser
nom1="val1"
nom2="val2"
...>texte
attribut
permettre
de
préciser
information
concerner
mise
en
forme.
balise
pouvoir
être
imbriquées.
c’est
navigateur
interpréter
balise
pour
faire
l’affichage.
cours
html/php
html
structurer
de
base
structure
d’une
page
html
page
html
avoir
structure
suivante
:
<html>
<head>
<title>titre
de
page</title>
</head>
<body>
partie
afficher
dans
navigateur.
</body>
</html>
commentaire
(non
affichés)
être
délimiter
par
<!
!--
-->.
cours
html/php
html
structurer
de
base
structure
:
paragraphe
titre
<p>texte</p>
texte
former
paragraphe
(saut
de
ligne
avant
après).
<h1>texte</h1>
texte
être
titre
important
(paragraphe
avec
affichage
gros,
en
gras).
<h2>texte</h2>
texte
être
titre
important
(affichage
gros).
.
.
.
<h6>texte</h6>
texte
être
petit
titre.
cours
html/php
html
structurer
de
base
exemple
de
document
html
<html>
<head>
<title>la
page
de
toto</title>
</head>
<body>
<h1>toto</h1>
<h2>l’histoire
de
toto</h2>
<p>il
être
fois
...</p>
<p>chemin
faire
...
</p>
<h2>les
amis
de
toto</h2>
<p>ouioui</p>
<p>casimir</p>
</body>
</html>
cours
html/php
html
structurer
de
base
structure
:
style
simples
<i>texte</i>
<em>texte</em>
:
mettre
texte
en
italique.
<b>texte</b>
<strong>texte</strong>
:
mettre
texte
en
gras.
<u>texte</u>
:
souligner
texte.
<big>texte</big>
:
mettre
texte
en
grand.
<small>texte</small>
:
mettre
texte
en
petit.
cours
html/php
html
structurer
de
base
structure
:
liste
<ul>
<li>entrée
1</li>
<li>entrée
2</li>
<li>entrée
3</li>
<li>...</li>
</ul>
<ol>
<li>entrée
1</li>
<li>entrée
2</li>
<li>entrée
3</li>
<li>...</li>
</ol>
cours
html/php
html
structurer
de
base
structure
:
tableau
<table>
<tr>
<td>case
1</td>
<td>case
2</td>
</tr>
<tr>
<td>case
3</td>
<td>case
4</td>
</tr>
</table>
cours
html/php
html
structurer
de
base
structure
:
tableau
-
2
<table
border="2">
<tr>
<td>case
1</td>
<td>case
2</td>
</tr>
<tr>
<td>case
3</td>
<td>case
4</td>
</tr>
</table>
cours
html/php
html
structurer
de
base
lien
hypertextes
<a
href="adresse
web">texte</a>
texte
devenir
lien
cliquable.
l’on
clique
sur
texte,
aller
à
l’adresse
(url)
adresse
web.
<a
href="http
://www.w3.org/tr/html401/">documentation
html</a>
texte
documentation
html
être
lien
vers
page
web
l’adresse
être
http
://www.w3.org/tr/html401/
<a
href="truc.html">des
trucs</a>
texte
truc
être
lien
vers
page
web
truc.html
situer
même
endroit
page
courante.
cours
html/php
html
structurer
de
base
imager
inclure
image
:
<img
src="adresse
web
image">
de
balise
fermante
pour
<img>
adresse
web
image
:
adresse
web
chercher
l’image.
cours
html/php
html
formulaire
formulaire
:
principe
objectifs
:
accéder
à
page
(dynamique)
en
spécifier
paramètre
;
permettre
à
l’utilisateur
de
saisir
paramètres.
:
en
utiliser
champ
textuels,
liste
déroulantes,
case
à
cocher
;
à
de
composant
de
saisie
correspondre
paramètre.
cours
html/php
html
formulaire
formulaire
:
baliser
principale
<form
action="adresse
web"
method="post"
name="nom">
contenir
formulaire
</form>
contenir
formulaire
:
texte
contenir
en
particulier
balise
représenter
différents
composant
de
saisie
;
adresse
web
:
l’adresse
de
page
web
dynamique
à
souhaiter
accéder
via
formulaire
;
post
:
méthode
de
transmission
paramètre
(on
pouvoir
mettre
get)
;
nom
:
nom
formulaire
(optionnel).
cours
html/php
html
formulaire
formulaire
:
saisir
de
texte
<input
type="text"
name="nom">
créer
champ
de
saisie
pour
ligne
de
texte.
nom
être
nom
paramètre
correspondre
à
composant.
pouvoir
ajouter
attribut
suivants
:
size="un
nombre"
:
taille
champ
en
caractère
;
value="une
valeur"
:
texte
pré-saisi
utile
pour
modifier
informations.
pouvoir
remplacer
type="text"
par
type="password"
vouloir
afficher
*
lieu
lettre
de
saisie.
de
balise
fermante.
cours
html/php
html
formulaire
formulaire
:
saisir
d’un
grand
texte
<textarea
name="nom"
rows="h"
cols="l">
contenir
pré
saisir
</textarea>
créer
champ
de
saisie
texte
sur
lignes.
nom
être
nom
paramètre
correspondre
à
composant.
h
être
hauteur
composant
en
nombre
de
lignes.
l
être
largeur
composant
en
nombre
de
caractères.
contenu
pré
saisir
pouvoir
être
vide
contenir
de
balise.
cours
html/php
html
formulaire
formulaire
:
paramètre
cacher
<input
type="hidden"
name="nom"
value="val">
permettre
de
donner
valeur
val
paramètre
nom.
composant
n’est
affiché.
utile
pour
spécifier
identifier
dans
formulaire
de
modification
information
de
base.
de
balise
fermante
cours
html/php
html
formulaire
formulaire
:
liste
déroulante
<select
name="nom">
<option
value="val1">texte
1</option>
<option
value="val2">texte
2</option>
...
</select>
créer
liste
déroulante
avoir
sélection
possible
texte
1,
texte
2,.
.
.
valeur
paramètre
nom
être
donner
par
sélection
choisir
par
l’utilisateur
:
val1
pour
texte
1
val2
pour
texte
2
.
.
.
l’attribut
valoir
être
optionnel.
par
défaut
c’est
texte
dans
balise
<option></option>
pouvoir
ajouter
selected="true"
dans
balise
opter
pour
pré
sélectionner
option.
cours
html/php
html
formulaire
formulaire
:
bouton
de
soumission
<input
type="submit"
value="texte">
créer
bouton
déclencher
chargement
de
page
de
destination
(attribut
action
de
balise
<form>).
texte
être
texte
être
afficher
sur
bouton.
<input
type="reset"
value="texte">
créer
bouton
déclencher
réinitialisation
formulaire,
en
utiliser
valeur
pré
saisir
lorsqu’elles
existent.
texte
être
texte
être
afficher
sur
bouton.
cours
html/php
html
formulaire
html
:
méthode
de
transmission
de
paramètre
deux
méthode
de
transmission
paramètre
get
paramètre
être
encoder
avec
l’adresse
de
page
:
à
fin
de
l’adresse,
ajouter
caractère
?
paramètre
ajouter
nom=val
paramètre
être
séparer
par
caractère
&
utile
pour
spécifier
paramètre
dans
lien
hypertexte.
post
paramètre
être
encoder
de
l’adresse
web.
pratique
pour
formulaires.
cours
html/php
php
généralité
php
fichier
php
être
code
source
d’un
programme.
programme
avoir
pour
but
de
générer
page
html.
php
être
langage
impératif
proche
c.
cours
html/php
php
généralité
php
:
deux
type
de
”zones”
délimiter
par
<
?
?>
zone
entre
<
?
?>
:
code
php
à
exécuter
(similaire
à
code
c).
zone
à
l’extérieur
de
<
?
?>
:
texte
balise
être
recopier
dans
contenu
html
généré.
cours
html/php
php
généralité
php
:
variables
nom
d’une
variable
commencer
par
$
$i,
$utilisateur,
$id,
.
.
.
affectation
en
c
:
$i
=
valeur
;
variables
être
déclarer
en
c.
variable
exister
dès
l’on
avoir
faire
affectation
dessus.
variable
pouvoir
contenir
nombre,
chaˆıne
de
caractères,
booléen
(en
réalité
entier
en
c)
tableau.
cours
html/php
php
généralité
php
:
génération
contenu
deux
méthode
:
mettre
texte
à
l’extérieur
de
<
?
?>.
utiliser
l’instruction
print
:
print
valeur
;
valeur
être
évaluer
transformer
en
texte.
texte
être
ajouter
à
suite
contenu
html
généré.
pouvoir
utiliser
echo
à
place
de
print.
pouvoir
considérer
texte
mettre
à
l’extérieur
de
<
?
?>
être
passer
en
argument
à
print.
cours
html/php
php
généralité
php
:
chaˆınes
de
caractère
délimiter
par
guillemet
simples
(’cha^
ıne’)ou
doubles
("cha^
ıne").
variable
apparaˆıt
dans
chaˆıne
avec
guillemet
doubles,
être
remplacer
par
valeur
(convertie
en
chaˆıne
de
caractères).
print
"<p>mon
nom
être
$nom</p>"
;
variables
apparaître
dans
guillemet
simples
être
remplacées.
un
.
entre
deux
chaˆınes
concatène.
print
"<p>mon
nom".$nom."</p>"
;
cours
html/php
php
généralité
php
:
opérateur
courants
arithmétiques
:
+
(addition),
-
(soustraction),
*
(multiplié),
/
(divisé),
%
(modulo),
++
(incrément),
--
(décrément).
de
comparaison
:
==
(égalité),
<
(inférieur
strict),
<=
(inférieur
large),
>,
>=,!
!=
(différence)
logiques
:
and,
&&
(et),
or,
||
(ou),
xor
(ou
exclusif),!
!(non)
cours
html/php
php
généralité
php
:
tableau
syntaxe
similaire
c
:
$mon
tableau[2]
=
"coucou"
;
ranger
"coucou"
dans
case
numéro
print
$mon
tableau[2]
;
générer
texte
coucou.
$mon
tableau[]
=
valeur
;
ajouter
case
tableau
$mon
tableau
ranger
valeur.
premier
caser
d’un
tableau
porter
numéro
@ord@
pour
créer
tableau
vide,
pouvoir
utiliser
:
$mon
tableau
=
array()
;
cours
html/php
php
généralité
php
:
tableau
associatifs
tableau
associer
valeur
à
chaˆıne
de
caractères.
syntaxe
:
$personne[’prenom’]
=
’toto’
;
associer
valeur
’toto’
à
chaˆıne
’prenom’.
print
$personne[’prenom’]
;
générer
texte
toto.
cours
html/php
php
généralité
php
:
contrôle
structure
de
contrôle
similaires
à
de
c
:
if
(...)
{
...}
else
{
...}
for(...
;...
;...)
{
...}
while
(...)
{
...}
inclusion
d’un
autre
fichier
php
:
include(”nom
fichier.php”)
;
cours
html/php
php
généralité
php
:
fonction
définition
de
fonction
:
function
nom
fonction($param1,
$param2,
...)
{
...
}
pour
renvoyer
résultat
dans
fonction
:
return
valeur
;
cours
html/php
php
gestion
formulaire
php
:
récupération
paramètre
principe
:
l’interpréteur
php
initialiser
tableau
associatif
associer
à
nom
de
paramètre
valeur.
nom
tableau
initialiser
dépendre
de
méthode
:
$
post
pour
méthode
post
$
get
pour
méthode
get
exemple
:
afficher
valeur
paramètre
nom,
s’il
être
transmettre
par
méthode
post.
print
$
post[’nom’]
;
cours
html/php
php
accès
à
mysql
accès
à
base
de
donnée
mysql
cinq
étape
:
1
connexion
sgbd.
2
sélection
d’une
base.
3
envoi
d’une
requête.
4
récupération
utilisation
résultat.
5
fermeture
de
connexion.
pouvoir
itérer
étape
3
4
de
fois
l’on
vouloir
avant
de
fermer
connexion
à
l’étape
5.
cours
html/php
php
accès
à
mysql
connexion
connexion
sgbd
:
$user
=
’toto’
;
$passwd
=
’mdptoto’
;
$machine
=
’localhost’
;
machine
tourner
php
$connect
=
mysql
connect($machine,$user,$passwd)
die(’echec
de
connexion
sgbd’)
;
choix
de
base
:
$bd
=
’entreprise’
;
mysql
select
db($bd,$connect)
or
die(’echec
de
selection
de
base’)
;
fermeture
(après
requêtes)
:
mysql
close($connect)
;
cours
html/php
php
accès
à
mysql
envoi
de
requête
$requete
=
’une
requete
sql’
;
$resultat
=
mysql
query($requete,$connect)
die(’erreur
durant
l’exécution
de
requ^
ete’)
;
exemple
:
$salaire
max
=
20000
;
$requete
=
"select
nom
from
employe
"
."
where
salaire
<=
$salaire
max"
;
$resultat
=
mysql
query($requete,$connect)
die(’erreur
durant
l’exécution
de
requ^
ete’)
;
durant
phase
de
développement,
pouvoir
être
utile
d’afficher
$requete
avant
envoi
sgbd.
cours
html/php
php
accès
à
mysql
exploitation
résultat
d’une
requête
coder
type
pour
parcourir
résultat
:
while
($nuplet
=
mysql
fetch
assoc($resultat))
{
...
}
boucle
while
permettre
de
parcourir
n-uplets
former
résultat
(un
n-uplet
par
tour
de
boucle).
$nuplet
être
tableau
associatif
associer
à
attribut
résultat
valeur
pour
n-uplet
courant.
requête
être
mise
à
jour,
être
inutile
de
parcourir
résultat.
cours
html/php
php
accès
à
mysql
exemple
$salaire
max
=
20000
;
$requete
=
"select
nom,salaire
from
employe
"
."
where
salaire
<=
$salaire
max"
;
$resultat
=
mysql
query($requete,$connect)
die(’erreur
durant
l’exécution
de
requ^
ete’)
;
print
"<h3>employés
gagner
de
"
."$salaire
max
euro
par
an</h3>"
;
while
($nuplet
=
mysql
fetch
assoc($resultat))
{
$nom
=
$nuplet[’nom’]
;
$sal
=
$nuplet[’salaire’]
;
print
"<p>$nom
gagner
$salaire
euro
par
ans.</p>"
;
}
cours
html/php
php
session
session
:
?
pouvoir
être
utile
de
conserver
information
d’une
page
sur
l’autre.
par
exemple
:
souvenir
login
de
l’utilisateur
souvenir
référence
indiquer
à
l’utilisateur
s’intéresse
souvenir
dernières
page
vistées
par
l’utilisateur
etc
jusqu’ici,
seul
moyen
:
utiliser
paramètre
penser
à
remettre
à
lien
dans
formulaire
⇒
programmation
fastidieuse
source
de
problèmes.
cours
html/php
php
session
session
session
pouvoir
être
vue
ensemble
d’informations
concernant
utilisateur
d’un
site.
par
utilisateur,
entendre
navigateur
sur
machine
information
être
conserver
entre
deux
page
page
php
pouvoir
ajouter
modifier
information
en
php,
session
être
voir
variable
spéciale
appeler
$
session
:
c’est
tableau
associatif
valeur
être
conserver
d’une
page
sur
l’autre
cours
html/php
php
session
utilisation
session
en
php
page
php
utiliser
session
devoir
obligatoirement,
avant
d’afficher
soit,
commencer
par
l’instruction
:
session
start()
;
instruction
créer
variable
$
session
remplir
avec
valeur
qu’elle
avoir
dans
page
php
précédente.
variable
$
session
manipuler
tableau
associatif
classique.
cours
html/php
php
session
déconnexion
lorque
l’utilisateur
déconnecte,
être
important
de
détruire
session
par
exemple
pour
éviter
qu’une
second
personne
utiliser
ordinateur
faire
passer
pour
premier
personne
pour
détruire
session
:
$
session
=
array()
;
session
write
close()
;
document
outline
page
web
html
structurer
de
base
formulaire
php
généralité
gestion
formulaire
accès
à
mysql
session
